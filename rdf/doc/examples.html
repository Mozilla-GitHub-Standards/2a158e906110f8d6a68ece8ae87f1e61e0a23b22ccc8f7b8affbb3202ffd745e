
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

  <title>Examples of Using RDF with Mozilla</title>
 <script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">

 

 
  <h1>Examples of Using RDF with Mozilla</h1>

  <div>
   Contact: <a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com)
  </div>

  <p>
   This page provides links to some examples that demonstrate how to
   use RDF in Mozilla.
  </p>

  <p>
   Examples marked with a &ldquo;*&rdquo; won't run directly from HTTP
   due to security issues. They are, however, self-contained, and can
   be downloaded and saved to your hard drive. Once you've done that,
   you'll need to package the example properly into a chrome JAR to
   run it.
  </p>

  <p>
   Examples marked with a &ldquo;&dagger;&rdquo; will run if you've
   installed

   <a href="x509.cacert">this certificate</a>

   in your Mozilla-based browser.
  </p>

  <dl>

   <dt>*<a href="rdf-js-example.xul">RDF, JS, and XUL templates</a></dt>
   <dd>
    <p>
     A quick example that demonstrates how to create an in-memory
     datasource from trusted JavaScript, populate it, and display its
     contents using a XUL template in an outliner.
    </p>
   </dd>

   <dt><a href="rdf-all-resources-example.html">Displaying the Contents of a Datasource</a></dt>
   <dd>
    <p>
     This example (submitted by Adam Fletcher
     <code>&lt;adamf@rovia.com&gt;</code>) demonstrates use of the
     low-level RDF APIs to dump the complete contents of a datasource
     using the <code>GetAllResources</code> API of
     <code>nsIRDFDataSource</code>.
    </p>
   </dd>

   <dt><a href="buddy.xul">An example of a template-within-a-template</a></dt>
   <dd>
    <p>
     This example was created as straw-man for integrating the AOL
     Instant Messenger ``offline'' buddy list into the normal buddy
     tab. It's interesting because it contains a template within a
     template: a statically create <code>&lt;treeitem&gt;</code> is
     mixed in with the generated content to display the set of
     <em>Offline</em> buddies using the same data.
    </p>
   </dd>

   <dt>*<a href="wrapper.xul">An example of a JS-implemented `wrapper' datasource</a></dt>
   <dd>
    <p>
     This example was created to demonstrate how you'd write a
     `wrapper' datasource in JavaScript that intercepts queries for
     another datasource, and augments or modifies them. In this
     example, the <code>rdf:files</code> datasource (which renders the
     file system as a datasource) is wrapped with a silly wrapper that
     computes the ROT-13'd value of the file name.
    </p>
   </dd>

   <dt>&dagger;<a href="jar:http://www.mozilla.org/rdf/doc/history-example.jar!/test.html">An example that illustrates how to observe Mozilla's global history</a></dt>

   <dd>
    <p>
     The following code illustrates how one might observe Mozilla's
     global history from trusted JavaScript (i.e., <em>chrome</em> or
     a

     <a href="http://www.mozilla.org/projects/security/components/signed-scripts.html">signed script</a>

     with the <code>UniversalXPConnect</code> privilege enabled).
    </p>

    <pre>var RDF =
  Components.classes["@mozilla.org/rdf/rdf-service;1"].
  getService(Components.interfaces.nsIRDFService);

var history =
  Components.classes["@mozilla.org/rdf/datasource;1?name=history"].
  getService(Compponents.interfaces.nsIRDFDataSource);

var observer = {
  onAssert : function(ds, s, p, t) {
    if (s == RDF.GetResource("NC:HistoryRoot") &&
        p == RDF.GetResource("http://home.netscape.com/NC-rdf#child")) {
      /* A new page was added; it's URL is 't.Value'. */
    }
  },

  onUnassert : function(ds, s, p, t) {
    /* Page removed from history, etc. */
  },

  onChange : function(ds, s, p, oldt, newt) {
    /* Visit date updated, etc. */
  },

  onMove : function(ds, olds, news, p, t) {},
  beginUpdateBatch : function(ds) {},
  endUpdateBatch : function(ds) {}
};

history.AddObserver(observer);</pre>

    <p>
     Note that the <code>onMove</code>, <code>beginUpdateBatch</code>,
     and <code>endUpdateBatch</code> methods need not provide
     implementation, as the global history datasource should not
     invoke these methods.  For more information on the notifications
     that are sent by the global history datasource, take a look at

     <a href="http://lxr.mozilla.org/seamonkey/source/xpfe/components/history/src/nsGlobalHistory.cpp">the source</a>,

     or augment the above listener to <code>dump()</code> verbosely as
     it receives notifications.
    </p>
   </dd>

   <dt>&dagger;<a href="http://www.maubi.net/~waterson/mozilla/examples/refresh.html">Refreshing a datasource</a></dt>
   <dd>
    <p>
     This example demonstrates how to use the
     <code>nsIRDFRemoteDataSource::Refresh</code> method to update the
     contents of a datasource (and the template that observes it)
     dynamically.
    </p>
   </dd>
  </dl>
 


<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January  1,  2003</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/rdf/doc/examples.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
