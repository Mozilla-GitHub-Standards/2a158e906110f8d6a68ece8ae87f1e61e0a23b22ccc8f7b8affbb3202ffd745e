
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

   <title>Building Camino&reg;</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<h1>
<img src="fizzilla.gif" width=136 height=110 align="right" alt="The Fizzilla Happy Gecko Logo">
Camino&reg;</h1>
         
<address>by Mike Pinkerton</address>

<p>The purpose of this page is to guide you through building and
running <a href="/projects/camino">Camino&reg;</a>. Camino is a
stand-alone web browser powered by the Gecko rendering engine. It
shouldn't be confused with <a href="Cocoazilla.html">Cocoazilla</a>,
which is just one piece of Camino.</p>

<h3>Goals:</h3>

<ul>
   <li>Native UI, written using Cocoa and InterfaceBuilder</li>
   
   <li>Leverage the embeddable Gecko Cocoa view provided by <a href="Cocoazilla.html">CHBrowserView</a></li>
   
   <li>Buildable and debuggable from Xcode</li>
   
   <li>No email, no address book, no being able to search the web
   from your javascript console. Just a browser, plain and
   simple.</li>
</ul>

<h2>Building</h2>

<p>Because Camino is now built from the Mozilla trunk, doing a Camino build is
very similar to doing a <a href="../../build/mac.html">regular Mozilla build</a>,
with a special configuration: The <code class="filename">.mozconfig</code> file
must contain:

<pre class="code">. $topsrcdir/camino/config/mozconfig</pre>

<p>Keep reading for detailed instructions.</p>

<h3>Preparing to to build</h3>
<p>
First, make sure you have Panther and Xcode 1.1 or later. Panther and Xcode are now required for building Camino. (Note that this is not
a requirement to build Mozilla.) When installing Xcode, you have to perform a custom installation. During install, click
the "Customize" button and turn on the "Cross Development" section. If you have previously installed Xcode without this option,
go back and install it now.
</p>
<p>
Follow the instructions on the <a href="../../build/mac.html#Installing_required_software">Mac build page</a> for 
installing Fink, using it to install Orbit, and on downloading and installing the Shared Menus framework. As stated 
in those instructions, if you are upgrading from Jaguar to Panther, we recommend that you remove /sw entirely and 
start fresh with the 0.7.0 fink install. 
</p>
<p>
In addition to installing the Shared Menus framework, Camino needs a reference to the framework in the
SDK folder for 10.2.8:</p>
<ol>
<li><p>Check to see if you have the folder <code>/Developer/SDKs/MacOSX10.2.8.sdk</code>. If so, skip to the next step.</p>
<p>Otherwise, check for the folder <code>/Developer/SDKs/MacOSX10.2.7.sdk</code>. If you have it, create a symlink:<br />
<pre>$ ln -s /Developer/SDKs/MacOSX10.2.7.sdk /Developer/SDKs/MacOSX10.2.8.sdk</pre>
If not, install the Cross Development tools as described above.
<li>
<pre>$ mkdir -p /Developer/SDKs/MacOSX10.2.8.sdk/Library/Frameworks</pre>
<li>
<pre>$ cd /Developer/SDKs/MacOSX10.2.8.sdk/Library/Frameworks
$ ln -s /Library/Frameworks/SharedMenusCocoa.framework SharedMenusCocoa.framework
</pre>
</ol>

<h3>Building Mozilla and Camino</h3>

<ol>
    <li>
    <p>Set up your CVS environment, as described in
    <a href="../../build/mac.html#Building_Mozilla">steps 1-2 on the Mac build page</a>.</p>

    <li><p>Pull client.mk and the core mozconfig:</p>
    <pre>$ cvs co mozilla/client.mk mozilla/camino/config</pre>
    <p>Now cd into the mozilla directory:</p>
    <pre>$ cd mozilla</pre>
    </li>
    <li>
    <p>As described in <a href="../../build/mac.html#build_config">step 4</a>, you now need to set
    some build options in the <code>.mozconfig</code> file for Camino.
    In your mozilla directory, create a file called <strong><code>.mozconfig</code></strong>
    (note the leading period). In that file, put the following:</p>
    
    <pre class="code">. $topsrcdir/camino/config/mozconfig</pre>
    
<p>This results in an optimized build. If you want to build
    mozilla debug, replace the last two lines with the following:</p>
    
    <pre class="code">ac_add_options --disable-optimize
ac_add_options --enable-debug</pre>
    
    <p>It's important that you know if you're building mozilla debug
    or optimized, because you <b>must</b> match that setting when
    building Camino from Xcode, otherwise key build
    variables won't get correctly set and vtables will be out of
    alignment. The net result is that either you won't link, or
    you'll crash at startup.</p>

    <p>If you want to do a <i>static</i> build of Camino (this means
    that most of the components are compiled directly into the
    Camino binary), you can add the following lines to your
	<code>.mozconfig</code>:</p>

    <pre class="code">ac_add_options --disable-shared
ac_add_options --enable-static</pre>
    
    <p>Static builds are <b>not</b> recommended for development.</p>
    <p>If your machine has two CPUs, you can take advantage of that while building Camino. Add
    the following to your <code>.mozconfig</code>:</p>
    <pre class="code">mk_add_options MOZ_MAKE_FLAGS=-j3</pre>
    </li>
    <li><p>Fire off the build:</p>
    <pre>$ make -f client.mk</pre>
    <p>This will automatically pull and build Mozilla and Camino. The Camino package ends up
    in <code>mozilla/camino/build</code>.</p>
    </li>

</ol>

<h3>Development</h3>

<p>
To work on Camino front-end code, open up the Camino.xcode project in Xcode. You can
edit code, and build and run inside of Xcode. If you find that you need to edit Cocoa
widget code, you can <code>make</code> in <code>mozilla/widget/src/cocoa</code>. The easiest
way to get the new version of the library into Camino to test it is to use <code>cp</code>
to copy it inside the package (into <code>mozilla/camino/build/Camino.app/Contents/MacOS/components</code>).
Or you can <code>make</code> in <code>embedding/config</code> and <code>mozilla/camino</code> again.
</p>

<hr>


<h2>FAQ</h2>

<h3>What if mozilla doesn't build?</h3>

<p>Despite our best efforts, sometimes the mozilla tree is red. You
can check the status before you pull on <a href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Camino&hours=5&nocrap=1">tinderbox</a>.
If the mac builds or the unix builds are red, you probably should
avoid checking out. If your build fails, just wait until things go
green again and repull mozilla.</p>

<h3>I get a link error when building Cocoazilla</h3>

<p>This is most certainly because you built mozilla as optimized and
are trying to build Camino as debug, or the other way around. You
should follow the instructions above to use "make" to build Camino
as it will greatly simplify this process.</p>

<h3>Camino crashes at startup, what's wrong?</h3>

<p>Again, you probably built one as opt and the other as debug. Make
sure they match and try again.</p>

<h3>I get errors that the Camino build failed at some
&lt;CopyFilesX&gt; where X is some number.</h3>

<p>Usually this is because you:</p>

<ul>
   <li>forgot to make in embedding/config</li>
   
   <li>forgot to enable crypto or one of the extensions in your
   <code>.mozconfig</code></li>
</ul>

<p>Make sure you follow the directions to the letter, and try
again.</p>

<h3>What happened to the Chimera project?</h3>

<p>For copyright reasons, we were unable to continue using the <i>Chimera</i> name. Unfortunate
but true, and very much out of our control.
</p>

<h3>The new name sucks. Will you change it?</h3>

<p>Bite me.</p>

<p>

<hr>

</p>

<h2>What If It Still Doesn't Work?</h2>

<p>There are two places to go for help building Fizzilla:</p>

<ul>
   <li>the #camino channel at irc.mozilla.org is a good place to
   find some mac weenies in real time who, if you ask nicely and
   don't be a pest, will happily get you on your way</li>
   
   <li>join and post to the Camino mailing list on mozdev.org</li>
</ul>

<p>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified February  9,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/ports/fizzilla/ChimChim.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
