
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

   <title>Cocoazilla Homepage</title>
   <meta name=GENERATOR content="Claris Home Page 3.0 30 Day Trial">
   <x-claris-window top=135 bottom=795 left=138 right=669>
   <x-claris-tagview mode=minimal>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">

<!--This file created 9/23/02 4:33 PM by Claris Home Page version 3.0 30 Day Trial-->


<p><table border=0 cellspacing=0 cellpadding=0 width="100%">
   <tr>
      <td width=312>
         <h1>CHBrowserView</h1>
         
         <p>by Mike Pinkerton</p>
      </td>
      <td>
         <p align=right><img src="fizzilla.gif" width=136 height=110 align=bottom></p>
      </td>
   </tr>
</table>
</p>

<h3>Goals:</h3>

<ul>
   <li>Provide a Cocoa NSView for embeddors - this is done with
   <i>CHBrowserView</i>.</li>
   
   <li>Native widgets - a native Cocoa app is going to want native
   widgetry</li>
   
   <li>Buildable from ProjectBuilder - we will provide a Cocoa
   framework for Gecko</li>
</ul>

<h3>Topics:</h3>

<ul>
   <li>Building</li>
   
   <li>Embedding</li>
</ul>

<p>

<hr>

</p>

<h2>Building</h2>

<p>To build the standalone mozilla with the Cocoa widget library:</p>

<p><table border=0 width="100%">
   <tr>
      <td>
         <p>1. Follow the instructions on the FizzillaMach build page
         for setup, pulling and building.</p>
      </td>
   </tr>
   <tr>
      <td>
         <p></p>
      </td>
   </tr>
   <tr>
      <td>
         <p>2. Create a file called .mozconfig in your mozilla
         directory. In it, put the following line</p>
         
         <blockquote><pre>ac_add_options --enable-default-toolkit=cocoa</pre></blockquote>
      </td>
   </tr>
   <tr>
      <td>
         <p></p>
      </td>
   </tr>
   <tr>
      <td>
         <p>3. Configure, and build again. This will replace the
         Carbon widget implementation with Cocoa.</p>
         
         <blockquote><pre>% ./configure
% make -f client.mk build</pre></blockquote>
      </td>
   </tr>
</table>
</p>

<p>Once you've done that, things get more interesting. We next move
to building the embedded test app for Cocoa.</p>

<p><table border=0 width="100%">
   <tr>
      <td>
         <p>1. Build embed.jar</p>
         
         <ul>
            <li>% cd embedding/config</li>
            
            <li>% make</li>
         </ul>
      </td>
   </tr>
   <tr>
      <td>
         <p></p>
      </td>
   </tr>
   <tr>
      <td>
         <p>2. Build the mozilla framework for embedding with
         ProjectBuilder. Note that this is a ProjectBuilder 2.0
         project and may not work in ProjectBuilder 1.x on OSX
         10.1.5</p>
         
         <ul>
            <li>Double-click
            mozilla/embedding/browser/cocoa/src/NSBrowserView.pbproj</li>
            
            <li>Click the build button</li>
         </ul>
      </td>
   </tr>
   <tr>
      <td>
         <p></p>
      </td>
   </tr>
   <tr>
      <td>
         <p>3. Enjoy!</p>
      </td>
   </tr>
</table>
</p>

<h2>Embedding</h2>

<p>&lt;More to come on how this actually works&gt;</p>

<p>There are three parts to the Cocoa effort:</p>

<ol>
   <li>Widget/GFX impemented in Cocoa</li>
   
   <li>An CHBrowserView that subclasses NSView and wraps all of
   Gecko</li>
   
   <li>The Cocoa-based embedding application</li>
</ol>

<p>Currently, only the widget library has been ported to Cocoa, and
not yet all of it. It works pretty well for embedded applications (like Camino). If you'd like to work on it,
the code lives in <a href="http://lxr.mozilla.org/seamonkey/source/widget/src/cocoa">mozilla/widget/src/cocoa</a>.</p>

<p>The <a href="http://lxr.mozilla.org/seamonkey/source/embedding/browser/cocoa/src/CHBrowserView.mm"><i>CHBrowserView</i></a>
lives in <a href="http://lxr.mozilla.org/seamonkey/source/embedding/browser/cocoa/src/">mozilla/embedding/browser/cocoa/src/</a>.
It's a good place to look at what it takes to wrap all of the
embedding interfaces Gecko implements.</p>

<p>Our test harness for embedding the <i>CHBrowserView</i> lives in
<a href="http://lxr.mozilla.org/seamonkey/source/embedding/tests/cocoaEmbed">mozilla/embedding/tests/cocoaEmbed</a>.
It's a good place to learn about how to utilize an
<i>CHBrowserView</i> in a real-world application.</p>

<p>

<hr>

</p>

<h2>What If It Doesn't Work?</h2>

<p>There are two places to go for help building Fizzilla:</p>

<ul>
   <li>the #mozilla channel at irc.mozilla.org is a good place to
   find some mac weenies in real time who, if you ask nicely and
   don't be a pest, will happily get you on your way</li>
   
   <li>post to the newsgroup netscape.public.mozilla.macosx</li>
</ul>

<p>

<hr>

written by Mike Pinkerton (<a href="mailto:pinkerton@netscape.com">pinkerton@netscape.com</a>)</p>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 10,  2003</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/ports/fizzilla/Cocoazilla.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
