<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">


  <meta name="generator" content=
  "HTML Tidy for Windows (vers 6 November 2007), see http://tidy.sourceforge.net/">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="Author" content="Charley Manske">

  <title>Miscellaneous Composer Dialogs</title>

  <link rel="up" href="../" title="Mozilla Editor">

<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">








  <p class="crumbs"><em>You are here:</em> <a href="../">Mozilla Editor</a>
  &gt; <strong>Miscellaneous Composer Dialogs</strong></p>

  <h1>Miscellaneous Composer Dialogs</h1>

  <address class="author">
    by Charles Manske
  </address>

  <h2 id="HorizontalLinePropertiesDialog">1. Horizontal Line 
  Properties</h2>

  <p>Windows: <img src="HLineDlg_W.gif" height="253" width="294" alt=""></p>

  <p>Mac: <img src="HLineDlg_M.jpg" height="185" width="349" alt=""></p>

  <h3>Invoke</h3>

  <ul>
    <li>When a horizontal rule element is the only thing selected, the
    dynamic "Properties" item in the Format menu should say: "Horizontal
    Line Properties." This will bring up the Horizontal Line dialog.</li>

    <li>Double click on a horizontal line.</li>

    <li>Note: We <em>do not</em> invoke this dialog when creating a new
    horizontal line (Insert | Horizontal Line), unlike other inserted
    objects such as table, image, target, and HTML tag, because this is a
    relatively simple object and thus will most likely be used with the
    same properties as the last horizontal rule inserted. The initial
    values of Height, Width, Alignment, and 3-D Shading should be obtained
    from Editor Preferences (editor.hrule.height, editor.hrule.width,
    editor.hrule.width_percent, editor.hrule.shading, and
    editor.hrule.align ) rather than the usual method of getting settings
    from the user.</li>
  </ul>

  <h3>Initialization</h3>

  <p>1. Get the properties of the selected horizontal line and fill in
  matching fields in the dialog:</p>

  <table border width="80%">
    <col width="100">
    <col>

    <tr>
      <th>HTML Parameter</th>

      <th>Dialog Control</th>
    </tr>

    <tr valign="top">
      <td>HEIGHT</td>

      <td>Write value into Height editbox</td>
    </tr>

    <tr valign="top">
      <td>WIDTH</td>

      <td>Write value into Width editbox.<br>
      If the WIDTH value uses "%", then set the Width Units combobox to "%
      of window" <br>
      If WIDTH is not in %,  Display the text "pixels" in the
      combobox.</td>
    </tr>

    <tr>
      <td>CENTER, RIGHT</td>

      <td>Set appropriate Alignment radio button for Left, Center, and
      Right alignment.<br>
      Default when parameter is missing is "Left"</td>
    </tr>

    <tr>
      <td>NOSHADE</td>

      <td>If NOSHADE parameter is present, then clear the 3-D shading
      checkbox.<br>
      Default when not present is to check this checkbox.</td>
    </tr>
  </table>

  <p>2. The "Save settings as default" checkbox is checked the first time
  this dialog is used during the current session. If the user changes this
  setting, we store it in a global variable so the checkbox is the same as
  the user's last setting, but only during this editing session.</p>

  <h3>Actions</h3>

  <table border width="80%">
    <col width="100">
    <col>

    <tr>
      <th>Click Button</th>

      <th>Response</th>
    </tr>

    <tr valign="top">
      <td>OK or Apply</td>

      <td>
        Get the state of the controls and save the Height, Width, and
        NOSHADE values

        <ol>
          <li>Save the HEIGHT editbox value.</li>

          <li>Save the WIDTH editbox value and append "%" if the combobox
          state is "% of window"</li>

          <li>Include the NOSHADE parameter only if the "3-D shading"
          checkbox is unchecked</li>

          <li>Save the extra HTML</li>

          <li>If the "Save settings as default" checkbox is check, save the
          appropriate values to preferences: editor.hrule.height,
          editor.hrule.width, editor.hrule.width_percent,
          editor.hrule.shading, and editor.hrule.align</li>

          <li>Apply all settings to the highlighted horizontal line in the
          document.</li>

          <li>Finish:

            <ul>
              <li>If OK was used: Dismiss the dialog</li>

              <li>If Apply was used: Change the text on the "Cancel" button
              to "Close" to mimick the behavior of a buttons in a <a href=
              "Composer_5_Dialogs.html#MultipaneDialogs">multipane
              dialog</a>. The dialog should stay active.</li>
            </ul>
          </li>
        </ol>
      </td>
    </tr>

    <tr valign="top">
      <td>Cancel</td>

      <td>Dismiss the dialog and do not change any settings</td>
    </tr>

    <tr>
      <td>Extra HTML</td>

      <td>Popup the <a href="#ExtraHTMLDialog">Extra HTML dialog</a> and
      save the resulting string as the "extra HTML" for the HRule
      element.</td>
    </tr>

    <tr>
      <td>Help</td>

      <td>Bring up help for this dialog. Remain in dialog.</td>
    </tr>
  </table>

  <h3>Enhancements</h3>

  <ol>
    <li>When the current selection is a single Horizontal line, using
    "Insert | Horizontal line" edits the properties of the object rather
    than inserting a new one. We should decide if that is the behavior we
    want, as discussed in the <a href=
    "http://webgroup/composer/ImageDialogs.html#InsertElementPropertiesProblem">
    Image dialog enhancements</a>.</li>

    <li>The "% of window" text in the Width units combobox should be
    changed to "% of parent" when the HRule location or insert point in
    within a table cell.</li>

    <li>Note the differences between the current Windows and Mac versions.
    The Windows version is missing the "Apply" button and the Mac version
    is missing the "Save settings as default" checkbox. I think both should
    be present, so here is a suggested layout with all controls (note that
    the locations of OK and Help should be reversed for the Mac):<br>
    <img src="HLineDlgNew.gif" height="205" width="360" alt=""></li>
  </ol>

  <h2 id="TargetPropertiesDialog">2. Target Properties</h2>

  <p>Windows: <img src="TargetDlg_W.gif" height="136" width="260" alt=""></p>

  <p>Mac: <img src="TargetDlg_M.jpg" height="127" width="301" alt=""></p>

  <p class="note">"Target" is Netscape's term for a "named anchor" tag. We
  have been using that since the first Composer version and believe it is
  clearer. Because of the "Target" frame concept, we should revisit this
  issue.</p>

  <h3>Invoke</h3>

  <ul>
    <li>Menu: Insert | Target to create a new target. Caret can be anyplace
    in the document and anything can be selected.</li>

    <li>Toolbar: Target button (edit properties of existing target if it is
    the only thing selected, else we will create a new target)</li>

    <li>Menu: Format | Target Properties, when the only item selected is an
    existing target.</li>

    <li>Double click on an exisiting target (first mouse down should select
    the target)</li>
  </ul>

  <h3>Initialization</h3>

  <ol>
    <li>Get the current selection in the document.

      <ul>
        <li>If a single existing target is selected, then this will change
        this element.</li>

        <li>If a single target is not selected, then we will insert a new
        target</li>
      </ul>
    </li>

    <li>Get the currently-selected text from the document to use as the
    initial string in the target editobox. This string should be processed
    to:

      <ol>
        <li>Strip out extra spaces and the beginning and end</li>

        <li>Replace all whitespace characters (tabs, linefeeds, etc.) with
        spaces</li>

        <li>Limit the length of the text to be used in case selection is
        very large (about 80 characters maximum?)</li>
      </ol>
    </li>
  </ol>

  <h3>Dialog Rules</h3>

  <p>Disable the OK button when the target editbox is empty</p>

  <h3>Actions</h3>

  <table border width="80%">
    <col width="100">
    <col>

    <tr>
      <th>Click Button</th>

      <th>Response</th>
    </tr>

    <tr valign="top">
      <td>OK</td>

      <td>
        <ol>
          <li>Set target NAME data from the target editbox contents:

            <ul>
              <li>If original selection is an existing target, change the
              target NAME to the new string.</li>

              <li>If selection was not an existing target, create a new
              target with user's NAME string and insert into document at
              current insert point.</li>
            </ul>
          </li>

          <li>Dismiss the dialog</li>
        </ol>
      </td>
    </tr>

    <tr valign="top">
      <td>Cancel</td>

      <td>Dismiss dialog and do not change an existing target and do not
      insert a new target.</td>
    </tr>

    <tr>
      <td>Help</td>

      <td>Popup help for targets. Remain in target dialog.</td>
    </tr>
  </table>

  <h3>Enhancements</h3>

  <ol>
    <li>When the current selection is a single target, using "Insert |
    Target" edits the properties of the object rather than inserting a new
    one. We should decide if that is the behavior we want, as discussed in
    the <a href=
    "http://webgroup/composer/ImageDialogs.html#InsertElementPropertiesProblem">
    Image dialog enhancements</a>.</li>

    <li>Currently this is the only "object property" dialog that does not
    include an "Extra HTML" button (this is a reported bug.) For
    consistency, we should probably add this functionality to the Target
    Properties dialog.</li>
  </ol>

  <h2 id="HTMLTagDialog">3. HTML Tag</h2>

  <p>Windows: <img src="HtmlTagDlg_W.gif" height="171" width="477" alt=""></p>

  <p>Mac: <img src="HtmlTagDlg_M.jpg" height="182" width="358" alt=""></p>

  <h3>Invoke</h3>

  <p>Menu: Insert | HTML Tag</p>

  <p>Note: We have a toolbar button in 4.x and earlier versions (the
  so-called "poof" button), but we decided to remove this button for the
  5.0 toolbar (primarily to save space). If the new toolbars will
  user-configurable, we should consider including it as an optional button
  to add, but it is not in the default set.</p>

  <h3>Initialization</h3>

  <ol>
    <li>Get current selection in the document:

      <ol>
        <li>If an existing "unknown" html tag is the only element selected,
        then use the contents of this tag to fill the multiline
        editbox.</li>

        <li>If an unknown tag is not the selection, then we will insert a
        new tag.</li>
      </ol>
    </li>
  </ol>

  <h3>Actions</h3>

  <table border width="80%">
    <col width="100">
    <col>

    <tr>
      <th>Click Button</th>

      <th>Response</th>
    </tr>

    <tr valign="top">
      <td>OK</td>

      <td>Insert the HTML tag into the document at the current insertion
      point (caret location) and close the dialog.</td>
    </tr>

    <tr valign="top">
      <td>Cancel</td>

      <td>The usual - change nothing and insert nothing</td>
    </tr>

    <tr>
      <td>Verify</td>

      <td>All we do now is check that the first and last characters (after
      stripping spaces from the ends) of the string are "&lt;" and "&gt;"
      respectively.</td>
    </tr>
  </table>

  <h3 id="HTMLTagEnhancements">Enhancements / Issues</h3>

  <ol>
    <li>The Verify button doen't do anything more than check for matching
    "&lt;" and "&gt;". We should either improve this to do something more
    useful or remove the button.</li>

    <li>When the current selection is a single existing HTML tag, using
    "Insert | HTML Tag" edits the properties of the object rather than
    inserting a new one. We should decide if that is the behavior we want,
    as discussed in the <a href=
    "http://webgroup/composer/ImageDialogs.html#InsertElementPropertiesProblem">
    Image dialog enhancements</a>.</li>

    <li>The use of this dialog is much less clear with the new document
    model and layout engine. We certainly should not have any "unsupported"
    HTML tags like we did before, although this could be used to insert and
    edit an arbitrary tag. The problem is that the new Editor is not
    supposed to know anything about HTML per see, just the DOM contents, so
    it is unclear to me how to set the contents of an "unknown" or
    arbitrary tag using the DOM. The solution may be to be sure the user
    string is well-formed HTML and pass it through the parser using the
    same method we will need to paste HTML into the document.</li>

    <li>We have discussed replacing this with a more sophisticated dialog
    that might be designed as a generic Property Dialog, ala Visual Basic
    property inspectors, so a list of arbitrary tag parameters are used to
    build a grid where the left column contains these parameters and each
    has a combobox to the right where all possible legal values for that
    parameter are filled in. This combobox is used to edit the state of the
    attribute. The "possible legal values" must be obtained from a DTD
    describing the "unknown" tag and all its parameters and possible
    values.</li>
  </ol>

  <h2 id="ExtraHTMLDialog">4. Extra HTML</h2>

  <p>Windows: <img src="ExtraHtmlDlg_W.gif" height="184" width="441" alt=
      ""></p>

  <h3>Invoke</h3>

  <p>From the "Extra HTML" button present in most "object" property
  dialogs: <a href=
  "http://webgroup/composer/CharacterPropertiesDialogs.html#LinkProperties">
  Link</a>, <a href=
  "http://webgroup/composer/ImageDialogs.html#ImageProperties">Image</a>,
  <a href="#HorizontalLinePropertiesDialog">Horizontal Line</a>, <a href=
  "http://webgroup/composer/TablePropertiesDialogs.html#TableProperties">Table</a>,
  and <a href=
  "http://webgroup/composer/TablePropertiesDialogs.html#CellProperties">Table
  Cell</a>.</p>

  <h3>Initialization</h3>

  <p>Get the "extra HTML," which is all the text in a tag remaining after
  all editor-supported parameters are parsed out, from the relevant
  tag.</p>

  <p>This is most commonly scripting contents, but also will contain, for
  example, the contents of the USEMAP parameter for the &lt;IMG&gt; tag end
  up in extra HTML.</p>

  <h3>Actions</h3>

  <table border width="80%">
    <col width="100">
    <col>

    <tr>
      <th>Click Button<br>
      User Action</th>

      <th>Response</th>
    </tr>

    <tr valign="top">
      <td>OK</td>

      <td>Update the contents of the tag associated with this string</td>
    </tr>

    <tr valign="top">
      <td>Cancel</td>

      <td>Dismiss the dialog and change and insert nothing</td>
    </tr>

    <tr>
      <td>Help</td>

      <td>Bring up help topic for extra HTML</td>
    </tr>
  </table>

  <h3>Enhancements / Issues</h3>

  <p>The use of this dialog in the new editor is problematic, given that we
  are only supposed to modify a document via the DOM. We might redesign
  this dialog to reflect these architectural changes in how the editor
  works, such as those suggested for the <a href=
  "#HTMLTagEnhancements">HTML Tag dialog</a>.</p>

  <p>Another possibility is to not support editing arbitrary "extra
  parameters" in the new UI, but rather use the modularity of the new
  editor to replace "simple" with "advanced" versions of property dialogs
  to support different levels. In this case, we would probably need at
  least a "Java Script" button in all object property dialogs since that
  will be the most common usage. This JavaScript button would bring up a
  simple editor identical in format to the current Extra HTML dialog,
  unless we want to get fancy and support specific JS attributes for
  particular element types (this should definitely be on a "future
  features" list.)</p>

  <h2 id="RemoveAllCharacterStylesDialog">5. Remove All Character Styles</h2>

  <p>Windows: <img src="RemoveLink_W.gif" height="179" width="285" alt=""></p>

  <p>Mac: <img src="RemoveLink_M.GIF" height="136" width="324" alt=""></p>

  <h3>Invoke</h3>

  <p>When using the menu command "Format | Remove All Styles" or the
  "Remove all styles" toolbar button is used and:</p>

  <ol>
    <li>The current document selection contains one or more links and</li>

    <li>The preference "editor.hints.removelinks" is non-zero</li>
  </ol>

  <h3>Initialization</h3>

  <p>All strings in the dialog may be static.</p>

  <p>This is currently a "generic hint dialog," i.e., the dialog caption
  and message strings at the top of the dialog are passed in so the general
  format can be used for similar dialogs where we want to have a preference
  tied to the "don't bother me again" checkbox. The current 4.5 version
  doesn't use the other versions of the hint dialog, so we may not need to
  make this generic dialog for the 5.0 version</p>

  <h3>Actions</h3>

  <p>When either "Yes" or "No" is pressed:</p>

  <ol>
    <li>Continue clearing all character attributes in the selection, but
    remove the links only if the user clicked the "Yes" button.</li>

    <li>If the "Don't display this message again" checkbox is checked, set
    the preference "editor.hints.removelinks" to 1.</li>

    <li>Dismiss the dialog</li>
  </ol>

  <h3>Enhancements</h3>

  <p>Resolve differences in design between different platform versions.</p>

  <h2 id="NumericRangeError">6. Numeric Range Error</h2>

  <p>Windows: <img src="NumericErrorDlg_W.gif" height="119" width="285" 
  alt=""></p>

  <p>Mac: <img src="NumericErrorDlg_M.gif" height="183" width="318" 
  alt=""></p>

  <h3>Invoke</h3>

  <p>Used by numerous property dialogs when an user-enterred editbox or
  combobox value is outside of a given range of integers.</p>

  <h3>Initialization</h3>

  <p>Fill in the minimum and maximum allowable values (passed into the
  dialog) into the message string and display this message.</p>

  <h3>Actions</h3>

  <p>After user clicks OK, dismiss the dialog and put the focus in the edit
  field where the error occured</p>

  <h3>Enhancements</h3>

  <p>Resolve differences in design between different platform versions.</p>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January 15,  2008</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/editor/ui_specs/MiscDialogs.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
