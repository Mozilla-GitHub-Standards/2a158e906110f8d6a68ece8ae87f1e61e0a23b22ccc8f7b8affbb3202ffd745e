<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

   <meta name="Author" content="Charley Manske">
   <meta name="GENERATOR" content="Mozilla/4.5 [en]C-NSCP  (WinNT; U) [Netscape]">
   <title>Spelling Dialogs</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<h1>
Spelling Dialogs</h1>

<div align=right><font size=-1>Last updated 1/21/99 by Charles Manske</font>
<br><font size=-1>(<a href="mailto:cmanske@netscape.com">cmanske@netscape.com</a>)</font></div>

<h2>
1.&nbsp;<a NAME="SpellCheckerDialog"></a>Spell Checker Dialog</h2>
The new layout of spell checking controls was implemented in the Windows
version of MozillaClassic, but only the dialog layout, not any changes
in underlying behavior necessary to match this layout. This was redesigned
to be more like other word processors, such as Microsoft Word(&reg;), and
should be considered the starting point for designing a new version for
Mozilla/Communicator 5.0.
<br>&nbsp;
<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="SpellChecker_W.gif" height=249 width=392></td>

<td></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>Menu: Tools | Check Spelling (should also have an accelerator
key, which we currently have trouble agreeing on among the different platforms.)</blockquote>

<h3>
Initialization</h3>

<ol>
<li>
Fill the list of Languages by querying the spellcheck module for available
languages.</li>

<li>
Start the spell check module using the current language (obtained from
the preferences "editor.")</li>

<ul>
<li>
If text is selected, do spell checking only within the selected text. After
checking the selected text, ask the user if they want to check the rest
of the document.</li>

<li>
If text is not selected, start searching for the first misspelled work
starting from the top of the document.</li>
</ul>

<li>
Search for the first misspelled word (this is what I call the "search and
suggest" action):</li>

<ul>
<li>
If a word is found, put it in the "Word" editbox, get the list of suggested
replacements from the spell checker and display them in the "Suggestions"
listbox. The "Ignore" button should be the default action (what happens
when the user presses the Enter key.)</li>

<li>
If no misspelled word is found:</li>

<ol>
<li>
The "Word" editbox is empty and disabled.</li>

<li>
Disable all buttons except for "Close," "Edit," and the "Language" combobox.</li>

<li>
Set the focus the "Close" button so that is the default action and the
user can simply press the Enter key to dismiss the dialog.</li>
</ol>
</ul>

<li>
This dialog is nonmodal, so the user can click into the document and edit
it while the spell check dialog is still active.</li>
</ol>

<h3>
Dialog Rules</h3>

<blockquote>When the "Word" editbox is empty:
<ol>
<li>
Disable the "Suggest" and "Add" buttons</li>

<li>
Change the text on the "Replace" button to "Delete"</li>

<li>
Change the text on the "Replace All" button to "Delete All"</li>
</ol>
After user types something into this editbox, the button enabling and text
should change back to the normal state.</blockquote>

<h3>
Actions</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th VALIGN=TOP WIDTH="100">Click Button</th>

<th>Response</th>
</tr>

<tr>
<td VALIGN=TOP>Suggest</td>

<td>Rebuild the "Suggest" list using current text in the "Word" editbox
as the text to lookup.</td>
</tr>

<tr>
<td VALIGN=TOP>Ignore</td>

<td>
<ol>
<li>
Do not replace the currently-selected text.</li>

<li>
Repeat the "search and suggest" action to find the next misspelled word.</li>
</ol>
</td>
</tr>

<tr VALIGN=TOP>
<td>Ignore All</td>

<td>
<ol>
<li>
Do not replace the currently-selected text</li>

<li>
Save the text ignored and don't match to it during subsequent "search and
suggest" actions</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Replace / Delete</td>

<td>
<ol>
<li>
Get the "Word text" from the "Word" editbox and strip spaces</li>

<li>
Replace the last-found misspelled word with the "word text".</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Replace All / Delete All</td>

<td>
<ol>
<li>
Get the "Word text" from the "Word" editbox and strip spaces</li>

<li>
Replace all occurences of the last found misspelled word with the "Word
text"</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Add</td>

<td>
<ol>
<li>
Get the "Word text" from the "Word" editbox and strip spaces</li>

<li>
If the "word text" from the editbox is different from the last-found misspelled
word, replace the misspelled word with the "word text"</li>

<li>
Add the "word text" from to the current user dictionary (obtained from
the "SpellChecker.PersonalDictionary" preference.)</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Edit</td>

<td>Popup the <a href="#PersonalDictionaryDialog">Personal Dictionary
Dialog</a>. Remain in the main spell check dialog after returning from
the Personal Dictionary dialog.</td>
</tr>

<tr VALIGN=TOP>
<th>User Action</th>

<td></td>
</tr>

<tr>
<td VALIGN=TOP>Select a word in the "Suggest" listbox</td>

<td VALIGN=TOP>Place the text from the selected "Suggest" list into the
"Word" editbox. This will be the text to use to replace a misspelled word.</td>
</tr>

<tr>
<td VALIGN=TOP>Selected a language in the "Language" popup list</td>

<td VALIGN=TOP>Restart the initial "search and suggest" actions using the
newly-selected language for the dictionary.</td>
</tr>
</table>
</blockquote>

<h3>
Enhancements</h3>

<blockquote>While this new version is much closer to spell checkers in
other word processors, there are still some differences that we should
consider for our new dialog:
<ol>
<li>
Microsoft Word has separate editboxes called "Not in dictionary" and "Change
to" instead of our single "Word" editbox. The reason that might be desirable
is to show explicitly what text is being replaced with what. In our implementation,
what I refer to above as the "last-found misspelled word" must be saved
and is separate from the "Word" editbox value, which may be changed by
the user. This is confusing to the user when the user edits the text in
the "Word" editbox or deletes it entirely. In that state, the text that
is being replaced is not visible in our implementation.</li>

<li>
Consider using the term "Learn" instead of "Add" (to the the personal dictionary.)
"Learn" is used in Communicator 4.x and earlier implementations.</li>

<li>
Consider using the terms "Change" and "Change All" (used by MS Word) instead
of "Replace" and "Replace All" (which are more compatable with the Find/Replace
dialog.)</li>

<li>
Start spell checking from the current insert point (caret location) rather
than the top of the document. After reaching the end of the document, spell
checking should continue from the top until the original insert point is
reached.</li>
</ol>
</blockquote>

<h2>

<hr ALIGN=LEFT WIDTH="100%">2.&nbsp;<a NAME="PersonalDictionaryDialog"></a>Personal
Dictionary Dialog</h2>

<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="EditDictionaryDlg_W.gif" BORDER=0 height=361 width=333></td>

<td></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>Click on the "Edit" button in the <a href="#SpellCheckerDialog">Spell
Checker Dialog</a>.</blockquote>

<h3>
Initialization</h3>

<ol>
<li>
The "New Word" editbox is initially empty</li>

<li>
The "Words" list is filled with the words from the current user dictionary,
but no item is initially selected.</li>

<li>
All buttons are initially disabled except for</li>
</ol>

<h3>
Dialog Rules</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th>User Action</th>

<th>Result</th>
</tr>

<tr>
<td VALIGN=TOP>Change the text in the "New Word" editbox</td>

<td VALIGN=TOP>Enable the "Add" button if the text is not empty, disable
if empty.</td>
</tr>

<tr>
<td>Select an item in the "Words" listbox</td>

<td VALIGN=TOP>
<ol>
<li>
Copy the text of the selected item into the "New Word" editbox</li>

<li>
Enable the Remove and Replace buttons</li>
</ol>
</td>
</tr>
</table>
</blockquote>

<h3>
Actions</h3>

<blockquote>OK, Cancel, and Help work in the usual fashion (Only OK saves
the changes to the personal dictionary file.)</blockquote>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January 25,  1999</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/editor/ui_specs/SpellCheckerDlg.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
