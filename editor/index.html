<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">

 <title>Mozilla Editor</title>
<!-- The HTML in this file was carefully hand-crafted with BBEdit. Please don't mess it up.

     In particular:
        Don't sprinkle <br>s around
        Close your <p>, <li> and other tags
        Use lower case for tags and attributes
        Enclose attribute values in double quotes
        
-->

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Language" content="en">

<script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<h1>Mozilla Editor</h1>
<hr><!--index-->
<ul class="toc">
	<li><a href="#What_is_the_editor">What is the editor?</a></li>
  <li><a href="#Editor_documentation">Editor documentation</a> 	
    <ul>
      <li><a href="#Behavior_specs">Behavior specs</a></li>
      <li><a href="#UI_specs">UI specs</a></li>
      <li><a href="#Implementation_specs">Implementation specs</a></li>
      <li><a href="#Test_plans">Test plans</a></li>
      <li>Commands (for embedding usage)</li>
      <li><a href="midas-spec.html">Rich Text Editing</a></li>
    </ul>
	</li>
  <li><a href="#Developer_information">Developer information</a></li>
  <li><a href="#Historical_information">Historical information</a></li>
  <li><a href="#Who_are_we">Who are we?</a></li>
  <li><a href="#How_can_I_help">How can I help?</a></li>
  <li><a href="#How_to_reach_us">How to reach us</a></li>
</ul>
<!--/index-->
<hr>
<h2><a name="What_is_the_editor">What is the editor?</a></h2>
<p> The Mozilla editor provides HTML and plain text editing
functionality in <a href="http://www.mozilla.org/newlayout/">Gecko</a>-based
applications. Internally, the editor code manipulates page content
primarily using <a href="http://www.w3.org/DOM/">DOM</a> calls, so it
is a true DOM-savvy editor. It also <a
 href="http://www.mozilla.org/projects/intl/input-method-spec.html">supports
IME</a> (international text input), and is mostly accessible from
JavaScript.</p>
<p>The editor is currently used in three different ways in the Mozilla
codebase, though each application shares the same underlying code:</p>
<ol>
  <li><i>Composer</i> -- a fully-fledged HTML editor, for writing web
pages.</li>
  <li><i>Embeddable HTML editing widet</i> -- a rich text editing tool,
used in mail compose, instant messaging and other areas.</li>
  <li><i>Text widget</i> -- the editor is used for text input and text
areas, both in XUL (e.g. the URL bar), and in HTML form
controls.</li>
</ol>
<p>See the <a href="#Developer_information">developer docs</a> below
for more information about how the editor works.</p>
<p>The editor code lives in <a
 href="http://lxr.mozilla.org/seamonkey/source/editor/"><code>mozilla/editor/</code></a>,
though we also rely on (and in some cases support) code in other areas,
particularly DOM range and selection (<a
 href="http://lxr.mozilla.org/seamonkey/source/dom/public/range/">DOM
interfaces</a>, <a
 href="http://lxr.mozilla.org/seamonkey/source/layout/base/src/nsRange.cpp">range</a>
and <a
 href="http://lxr.mozilla.org/seamonkey/source/layout/base/src/nsSelection.cpp">selection</a>
implementation). We also maintain the output system: code to convert a
DOM document to some form of text (to <a
 href="http://lxr.mozilla.org/seamonkey/source/htmlparser/src/nsHTMLToTXTSinkStream.cpp">plain
text</a>, or <a
 href="http://lxr.mozilla.org/seamonkey/source/htmlparser/src/nsHTMLContentSinkStream.cpp">HTML</a>).</p>
<p> Editor code is currently packaged into 3 XPCOM component DLLs: </p>
<table border="0" cellpadding="3">
  <tbody>
    <tr>
      <th>Library</th>
      <th colspan="3">DLL name*</th>
      <th>Purpose</th>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>Win32</td>
      <td>Unix</td>
      <td>Mac</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Editor</td>
      <td><code>editor.dll</code></td>
      <td><code>libeditor.so</code></td>
      <td><code>EditorCore.shlb</code></td>
      <td>Core editing functionality, interfaces with JS</td>
    </tr>
    <tr>
      <td>Transaction Manager</td>
      <td><code>txmgr.dll</code></td>
      <td><code>libtxmgr.so</code></td>
      <td><code>EditorTxmgr.shlb</code></td>
      <td>Generic transaction handling (for undo/redo support)</td>
    </tr>
    <tr>
      <td>Text Services</td>
      <td><code>txtsvc.dll</code></td>
      <td><code>libtxtsvc.so</code></td>
      <td><code>TextServices.shlb</code></td>
      <td>Provides simple interface to get text from a DOM document
(for Find and Spellcheck)</td>
    </tr>
  </tbody>
</table>
<p>*note that names in debug builds may be different.
<p> Editor user-interface files, consisting of XUL, JS, CSS and GIF
files for the editor window and dialogs live in <a
 href="http://lxr.mozilla.org/seamonkey/source/editor/ui/"><code>mozilla/editor/ui/</code></a>,
and, in a build, get installed to <code>chrome/packages/core/editor/content/</code>
and <code>chrome/skins/&lt;skin name&gt;/editor/skin/</code>. </p>
<hr>
<h2><a name="Editor_documentation">Editor documentation</a></h2>
<p>Please feel free to comment on these documents in the editor
newsgroup/mailing list; see the <a href="../community/developer-forums.html">community
page</a> for details on how to subscribe.</p>
<p class="note">Inevitably, as development progresses, some of these
documents will become out of date. Before embarking on any non-trivial
task based on information presented here, contact the <a
 href="mailto:mozilla-editor@mozilla.org">editor group</a> for the
latest details. </p>
<p> Brian King has also written some documents about <a
 href="http://www.oreillynet.com/pub/a/network/2000/06/30/magazine/mozilla_editor.html">extending
the editor</a>, at the <a href="http://www.oreillynet.com">O'Reilly
DevCenter</a>. </p>
<h3><a name="Behavior_specs">Behavior specs</a></h3>
<p> These spec documents describe the way we'd like the editor to behave
in response to various user-level actions, given the current editing
context and possible preference or other settings. They deal with
issues like "What happens if my selection point is in a paragraph, and
I type 'return'?" </p>
<ul>
  <li> <a href="rules.html">HTML Typing Rules</a>. The rules specifying
what happens     when the user hits space, return, etc. in various
document contexts.</li>
  <li> <a href="list-rules.html">List Editing Rules</a>. The rules
specifying     what happens when the user uses the list toolbar
buttons or List Properties     dialog</li>
  <li> <a href="selection-spec.html">Selection</a>. Selection is part
of layout,     but the editor team is implementing it</li>
<!--    These are woefully out of date
	<li>
	<a href="dogfood.html">Known Editor Usability Issues (Dogfood)</a> What
	do we need to fix in order for the editor to be usable for simple daily
	editing tasks?</li>
--> <li> <a
 href="adding-css-to-editor.html">Adding basic CSS 1 Support to the
Editor</a> describes a proposal for the addition of CSS 1 support to the
Editor.</li>
</ul>
<h3><a name="UI_specs">UI specs</a></h3>
<p>These specs deal with parts of the UI such as the main window,
dialogs, menus, context menus etc.</p>
<ul>
  <li>Main composer window specs. Not available yet.</li>
  <li>Mail compose specs. Not available yet.</li>
  <li>Menu specs. Not available yet. </li>
  <li>Context menu specs. Not available yet. </li>
  <li><a href="ui_specs/Composer_5_Dialogs.html">Dialog Specs</a>.
Specs for the various 	composer dialogs (somewhat outdated).</li>
  <li><a href="ui_specs/TableSpecs.html">Table Editing Specs</a>. Specs
for table editing (somewhat outdated).</li>
</ul>
<h3><a name="Implementation_specs">Implementation specs</a></h3>
<p> Some specs concerning lower-level details of specific areas in the
editor. </p>
<ul>
  <li><a href="key-event-spec.html">Key Event Specification</a> Not just
for the editor, but for the whole Mozilla app.</li>
  <li><a href="undo.html">Transaction/Undo Manager</a> A general-purpose
set of classes, usable by clients outside the editor too</li>
  <li><a href="selection-spec.html">Selection spec</a> Selection is part
of layout, but the editor team is implementing it</li>
</ul>
<h3><a name="Test_plans">Test plans</a></h3>
<p> Test plans and testcase used by QA (Quality Assurance) to determine
whether features work (i.e. to look for bugs). </p>
<ul>
  <li><a href="../quality/browser/front-end/testplans/">Composer/Browser
 Front-end Test Plans</a>.</li>
  <li><a href="../quality/browser/front-end/testcases/composer/">Composer
testcases</a></li>
</ul>
<!-- Milestone data is very out of date
<h3><a name="Pointy-head_specs">Pointy-head specs</a></h3>
<ul>
  <li><a href="milestones.html">Milestones</a> Schedule info: which features
 do we expect to add in each Mozilla milestone?</li>
</ul>
-->
<hr>
<h2><a name="Developer_information">Developer information</a></h2>
<p> The following documents are intended mainly for a developer
audience, and get down to the nitty-gritty about how the editor works. </p>
<ul>
  <li><a href="editor-internals.html">How the editor works</a> --
editor instantiation     and event handling </li>
  <li><a href="http://developer.mozilla.org/en/docs/Embedding_the_Editor">Embedding the editor in another
application</a> </li>
  <li><a href="plaintext-embedding.html">Embedding a plaintext-only
editor</a></li>
  <li><a href="editor-textwidgets.html">Editor as the text widget</a> </li>
  <li><a href="editor_commands.html">Command execution and enabling in
the UI</a></li>
  <li>The <a href="txmgr/transaction-manager.html">Transaction Manager</a>,
which allows for undo/redo. </li>
  <li>The <a href="text_services.html">Text Services</a>, a way for
clients to access the text of a DOM document easily, without
having to know about the details of the document format. </li>
</ul>
<p>Some more generic "how-to" documents </p>
<ul>
  <li><a href="find-algorithm.html">Care and Feeding of the Find
Algorithm</a></li>
  <li><a href="serializers.html">Notes on the DOM serializers</a> (how
html and plaintext output is created)</li>
  <li><a href="changeidl.html">How to modify an idl file in the DOM
IDL world</a></li>
	<li><a href="ui_specs/PropertyDialogs.html">Writing Property Dialogs
for 5.0 that use the Advanced Edit feature</a></li>
  <li><a href="logging/api-logging.html">Editor API Logging</a> --    
Allows users to record edits made to a document and play them back.</li>
  <li><a href="composer-runtime-table.html">Composer runtime table</a>
-- list of required libraries and files, with their sizes (somewhat
out of date)</li>
</ul>
<hr>
<h2><a name="Historical_information">Historical information</a></h2>
<p> As with the rest of the layout codebase, the current editor is based
on entirely new source, on top of the Gecko layout engine. There are no
parts of the old, 4.x-derived composer codebase that remain. </p>
<p>Information about the <a href="../classic/editdesc.html">old
Composer</a> is available; be warned that this code is no longer being
developed or maintained, but is still in the tree for those who might
want to reference it.</p>
<hr>
<h2><a name="How_can_I_help">How can I help?</a></h2>
<p> So you want to jump in and hack some code, tweak the UI, or write
docs or test plans? Excellent! </p>
<p> The first thing to do is to decide how you'd like to contribute.
We'd be very glad to have assistance in any of the following areas, so
let me list them, and say what kind of level of expertise would be
required for each one: </p>
<ul>
  <li>
    <p><b>Major new features (e.g. publishing)</b><br>
This would require significant work in C++ (probably creating a new    <a
 href="http://www.mozilla.org/projects/xpcom/">XPCOM</a> <a
 href="http://www.mozilla.org/docs/modunote.htm">component</a>),       
as well as UI work in <a href="http://www.mozilla.org/xpfe/">XUL and
JavaScript</a>.</p>
  </li>
  <li>
    <p> <b>Embedding the editor in another app</b><br>
This is more a matter of XUL and JS coding, unless your hosting        
application is written entirely in C++. See the <a
 href="http://developer.mozilla.org/en/docs/Embedding_the_Editor">embedding</a> docs.         You'll also
have to have a pretty good understanding of how the editor gets        
instantiated and handles events (described <a
 href="editor-internals.html">here</a>). </p>
  </li>
  <li>
    <p> <b>Improving the HTML typing rules; better HTML generation</b><br>
The current HTML typing rules were written with HTML mail generation
very much in mind; they are not optimal for web page writing,
and we are aware of this. They are implemented in C++. You can
find out how to write new rule sets <a
 href="writing-rules.html">here</a>. Note that a pretty good
knowledge of the <a class="ex-ref" href="http://www.w3.org/DOM/">DOM</a> would be
required. </p>
  </li>
  <li>
    <p> <b>Helping fix memory leaks, performance problems, and bugs</b><br>
We can always use help with memory usage, <a
 href="http://wiki.mozilla.org/Performance:Home_Page">performance</a>, and simply
more eyes on the code. This work would be almost entirely in
C++, and you'd probably want to use one of the commercially
available tools for your platform. Information on how to find
and fix memory leaks is <a
 href="http://lxr.mozilla.org/seamonkey/source/xpcom/doc/MemoryTools.html">here</a>.
Other bugs, like crashes etc, require standard debugging
techniques, though tools like <a
 href="http://www.rational.com/products/purify_nt/index.jtmpl">Purify</a>
can sometimes help. </p>
  </li>
  <li>
    <p> <b>Tweaking the UI, adding minor new features</b><br>
This you can do with a working knowledge of the XP Front-end         (<a
 href="http://www.mozilla.org/xpfe/">XPFE</a>), which is a way
of describing UI appearance and behavior using         an XML dialect,
XUL, and JavaScript. You can mess with the UI by playing with        
the XUL, CSS and JS files in a downloaded binary. Look in <code>chrome/packages/core/editor/content/</code>
for editor-related XUL and JS,         and in <code>chrome/skins/&lt;skin
name&gt;/editor/skin/</code> for CSS and images.         In the source
tree, these files are located in <code><a
 href="http://lxr.mozilla.org/seamonkey/source/editor/ui/">mozilla/editor/ui/</a></code> </p>
    <p> You should also be able to add new features by writing JS,
called from a menu item or context menu. To access editor
functionality, you'll need to call into the editor via the
editor shell. You can find out what it exposes to JavaScript by looking
 at the <a
 href="http://www.mozilla.org/scriptable/xpidl/idl-authors-guide/index.html">IDL</a>
file for the editorShell, <a
 href="http://lxr.mozilla.org/seamonkey/source/editor/idl/nsIEditorShell.idl">nsIEditorShell.idl</a>.</p>
  </li>
  <li>
    <p> <b>Helping with QA and testing</b><br>
You can help here on a variety of levels, from just using the product
and         filing bugs in Bugzilla when you can, to helping with test
plan and testcase development.         You can find out more on the <a
 href="http://www.mozilla.org/quality/">QA pages</a>. </p>
    <p> An outline of some <a
 href="http://www.mozilla.org/quality/browser/front-end/testcases/composer/">
composer test cases</a> is available. </p>
  </li>
</ul>
<hr>
<h2><a name="Who_are_we">Who are we?</a></h2>
<p>(remove any spaces and replace AT with @ and dot with .)
<ul>
  <li>Kathy Brade (<i><a href="mailto:brade AT comcast.net">brade at comcast dot net</a></i>)</li>
  <li>Joaquin Blas (<i><a href="mailto:kin AT netscape.com">kin at netscape dot com</a></i>)</li>
  <li>Ryan Cassin ("Hurricane") (<i><a
 href="mailto:rcassin AT supernova.org">rcassin at supernova dot org</a></i>)</li>
  <li>Joe Francis (<i><a href="mailto:jfrancis AT floppymoose.com">jfrancis at floppymoose?</a></i>)</li>
  <li>Daniel Glazman (<i><a href="mailto:daniel AT glazman.org">daniel at glazman dot org</a></i>)</li>
  <li>Neil Rashbrook (<i><a href="mailto:neil AT parkwaycc.co.uk">neil at parkwaycc dot co dot uk</a></i>)</li>
  <li>Charles Manske (<i><a href="mailto:cmanske AT jivamedia.com">cmanske at jivamedia dot com</a></i>)</li>
  <li>Akkana Peck (<i><a href="mailto:akkana AT netscape.com">akkana at netscape dot com</a></i>)</li>
  <li>Simon Fraser (<i><a href="mailto:sfraser AT netscape.com">sfraser at netscape dot com</a></i>)</li>
  <li>Beth Epperson (<i><a href="mailto:beppe AT netscape.com">beppe at netscape dot com</a></i>)</li>
</ul>
<p> If you want to know who to contact for a particular problem or code
area, this <a href="editorwho2bug.html">table</a> is your best
resource. </p>
<hr>
<h2><a name="How_to_reach_us">How to reach us</a></h2>
<p> The newsgroup for discussing Mozilla editor issues is <a
 href="news://news.mozilla.org/netscape.public.mozilla.editor">netscape.public.mozilla.editor</a>,
and members of the editor team regularly read and post to that
newsgroup. It is gatewayed into the <a href="../community.html">mailing
list</a> mozilla-editor; <a
 href="mailto:mozilla-editor-request@mozilla.org?subject=subscribe">subscribe
here</a> (put "subscribe" as the subject of the message). </p>
<hr>
<address> Last modified Tursday 15 February 2001</address>
<p>Maintained by the editor team: <a
 href="mailto:mozilla-editor@mozilla.org">mozilla-editor@mozilla.org</a>


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified November  8,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/editor/index.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
