<HTML><HEAD>   <META NAME="GENERATOR" CONTENT="Mozilla/4.03 [en]C-NSCP  (Win95; U) [Netscape]">   <META NAME="KeyWords" CONTENT="client, source, documentation">   <TITLE>MWContext Function Dispatch</TITLE></HEAD><BODY BGCOLOR="#FFFFFF"><H2><FONT FACE="Arial,Helvetica">MWContext Function Dispatch</FONT></H2>The <TT>MWContext</TT> function dispatch mechanismenables PostScript printing and text translation.<H3><HR WIDTH="100%"><FONT FACE="Arial,Helvetica">History</FONT></H3>The <TT>MWContext</TT> function dispatch mechanismwas added in Navigator 1.0. Unfortunately,The concept of per-context functions has not been implemented in the entirebrowser, but a good start has been made. PostScript printing and text translation are both implemented.<H3><HR WIDTH="100%"><FONT FACE="Arial,Helvetica">How It Works</FONT></H3>The idea is to use the HTML layout engine to convert HTML to other formats.The functions involved in laying out and displaying HTML elements are placedin a function table, and translation routines are plugged in. The translationroutines generate a translated data stream, rather than displaying theelements.<P>Because of time constraints, context-specific functions were definedwith the <TT>#define</TT> macro. This minimized the impact on the other developers:existingcalls to <TT>FE_FOO(cx, .... )</TT> were not required to be rewritten as<TT>cx->foo_func( ... )</TT>.&nbsp; At this point, this shortcut is nolonger advantageous.<P>More information about the <TT>MWContext</TT> structure is containedin the <A HREF="winfdesc.htm">Windows front end description</A>.<H3><HR WIDTH="100%"><FONT FACE="Arial,Helvetica">Where It's Headed</FONT></H3>The fact that the context-function table is hidden has had a negative impacton the stability and maintainability of the browser.&nbsp; The conceptof a "context type" was introduced, and there are <TT>"if (context-typeis MUMBLE)"</TT> at many points in the code. Instead, these should be implementedby extending the context function table and writing type-specific functions.<BR>&nbsp;<HR WIDTH="100%"><FONT SIZE="-1"><CENTER>Copyright &copy; 1998<A HREF="http://home.netscape.com/misc/contact_info.html">NetscapeCommunications Corporation</A></CENTER></FONT></BODY></HTML>