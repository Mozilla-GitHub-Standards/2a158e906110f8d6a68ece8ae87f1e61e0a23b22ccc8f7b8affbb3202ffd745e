<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">


<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">

  <title>Xlib Toolkit</title>

<link rel="up" href="./" title="Unix project page">

<script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">







<p class="crumbs"><em>You are here:</em> <a href="./">Unix project page</a> &gt; <strong>Xlib Toolkit</strong></p>

<h2>Xlib Toolkit Information</h2>
<address class="author"><a href="mailto:blizzard@redhat.com">by Christopher Blizzard</a></address>

<h3>Project Goals</h3>
<p>The goal of the xlib toolkit project in mozilla is many fold:</p>

<p><b>Code Reuse and Multiple Toolkits</b></p>
<p>The fact of the matter is that there will always be more than one toolkit
for Unix. Right now the big players include Motif, GTK+ and QT. 
Each of these toolkits unfortunately has its own look and feel for many
things including menus and scrollbars.. None of these toolkits is
going away anytime soon and it is inevitable that there will be ports of
mozilla to each of these toolkits.</p>
<p>Some of the toolkit will be done inside of Netscape and donated to the
mozilla project and some will be done by the mozilla.org community.
However, each new toolkit burdens the dedicated individuals who want to
maintain the sanity of The Project. Even more troubling is the amount
of duplicated code that will be in each of the toolkit ports and will have
to maintained.</p>
<p>One of the goals of the Xlib toolkit project is to create a common base,
written in Xlib, that will include all of the functionality that is common
across the Unix toolkits. The majority of the code will include simple
drawing and image handling in the gfx module. It will also include
some of the widget side of the toolkit. Some candidates include the
nsWindow class which is the simple drawing surface used by the html layout
and the XP widgets.</p>
<p>One of the project goals should be to make it very easy to plug in your
toolkit of choice. This means that you will be able to use Mozilla
in your Motif, GTK+ or QT application. Until the world chooses the
One True Toolkit or dies in the process, Mozilla should be able to run
on all the toolkits without hardship to people writing applications.</p>
<p><b>Stand alone Browser</b></p>
<p>It should also be possible to have a stand alone Mozilla browser that
is based entirely in Xlib. While this compromises one of the
primary goals of the many Desktop Projects for Unix and Unix-like systems,
it allows for a lightweight browser implementation that could be used on
a Kiosk system, or on very old hardware. The fact is that Mozilla
contains most of the functionality of the modern Unix widget toolkits and
it is a very small stretch to turn it into a complete toolkit system.</p>

<h3>Internationalization</h3>

<p>Not all toolkits are created equal. Right now the only
toolkit with good International support is Motif. The next
versions of both QT and GTK+ promise to include Unicode support
but neither of those are available now and Mozilla should still target
the widest audience possible. This includes using current
versions of the toolkits instead of bleeding edge versions. In
Xlib it is possible to do internationalization without the support of
the toolkit and much of the infrastructure for that is already in
place.</p>

<p><b>A Look to The Future</b></p>
<p>Past the initial 5.0 release, it has been made clear that mozilla will
probably be moving to an almost entirely gfx based widget system. The
reason for this is that there are many part of XUL and HTML&nbsp;4.0 and
CSS that require widgets are capable of functionality that normal
toolkits don't encompass. An example of this would be transparency
of text fields which none of the toolkits currently do.</p>
<p>An Xlib based mozilla would allow all of the toolkits in question to
take advantage of this without any changes. Also, at what point do
you want to keep using a toolkit if you only need it for scrollbars and
menus?</p>

<h3>Project Status</h3>

<p>The Xlib only version of Mozilla is <a
href="http://people.redhat.com/blizzard/mozilla/">almost
done</a>. It will currently build, run and render pages. You can
navigate web sites via links, scroll around in windows, just like a
real browser! There are still some things that are incomplete as of
the last update of this page. You still can't <a
href="https://bugzilla.mozilla.org/show_bug.cgi?id=9920">open a new url
from the url bar</a> but you should be able to very soon.</p>

<p>There are very few things left to do. Below is a list of the features
that are still unimplemented or serious, obvious bugs. There is a bug
report open for each of them. If you find a reproducible bug in the
front end, please take the time to open a new bug. It will really
help getting it all finished up.</p>

<table cellspacing="0" cellpadding="2">
<tr>
<th scope="col">ID</th>
<th scope="col">Sev</th>
<th scope="col">Pri</th>
<th scope="col">Plt</th>
<th scope="col">Owner</th>
<th scope="col">State</th>
<th scope="col">Result</th>
<th scope="col">Summary</th>
</tr>

<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9744">9744</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>scrolling widgets fails to move drop down windows</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9908">9908</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>xlib widgets don't compress expose events</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9909">9909</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>xlib gfx doesn't use shared images and pixmaps</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9910">9910</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>xlib doesn't support the clipboard</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9911">9911</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>xlib code doesn't support drag and drop</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9912">9912</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>ASSI</td><td></td><td>xlib widgets don't have menus</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9913">9913</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>gfx text widget in xlib doesn't draw correctly</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9918">9918</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>xlib widget set needs to set window manager hints</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9920">9920</a> </td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>gfx url field in xlib browser won't open new pages</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=9934">9934</a></td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>NEW</td><td></td><td>text selection doesn't work with xlib widgets</td></tr>
<tr><td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=10058">10058</a></td><td>nor</td><td>P3</td><td>PC</td><td>blizzard@redhat.com</td><td>ASSI</td><td></td><td>xlib widgets don't handle test9 very well - problems with embedded children and scrolling</td></tr>
</table>

<h3>Want to help out?</h3>

<p>Please <a href="mailto:blizzard@redhat.com">drop me some email</a> and
let me know you're working on something. That way we won't end up
with more than one person working on the same thing.</p>

<h3>Building the xlib only widget set</h3>

<p>When you untar the source, run configure like this:</p>

<pre class="code">
./configure --enable-toolkit=xlib
</pre>

<p>It should build from there out of the box. Once it's done building
you should have an apprunner and a viewer binary. You should also add
the following line in your ~/.mozilla/mozProfile/prefs.js file:</p>

<pre class="code">
user_pref("nglayout.widget.mode", 2);
</pre>

<p>This will turn on gfx widgets. The xlib widget set doesn't implement
any of its own widgets except for a simple scrollbar. Gfx widgets
will be on before the next milestone and all of the old native widgets
will be depreciated. This includes a gfx scrollbar so when the gfx
scrollbar lands the xlib native scrollbar widget will go away, too.</p>

<h3>Embedding mozilla into other toolkits</h3>

<p>I've been doing a lot of thinking about this recently and I've come up
with some solutions which should allow you to embed the xlib browser
into your gtk, qt or motif application. I'll post more here when I've
got code.</p>

<p>I'm waiting for the timers to be separated from the individual gfx
toolkits. Once that's done I can write sample code for each of the
toolkits.</p>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified November  9,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/unix/xlib.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
