
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">

<title>DRAFT Gecko 1.9 roadmap</title>

<!--
<link rel="stylesheet" type="text/css" href="http://www.mozilla.org/css/print.css"  media="print"><link rel="stylesheet" type="text/css" href="http://www.mozilla.org/css/base/content.css"  media="all"><link rel="stylesheet" type="text/css" href="http://www.mozilla.org/css/cavendish/content.css" title="Cavendish" media="screen"><link rel="stylesheet" type="text/css" href="http://www.mozilla.org/css/base/template.css"  media="screen"><link rel="stylesheet" type="text/css" href="http://www.mozilla.org/css/cavendish/template.css" title="Cavendish" media="screen">


-->
	<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "http://developer.mozilla.org/en/docs/skins/cavendish/main.css"; /*]]>*/</style>	<link rel="stylesheet" type="text/css" media="print" href="http://wiki.mozilla.org/skins/common/commonPrint.css" />
	<script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">

	
<h1><span style="color: red">DRAFT</span> Gecko 1.9 Roadmap</h1>

<h1> Important Preamble That You Should Read, Unlike All The Other Ones That You Just Skip To Get To The Good Stuff </h1><p>The version numbers, branch names, feature lists, schedules, and indeed basic <i >physics</i > of this roadmap are still very much under discussion.  Please do not place large bets or name children around the elements of this roadmap at this time. We have been fortunate to have feedback and input from a number of smart and energetic people, and seek much more such input to help refine this document over the course of the development it describes.</p><table border="0" id="toc"><tr id="toctitle"><td align="center"><b>Table of contents</b> <script type="text/javascript">showTocToggle("show","hide")</script></td></tr><tr id="tocinside"><td><div class="tocline"><a href="#Important_Preamble_That_You_Should_Read.2C_Unlike_All_The_Other_Ones_That_You_Just_Skip_To_Get_To_The_Good_Stuff">1 Important Preamble That You Should Read, Unlike All The Other Ones That You Just Skip To Get To The Good Stuff</a><br /></div><div class="tocline"><a href="#About_This_Roadmap_And_Branches.2FReleases">2 About This Roadmap And Branches/Releases</a><br /></div><div class="tocline"><a href="#Major_Areas_Of_Development">3 Major Areas Of Development</a><br /></div><div class="tocindent"><p><a href="#Graphics_and_layout_capabilities">3.1 Graphics and layout capabilities</a><br /><a href="#JavaScript_2">3.2 JavaScript 2</a><br /><a href="#Python_for_XUL">3.3 Python for XUL</a><br /><a href="#XUL.27_and_XBL2">3.4 XUL' and XBL2</a><br /><a href="#Web_app_deployment_and_capability_improvements">3.5 Web app deployment and capability improvements</a><br /><a href="#Embedding_and_application_deployment">3.6 Embedding and application deployment</a><br /><a href="#Miscellaneous_platform_improvements">3.7 Miscellaneous platform improvements</a><br /></p></div></td></tr></table><p><br /></p><a name="About_This_Roadmap_And_Branches.2FReleases"></a><h1> About This Roadmap And Branches/Releases </h1> <p>This roadmap describes the planned capabilities of the Mozilla platform, often known as "Gecko", in the 1.9 release.  The product delivery vehicle for this platform will be explored, discussed, and refined in another roadmap process, to which this document will soon link.</p><p>So, this is the "platform" roadmap.  The other document, the "product" roadmap, builds on this one to detail the plans for Firefox 2 and Firefox 3.  Products such as Thunderbird, and projects such as Sunbird, will likely adapt their roadmaps to match the product/platform pair centered on Firefox and Gecko.</p><p>The work described in this document will be performed -- in several cases it is already <i >being</i > performed -- on the trunk of Mozilla CVS, with the 1.8 branch preserved largely intact.  Some of the features listed below may be pulled forward into that 1.8 branch if needed for product releases off that branch, but you shouldn't count on it.  We will preserve all API (declared-frozen or not) compatibility on the 1.8 branch, so only selected additional APIs are thinkable.</p><p>Readers of this document will notice a conspicuous absence of bug lists, detailed schedules, or decomposition of development work into individual tasks.  While this roadmap is intended to provide a statement of direction for the platform in Gecko 1.9, responsibility for detailed planning of such areas of development is necessarily devolved to the groups doing -- or, in the case of some larger tasks, leading -- the design, development, and testing of specific capabilities.  In due, and short, time, this document will link to more detailed "sub-roadmaps" for such work; this distribution of ownership will better reflect the structure of our development organization, and should facilitate improved maintenance of the collected roadmap information over the course of Gecko 1.9</p><p>The owner of record for this document is Mike Shaver (shaver@mozilla.org), and all errors or omissions within it are first and foremost his responsibility.  Brendan Eich (brendan@mozilla.org) continues to drive the vision and architecture of the platform in the large, and his influence on the platform roadmap is both significant and indispensible.  In the case of a tie, disputes will be settled by single combat.</p><h1> Major Areas Of Development </h1><p>There are several major areas of development for Gecko 1.9, intended to serve both the applications built on top of it (chiefly Firefox 3) and applications built on the web which need or would benefit from improvements in web technology.  Many of these web-facing enhancements will be implementations of existing standards, in whole or in part.  Some will be new standards.</p><p>A rough attempt to categorize these development areas can be found below.  Some elements could reasonably be categorized multiply, so tags would be better than categories.  Please bear with our taxonomy.</p><h2> Graphics and layout capabilities </h2><p>Graphics and layout changes represent some of the most invasive work proposed for the Gecko 1.9 development cycle.  They form the core of the architectural shifts in 1.9, and are considered to be the most difficult and riskiest elements.</p><p>To manage risk, this roadmap proposes that major graphics and layout work -- especially the cairo-substrate and reflow-branch changes -- be scheduled as early as possible, in staged landings.  Both of these work items have meaningful development behind them as of this writing (October 2005), but both will also require significant additional work to reach a level of completeness (including performance) that will allow them to be made default on the trunk.</p><p>The changes most graphical in nature (SVG, Canvas, XUL2D) depend on a switch to the cairo graphics library as the fundamental display architecture for Gecko, work on which is already well underway.  The aim of shifting to cairo is to bring modern, hardware-accelerated 2D graphics capabilities to the whole of the web, without requiring proprietary plugins or rendering obsolete the broad and rich set of web authoring techniques developed over the past decade.</p><p>The layout changes -- see also the "XUL' and XBL2" section of this roadmap -- center around David Baron's "reflow branch", the aim of which is to eliminate reflow commands and types, and significantly reduce the complexity of the Gecko layout model.  This is the first change to global layout architecture in several years, and it is hoped that it will address many problems related to incremental reflow.  In addition, it should simplify some problems that are not practically soluble with the current architecture, such as support for inline-table.</p><ul><li> cairo substrate</li><li> SVG 1.1</li><li> Canvas</li><li> XUL2D</li><li> "Reflow branch"</li></ul><h2> JavaScript 2 </h2><p>The development of the Mozilla suite of applications, from the earliest days of Seamonkey to the current Firefox 1.5 release, has demonstrated the promise of developing significant infrastructure and application logic in JavaScript, rather than the fragile world of Mozilla's portable C++ dialect.  Over the course of that development, though, many limitations in the language and our implementation have come to hinder our development efforts, and the JavaScript 2 work in Gecko 1.9 seeks to address many of them.</p><p>Building upon the "Edition 4" proposals before the ECMA-262 technical group responsible for standardizing the ECMAScript dialect of JavaScript, this work will cherry-pick, for early implementation, elements that are key to developing in JavaScript at the scale required for applications like Firefox.  (N.B. that this is not a wholesale adoption of the JavaScript 2 proposal written several years ago by Waldemar Horwat, though the current Edition 4 design is similar in many ways.)</p><p>In order to test the draft Edition 4 specification, we will implement all of it in due course, but that may not happen till after Gecko 1.9 is all but done.  So it may be that 1.9 ends up shipping a "JavaScript 1.9" -- time will tell.  The goals are to materially improve the productivity of JS hackers working in Firefox and other XUL apps, and to prove the soundness of the new edition of the language.</p><p>Apart from all the new language features (for more details, stay tuned to the <a href="http://weblogs.mozillazine.org/roadmap/" class='external' title="http://weblogs.mozillazine.org/roadmap/" rel="nofollow">roadmap blog</a><span class='urlexpansion'>&nbsp;(<i>http://weblogs.mozillazine.org/roadmap/</i>)</span>), the JS2 implementation should be significantly faster and easier to debug, both from script and from a graphical debugger such as Venkman.  Debugging support in major IDEs is possible (more than possible in one IDE that's already working on it).</p><h2> Python for XUL </h2><p>Significant potential contributors in both the Python and XUL application development communities have long wanted access to Python's set of libraries and its capabilities as an application development language.  So in addition to JavaScript, which is the default web and XUL scripting language, we plan to extend the reach of Gecko and XUL to the Python world.</p><p>Mark Hammond's work on PyXPCOM and a language-neutral DOM is well under way as of October 2005, and we believe that the glue code and bindings will be slim enough to be part of a default XULRunner or Firefox distribution when the 1.9 cycle is complete.</p><p>(N.B.: Mozilla does not intend to distribute the C-Python runtime with its applications or frameworks, so application developers who wish to take advantage of these capabilities will need to provide for this dependency in their installers or packaging.  Stub or streaming installer capabilities in the Firefox/XULRunner based on Gecko 1.9 will probably help a great deal to ease the extra download for Python-less users.)</p><h2> XUL' and XBL2 </h2><p>The XUL and XBL languages have served Mozilla development very well, and are often taken as a model for XML-based UI development in other circles.  In some cases, however, our implementations or their old specifications are incomplete, inconsistent, insufficiently robust, or not amenable to some important use cases (including remote XUL applications or rich mixing with other content types such as HTML or SVG).  We seek to address these limitations, and generally improve the XUL and XBL development experience, with work in Gecko 1.9.</p><p>The XBL work is based on an existing design by Ian Hickson and David Hyatt, currently being developed in the mozilla-xbl list.  Pending the complete specification, we can't be sure that all of XBL2 will be implemented in the 1.9 timeframe, but we are committed to at least an improved attachment model, clearer lifecycle semantics, and scripting language neutrality.  These are prerequisites for desired 1.9-era application and platform features.</p><p>XUL work in Gecko 1.9 will not undertake to create a shining XUL2 jewel, but will instead work to preserve compatibility with "XUL1" where practical, and make clean breaks where unavoidable.  Hence the tentative name XUL' (XUL Prime).</p><p>Improvements to the XUL box model, based on the specification work started by Hixie and Hyatt, should provide a more consistent and flexible layout model for XUL developers, and help to rationalize XUL's interactions with other content types.  This box-model work has been proposed for standardization via the W3C CSS working group.  Much of the gain in any "shining XUL2 jewel" plan would likely be delivered by these box-model fixed, improvements, and cross-content rationalization, rendering the former not only a non-goal but also a non-issue.</p><p>We will also see the landing of Neil Deakin's highly-anticipated template builder refactoring, which will allow us to support the use of templates to generate content from data sources such as sqlite (mozStorage), XML documents and JavaScript generators, in addition to the current RDF datasource support.  While this work will apply to all content languages, we expect that it will be used first, and perhaps best, by XUL developers who have been suffering with the limitations of the current template model.</p><ul><li> XBL2</li><li> XUL box model rationalization</li><li> Template builder</li></ul><h2> Web app deployment and capability improvements </h2><p>The recent resurgence in Web application development as demonstrated the significant power and capability of Web technologies, as well as some key areas of desirable improvement.</p><p>Chief among these is a client-local storage capability, which need is not sufficiently addressed by HTTP cookies.  Cookies provide limited storage space (on the order of a few kilobytes), require the application developer to manually encode and decode any structure more complex than a simple string, and are transmitted back to the server on each request.  In response to these limitations, some application developers are using the Flash plugin simply to gain access to a reliable and capable local store.  Ian Hickson and the WHATWG have specified a simple but powerful client-local storage interface that addresses these concerns, and eliminates the dependence on proprietary plugins.</p><p>(There is a proposal circulating that Mozilla develop and distribute a small JavaScript library to abstract away different local storage technologies.  Released in advance of Gecko 1.9, it would likely use Flash underneath, and perhaps IE's "user-data" capability.  An updated version of the library would simply drop in and use the WHATWG client-local storage API if provided by the host browser.)</p><p>Another limitation often decried by developers of rich Web applications is the lack of a reasonable offline execution model.  Mechanisms to remedy this lack include: facility to pin sets of pages for offline use; a mechanism for detecting that the application is running offline; and events to signal that the user is going offline or returning to online operation.  Taken together with the aforementioned client-local storage system, these mechanisms would combine to enable a number of improved and important web experiences.</p><ul><li> Offline operation</li><li> Client-local storage</li></ul><h2> Embedding and application deployment </h2><p>For many application developers, putting Mozilla technology inside or underneath their applications has been a bittersweet experience.  While they are rightly excited to have the power of the Mozilla platform at their disposal, the state of our embedding interfaces and application-launch facilities have created significant impediments to their productivity, and introduced expensive fragility into their environments.  While we wish to see the plight of these developers improve, we do not believe that the "second-class" nature of 3rd party applications can be entirely wiped from our world.</p><p>Instead, we will make our own applications use the same interfaces that we recommend for embedders, in both C++ Gecko interaction and the XUL widgetry that is composed above it.  For launching applications atop our platform, we will improve and promote XULRunner, and use it to launch Firefox and our other applications.  Over time, we seek to drive the number of "embedding bugs", as distinct from "bugs that break our apps", to near-zero by improving alignment and overlap between those domains.</p><p>To further improve the coverage and reliability of our offerings to these developers, the embedding interfaces appropriate to each platform will be built and distributed as part of XULRunner, and therefore Firefox.  These embedding interfaces include an ActiveX control on Windows, gtkmozembed on GTK-based platforms, and the embedding widget currently provided by Camino on Macintosh systems.</p><ul><li> API convergence</li><li> XULRunner</li><li> Embedding APIs, widgets, and frameworks</li></ul><h2> Miscellaneous platform improvements </h2><p>In addition to the above new and enhanced capabilities, there are several important areas of improvement that resist even the preceding attempt at categorization.  They are no less important for that mismatch.</p><p>The security model for web content relies on careful management of trust labels, the mixing of which has long been known to security researchers as a source of significant danger.  Also, Gecko's support for content with elevated privileges, derived from the Java privilege model from the time of Netscape 2, does not sufficiently distinguish between web applications which can be trusted to not spoof application UI or attempt to "drive by" extension installation, and those which seek to run arbitrary code on the host machine or perform unrestricted operations on the local filesystem.  Building on successful research from the programming-language security community; lessons from Java and .NET; and our own person-centuries of experience building and reinforcing web security models, we seek to provide a richer and more reliable model of trusted execution, and especially "partially-trusted" execution.</p><p>Extensions have proven to be a very valuable mechanism for extending and improving Firefox and other "toolkit" applications.  More sophisticated dependency handling, streaming or stubbed install, and cross-application extension management will be combined with support for additional types of extensions such as language packs and search tools.  Combined with application-level improvements in overlay-point freezing or other such advancements, these should provide significant benefits to developers of extensions to Gecko 1.9-hosted applications.</p><p>The development of rich web applications requires sophisticated debugging and analysis tools, and this extends to applications built on web-like platforms like Gecko.  Mozilla has provided tools such as the Venkman JavaScript debugger and the DOM Inspector to assist developers of such applications, and we will continue to make improvements in Gecko to support corresponding improvements in these and similar tools.  While we do not anticipate the development of a fully integrated development environment, and do not feel that such IDEs are in wide use by web-application developers, we will undertake to support the development of such tools through improved introspection and debugging interfaces.  The <a href="#JavaScript_2.22" title="">JavaScript 2</a> work includes such debugging improvements, and we will roll the layout-interface elements of the DOM Inspector into Gecko proper to facilitate the development and distribution of such introspection tools.  Projects such as Eclipse may also be served by the inclusion of additional language bindings, as we plan to do for <a href="#Python_for_XUL" title="">Python</a>.</p><ul><li> Security model improvements</li><li> Extension manager</li><li> Tooling support</li></ul>

<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified November  3,  2005</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/roadmap/gecko-1.9-roadmap.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
