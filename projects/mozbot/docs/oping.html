<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

  <title>God Module</TITLE>
  <link rel="up" href="./">
  <link rel="top" href="../">
  <link href="../mozbot.css" rel="stylesheet">
 <script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">


 
 
  <h1>God Module</h1>

  <p>This page will help you set up mozbot in a channel on an IRC
  server where a mozbot instance is running, so that mozbot stays in
  the channel to keep it op people who you want to give ops to.</p>

  <p>Note that you can do this even if you are not the bot's
  administrator, although <a
  href="http://bugzilla.mozilla.org/show_bug.cgi?id=72952"
  title="Bug 72952: automatic channel admin promotions">currently</a>
  you do have to speak to them at one point.</p>

  <h2>Preliminary Setup</h2>

  <p>This section will set you up as a channel administrator.</p>

  <p>First, invite the bot into your channel:</p>

<pre>
 <kbd>/invite mozbot <var>#channel</var></kbd>
--- You're inviting mozbot to <var>#channel</var> (irc.example.org)
--&gt; mozbot (pid-12345@user.example.net) has joined <var>#channel</var>
</pre>

  <p>For this to work, you have to be an op in the channel, the bot
  admin has to have set the Admin module's <code>allowInviting</code>
  setting to <code>1</code> and if the channel is keyed, the key must
  be listed in the <code>channelKeys</code> hash (another Admin module
  variable).</p>

  <p>If it doesn't work, get the bot admin to say:</p>

<pre>
 <kbd>/msg mozbot join <var>#channel</var></kbd>
</pre>

  <p>Next, get a user account in the bot (if you are the admin you
  already have one and can skip this step and the next one):</p>

<pre>
 <kbd>/msg mozbot newuser <var>username</var> <var>password</var> <var>password</var></kbd>
*mozbot* New user '<var>username</var>' added with password '<var>password</var>' and no rights.
</pre>

  <p>Now get the bot admin to promote you in your channel by getting them to send
  the bot the <code>promote</code> command:</p>

<pre>
 <kbd>/msg mozbot promote <var>username</var> in <var>#channel</var></kbd>
*mozbot* User '<var>username</var>' promoted to channel administrator status in channel '<var>#channel</var>'.
</pre>

  <p>At this stage you should have channel admin status in your
  channel as far as the bot is concerned.</p>


  <h2>Adding Users</h2>

  <p>First, authenticate with the bot:</p>

<pre>
 <kbd>/msg mozbot auth <var>username</var> <var>password</var></kbd>
*mozbot* Hi <var>username</var>!
</pre>

  <p>Next, make sure the bot is opped, otherwise it can't op anyone
  itself:</p>

<pre>
 <kbd>/mode <var>#channel</var> +o mozbot</kbd>
--- IRCMonkey gives channel operator status to mozbot
</pre>

  <p>Now it's time to add users to your list of people to autoop. They
  need to send the same commands you did to create an account:</p>

<pre>
 <kbd>/msg mozbot newuser <var>username</var> <var>password</var> <var>password</var></kbd>
*mozbot* New user '<var>username</var>' added with password '<var>password</var>' and no rights.
</pre>

  <p>You then add them to the autoop list by saying:</p>

<pre>
&lt;IRCMonkey&gt; <kbd>mozbot: autoop <var>username</var> in <var>#channel</var></kbd>
   &lt;mozbot&gt; IRCMonkey: User '<var>username</var>' added to the autoop list of channel '<var>#channel</var>'.
</pre>

  <p>Now, when they authenticate with the bot, they will get opped:</p>

<pre>
 <kbd>/msg mozbot auth <var>username</var> <var>password</var></kbd>
*mozbot* Hi <var>username</var>!
--- mozbot gives channel operator status to IRCMonkey2
&lt;IRCMonkey2&gt; <kbd>thanks</kbd>
    &lt;mozbot&gt; IRCMonkey2: np
</pre>


  <h2>Adding hostmasks</h2>

  <p class="important"><strong>NOTE:</strong> This is discouraged. The
  authentication method (previous section) is a lot safer.</p>

  <p>Some people prefer to get mozbot to op people based on their
  originating host, their username, or, even worse, their nick.</p>

  <p>Using the host is suboptimal (host names can be spoofed). Using
  the username or nick is just plain stupid.</p>

  <p>To add a mask, you use the <code>add mask</code> command.</p>

  <p>Masks can be either regular expressions matched against the
  <code>user@host</code> string or hostmasks in the traditional IRC way.

  <p>Example masks are:</p>

  <dl>

   <dt>hostmask: <code>*!*@*</code></dt>
   <dt>regexp: <code>.*</code></dt>

   <dd>These match any nick, any username, and any hostname, you
   probably wouldn't want to use them because they would op everyone who
   comes into your channel.</dd>


   <dt>hostmask: <code>*!*@adsl-63-197-31-110.dsl.snfc21.pacbell.net</code></dt>
   <dt>regexp: <code>^.*\@adsl-63-197-31-110\.dsl\.snfc21\.pacbell\.net$</code></dt>

   <dd>Both of these match any user with a domain name of
   <code>adsl-63-197-31-110.dsl.snfc21.pacbell.net</code>. This is
   something that you would want to use because no matter what nick
   someone is using they will get oped. However, they must have a
   static IP address to do this.</dd>


   <dt>regexp: <code>^.*\@adsl-63-197-31-[0-9]+\.dsl\.snfc21\.pacbell\.net$</code></dt>

   <dd>This regexp will match a subset of Pacbell's users. It is a
   compromise between the odds that no-one with bad intentions will
   happen to have the same ISP in the same area as the user, and the
   convenience of autoopping.</dd>


   <dt>hostmask: <code>joeshmoe!*@*.ipt.aol.com</code></dt>

   <dd>Matches anyone with the nick <code>joeshmoe</code> who uses 
   AOL. This is a good way of opping anyone who uses AOL and has brains.</dd>


   <dt>hostmask: <code>joeshmoe!joeiscool@*</code></dt>

   <dd>Matches anyone with the brains to change their username.</dd>

  </dl>

  <p>Once you have constructed a mask you pass it to mozbot like this:</p>

<pre>
&lt;IRCMonkey&gt; <kbd>mozbot: add mask <var>mask</var> in <var>#channel</var></kbd>
   &lt;mozbot&gt; IRCMonkey: Mask '<var>mask</var>' added to the autoop list of channel '<var>#channel</var>'.
</pre>

  <p>Now, when anyone matching that mask enters the channel, they will get opped:</p>

<pre>
--&gt; IRCMonkey2 (luser@user2.example.net) has joined <var>#channel</var>
--- mozbot gives channel operator status to IRCMonkey2
</pre>


  <h2>Other Commands</h2>

  <p>To get a list of who gets opped in a channel, use the
  <code>ops</code> command. (Note. Anyone can do that, so don't rely
  on the masks being secret. Security by obscurity is poor security
  indeed.)</p>

<pre>
&lt;IRCMonkey&gt; <kbd>mozbot: ops in <var>#channel</var></kbd>
   &lt;mozbot&gt; IRCMonkey: #ui admins: <var>username</var>
   &lt;mozbot&gt; IRCMonkey: #ui ops: <var>username</var>
   &lt;mozbot&gt; IRCMonkey: #ui autoop masks: <var>mask</var>
</pre>

  <p>The other commands available can be found through the online help
  of the bot.</p>

  <p>Return to <a href="./">documentation index</a>, <a href="../">main index</a>.</p>

 


<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified February 19,  2002</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/mozbot/docs/oping.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
