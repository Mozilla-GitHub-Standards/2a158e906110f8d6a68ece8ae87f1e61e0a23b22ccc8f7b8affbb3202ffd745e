<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../../images/mozilla-16.png" type="image/png">

   <title>Internet Setup Wizard Design</title>
<script src="../../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<center>
<h3>
Internet Setup Wizard Design</h3></center>

<hr WIDTH="100%">
<p><u>Table of&nbsp; Contents</u>
<p><a href="#audience">Target Audience</a>
<br><a href="#components">Internet Setup Components</a>
<br><a href="#Design">Design of Internet Setup Wizard</a>
<br><a href="#Manifest">Internet Setup Manifest</a>
<br><a href="#QA">Coding for Testing</a>
<br><a href="#i18n">i18n issues</a>
<br><a href="#Issues">Open Issues</a>
<p>
<hr WIDTH="100%">
<br>&nbsp;
<h5>
<a NAME="audience"></a><u>Target Audience</u></h5>
All groups involved in developing and supporting Netscape's Client Customization
Kit.
<br>&nbsp;
<h5>
<a NAME="components"></a><u>Internet Setup Components</u></h5>
In the 4.x series of Communicator, the Internet Setup application was built
atop HTML, Style Sheets, Layers, Javascript, LiveConnect, Java, Java Native
Methods, Plugins, Signing, and the Security Model.&nbsp; Since each of
these was a brand new, untried technology, the project was fraught with
development and debugging problems that mushroomed this small project into
a very lengthy project.&nbsp; Even in later versions of 4.x, these technologies
continued to evolve and present major development obstacles.
<p>In the new 5.x series, the Internet Setup application will be built in
a native wizard style.&nbsp; By taking advantage of the <a href="../WizardMachine/cck_WizMac_design.html">WizardMachine</a>,
development of Internet Setup will be vastly simplified.&nbsp; The WizardMachine
provides a single browser like platform for the subset of features required
by any wizard application.
<p>The offline Internet Setup application will consist of these components:
<ul>
<li>
UI in the form of a set of WizardMachine .ini files</li>

<li>
DUN detection and installation (Win95, Win98 only)</li>

<li>
(URL.DLL problems will be handled by minimum system requirements)</li>

<li>
Modem detection and setup (including selection of existing connectoid in
UI)</li>

<li>
Connectoid configuration</li>

<li>
Dialing properties?&nbsp; (Win98 has new panels to handle 10-digit dialing)</li>

<li>
Modem dialing</li>

<li>
Communicator profile detection, creation and configuration</li>
</ul>
Online account creation also requires these components:
<ul>
<li>
Dial an account server</li>

<li>
Launch Communicator into special page and/or mode</li>

<li>
Initiate and complete Milan negotiation</li>

<li>
Update profile with configuration information</li>

<li>
Hang up the modem</li>
</ul>
Excluding the UI, each of the components is implemented in one or more
DLLs that are included into the Internet Setup wizard by reference in the
.ini files.&nbsp; (The WizardMachine provides the ability to dynamically
load libraries and call entry points in those libraries to get work done.)&nbsp;
Each component's handling will be consolidated into a single entry point
in the AS DLL(s).
<p>For Internet Setup to be a useful application, these additional components
are necessary:
<ul>
<li>
Communicator code to connect a profile to it's dialup connectoid and setup dial on demand</li>

<li>
Communicator UI to enable users to change the dialup connectoid associated with a profile</a></li>

<li>
(Together, these are currently known as "MUC.DLL")</li>
</ul>
If possible, Internet Setup should launch Communicator into a new online
session dialed into the new ISP account once configuration is complete.
<h3>
Component Descriptions</h3>

<h4>
DUN</h4>

<blockquote>MS DialUp Networking is the component that manages the linkage
between the application using the network and the modem that actually provides
the service.&nbsp; DUN is necessary to implement a dialup enabled browser
in our model.&nbsp; Therefore, detecting whether DUN is installed and installing
it if not is an essential feature of the product.
<p>We have an outstanding bug in our DUN handling that prevents us from
detecting situations where DUN is not completely installed correctly.&nbsp;
This causes significant problems for our partners and should be corrected
in the new release.</blockquote>

<h4>
Modem</h4>

<blockquote>Detecting the modem and configuring it is primarily done by
the OS.&nbsp; Internet Setup shows the current settings and allows the user
to launch the OS configuration interface to resolve any problems.&nbsp;
Exiting this phase in Internet Setup, we are assured that a modem exists
and has been configured.</blockquote>

<h4>
Connectoids</h4>

<blockquote>To dial the modem, a connection must be defined.&nbsp; This
is commonly referred to as a "connectoid."&nbsp; Internet Setup accomplishes
this through the RAS API which is based on TAPI (Telephony API).&nbsp;
The OS presents different features in different versions and upgrade revisions.&nbsp;
In general, it includes information such as phone number, DNS settings,
IP address and other link level information in the network protocols.</blockquote>

<h4>
Dialing</h4>

<blockquote>Dialing is accomplished by referencing an existing connectoid
and using the TAPI interfaces to cause the modem to do work.&nbsp; Once
the connection is established, Internet Setup is no longer directly involved
other than to hang up the phone whenever a transaction is completed.&nbsp;
Internet Setup will only support dialing if online account creation is supported.</blockquote>

<h4>
Create Profiles</h4>

<blockquote>Communicator stores all preferences for a particular "user"
or "identity" in a thing called a profile.&nbsp; Profiles are implemented
as a directory structure that contains all the files with particular settings
or contents that make up the profile.&nbsp; Typically, these profiles are
stored under Netscape/Users, but users may choose to place them anywhere.
<p>Internet Setup's main task is to create and populate profiles with values
determined during the account creation process.&nbsp; To do this, it must
be able to create profiles.&nbsp; In the 4.x versions of Internet Setup,
this was handled automatically inside Communicator.&nbsp; In the 5.x+ releases,
we need to be able to create a profile under external control.&nbsp; The
implementation of this component is currently planned to be a special command
line option to Communicator itself which causes Communicator to create
a profile with the given name and then exit.&nbsp; The syntax is "netscape
-CreateProfile &lt;profile_name>".</blockquote>

<h4>
Online Internet Setup</h4>

<blockquote>
<h4>
Launch Communicator</h4>

<blockquote>Online account creation depends on an HTTP client/server connection
having been established.&nbsp; The preferred method for creating this connection
is to launch Communicator and post a form to the http server.&nbsp; Launching
Communicator to a specified URL is a base capability of Communicator.&nbsp;
Internet Setup merely needs to include an entry point to initiate it.</blockquote>

<h4>
Milan</h4>

<blockquote>Having launched Communicator is not enough, by itself, to cause
a Milan conversation to occur.&nbsp; In addition to launching Communicator,
we must cause a form to be posted to the target URL.&nbsp; This should
be possible using a simple form and some javascript to set the target URL
and submit() the form.
<p>At the completion of a Milan conversation, the server returns a MIME
STREAM of type <b>application/x-netscape-autoconfigure-dialer </b>or <b>application/x-netscape-autoconfigure-dialer-v2</b>.&nbsp;
This stream of data contains all the configuration data necessary for access
to the new ISP account.&nbsp; To complete the loop, a plugin must be installed
to handle the mime stream.&nbsp; The plugin's task is to capture the data
and store it for later processing.&nbsp; (or maybe it's to actually do
the processing itself, depends)
<p>It may be necessary to use signed javascript for this component.&nbsp;
In this case, the impact should be minimal assuming the tools exist.&nbsp;
CCK customers should never need to customize this component since it really
doesn't have any visible parts and should be very small.</blockquote>

<h4>
Configure Profiles</h4>

<blockquote>Once the Milan conversation is complete, we have configuration
data available.&nbsp; Some information ends up in the connectoid, some
ends up in the profile.&nbsp; We need to separate them out and put them
in the right places.&nbsp; This entry point has typically been called with
a bulk list of name=value pairs to be processed.&nbsp; It might be that
we continue to do it that way, it might not...</blockquote>
</blockquote>

<hr WIDTH="100%">
<h5>
<a NAME="Design"></a><u>Design of Internet Setup Wizard</u></h5>

<h3>
General Considerations</h3>

<p><br>See the <a href="ui.htm">Internet Setup UI Spec</a> for more details
on how the flow of Internet Setup is going to be laid out.&nbsp; One aspect
of the UI is that it must contain and support CCK Wizard customizable items.&nbsp;
These include a logo graphic, distributor name, and support phone number.&nbsp;
In all liklihood, each of these items will appear on every page.&nbsp;
In addition, some elements of the wizard have traditionally been controlled
by the acctset.ini file.&nbsp; This likely needs to continue...&nbsp;<a NAME="TODO8"></a><font color="#FF0000">Figure
out how to deal with acctset.ini</font>
<p>The underlying features of Internet Setup are provided by the latest
revision of the dialup code that was first written way back before the
stock symbol NSCP existed.&nbsp; This code was most recently updated by
Tim McClarren before he left the company.&nbsp; We have had plenty of feedback
from our customers about flaws in this code.&nbsp; One goal of this effort
will be to simplify and correct the code wherever possible.&nbsp; To this
end, the code structure will be made more modular.&nbsp; Each of the components
will exist in its own C file and will be <a href="#QA">independently testable</a>
by QA.
<p><font size=+0>Each of the components of Internet Setup will be exposed
from a DLL called as.dll.&nbsp; The only thing that may change this is
if there is a sensible way to have multiple DLLs that are shared between
Communicator itself and the Internet Setup wizard.&nbsp; For the moment,
I'm assuming that a single DLL is sufficient.&nbsp;<a NAME="TODO4"></a><font color="#FF0000">Figure
out if 1 DLL is the right answer or not</font></font>
<h3>
Offline Account Creation</h3>

<blockquote>&nbsp;
<br>&nbsp;
<h4>
Flow of Internet Setup</h4>

<p><br>Offline account creation consists of the following steps:
<ol>
<li>
Collect a bunch of machine configuration data (automatically or via wizard
screens)</li>

<li>
Correct any correctable configuration problems</li>

<li>
Collect a bunch of user data and preferences via wizard screens</li>

<li>
Collect a bunch of ISP account data via wizard screens</li>

<li>
Create a profile</li>

<li>
Create a connectoid</li>

<li>
Dump information into the profile and the connectoid</li>

<li>
Launch Communicator into the new profile to get the user started browsing</li>
</ol>
Most of these steps center around data collection and manipulation.
<h4>
Collect a bunch of machine configuration data (automatically or via wizard
screens)</h4>
DUN is absolutely required for correct operation of a dialup client.&nbsp;
We do not and will not provide actual dialer technology with Communicator.&nbsp;
To this end, the installer has traditionally launched a helper app that
will examine the state of the user's system and recommend launching the
DUN installer if necessary.&nbsp; In addition, Internet Setup has traditionally
made the same checks and also attempted to launch the DUN installer.&nbsp;
The installer helper app is not addressed by this document, go <a href="helper.htm">here</a>
for more information.
<p>DUN handling in Internet Setup will be implemented in as.dll function
DialerSetup().&nbsp; This checking is done differently between the Win95/Win98
and WinNT platforms.&nbsp; These differences will be hidden below this
entry point.&nbsp; The main gist of it is that DUN is on the 9x platforms
and RAS is on the NT platform.&nbsp; [In addition to checking for RAS on
NT, the code will ensure that the RASMON process is running or will launch
it if it's not running. <font color="#006600">is this true?</font> ]&nbsp;
This code will reside in dun.c in the source directory.&nbsp; As a special
case, on Win95 DialerSetup() will also check DNS and provide a warning
if there are DNS addresses set in the networking adapter (because dialup
doesn't work on Win95 if they have their own settings in there.)
<p>The modem is also absolutely required for correct operation of a dialup
client.&nbsp; Once we've proven DUN is installed, the next step is to make
sure a modem is installed and configured.&nbsp; This is currently handled
on the modem setup screen and there is a button to invoke the native modem
setup dialogs.&nbsp; This button will be connected to the as.dll function
ModemSetup().&nbsp; Other functions required by the modem page will be
implemented in the as.dll and may have separate entry points.&nbsp;<a NAME="TODO1"></a><font color="#FF0000">This
is an area to be defined by future progress in the implementation.</font>
<p><font color="#000000">It is my intention to leverage native dialogs
rather than implement or preserve local implementations of any setup dialogs
I can find in the OSs.</font>
<h4>
Correct any correctable configuration problems</h4>
See previous section.
<h4>
Collect a bunch of user data and preferences via wizard screens</h4>
This is the easy part.&nbsp; This consists of creating and testing a number
of WizardMachine INI files to collect said data.&nbsp; This data will later
be used by other components to do their jobs.&nbsp; All collected data
goes into a global area and is provided to all component functions when
called by the WizardMachine.&nbsp; The following information needs to be
collected from user input:
<ul>
<li>
TBD</li>

<li>
</li>
</ul>
The following information needs to be discerned from the OS and presented
to the user for choosing:
<ul>
<li>
TBD</li>

<li>
</li>
</ul>

<h4>
Collect a bunch of ISP account data via wizard screens</h4>
Most of the ISP data should be specified in the NCI files that were included
in the installer by the ISP that customized this browser.&nbsp; Anything
that's missing needs to be collected from a single wizard screen.&nbsp;
The relevant data are:
<ul>
<li>
TBD</li>

<li>
</li>
</ul>

<h4>
Create a profile</h4>
This component will actually be implemented in Communicator itself.&nbsp;
Using the 4.5 base, we have implemented a -CreateProfile flag that can
call the internal routines necessary to accomplish all Communicator handling
for a new profile.&nbsp; This piece will depend on the outcome of the current
profile manager backend discussion, but there has to be some equivalent
function even if the 4.5 profile manager is scrapped completely.
<p>See below for how this will be invoked.
<h4>
Create a connectoid</h4>
Creating a connectoid is the one of the last steps of offline account creation.&nbsp;
In online account creation, it can happen multiple times.&nbsp; This function
will be implemented in as.dll as DialerConfig().&nbsp; This function will
rely extensively on the WizardMachine globals API to access values collected
by the wizard screens that pertain to the connectoid required.
<p><a NAME="TODO3"></a><font color="#FF0000">Populate a connectoid info
goes here</font>
<h4>
Dump information into the profile and the connectoid</h4>
See previous section for connectoid information.
<p>Although the act of creating a profile will be implemented in the Communicator,
we still need a way to have the Internet Setup wizard invoke Communicator
to create the profile.&nbsp; Since profile creation and population are
a single logical step to the wizard, it makes sense to have a single action
do both jobs.&nbsp; Therefore, the as.dll will have an entry point called
CreateProfile() that will know how to launch Communicator with the right
parameters to create a profile.&nbsp; CreateProfile() will then do whatever
is necessary to populate that profile with information from the wizard
globals.
<p><font color="#000000">The following information needs to be collected
and stored in the globals for profile creation:</font>
<ul>
<li>
<font color="#000000">TBD</font></li>

<li>
</li>
</ul>
Internet Setup needs to set preferences that describe the account just created.&nbsp;
The following preferences are modified by the 4.5 Internet Setup (and mostly
need analogous coverage in 5.0):
<ul>
<li>
browser.enable_style_sheets</li>

<li>
browser.mac.show_tool_tips</li>

<li>
browser.mac.use_internet_config</li>

<li>
browser.startup.homepage (Milan only)</li>

<li>
browser.startup.page</li>

<li>
editor.author</li>

<li>
editor.publish_browse_location</li>

<li>
editor.publish_location</li>

<li>
editor.publish_password</li>

<li>
editor.publish_save_password</li>

<li>
editor.publish_username</li>

<li>
general.always_load_images</li>

<li>
ldap_1.directoryN.description</li>

<li>
ldap_1.directoryN.dirType</li>

<li>
ldap_1.directoryN.filename</li>

<li>
ldap_1.directoryN.isOffline</li>

<li>
ldap_1.directoryN.isSecure</li>

<li>
ldap_1.directoryN.port</li>

<li>
ldap_1.directoryN.savePassword</li>

<li>
ldap_1.directoryN.searchBase</li>

<li>
ldap_1.directoryN.searchString</li>

<li>
ldap_1.directoryN.serverName</li>

<li>
ldap_1.number_of_directories</li>

<li>
mail.check_new_mail</li>

<li>
mail.identity.organization</li>

<li>
mail.identity.reply_to (Milan only)</li>

<li>
mail.identity.useremail</li>

<li>
mail.identity.username</li>

<li>
mail.imap.server_sub_directory (Milan only)</li>

<li>
mail.leave_on_server</li>

<li>
mail.pop_name</li>

<li>
mail.pop_password</li>

<li>
mail.remember_password</li>

<li>
mail.server_type</li>

<li>
network.cookie.warnAboutCookies</li>

<li>
network.hosts.nntp_server</li>

<li>
network.hosts.pop_server</li>

<li>
network.hosts.smtp_server</li>

<li>
network.online</li>

<li>
offline.startup_mode</li>

<li>
security.warn_entering_secure</li>

<li>
security.warn_leaving_secure</li>

<li>
security.warn_submit_insecure</li>
</ul>

<p><br><font color="#000000">Here are the details of how that information
gets populated into a profile:</font>
<br><a NAME="TODO2"></a><font color="#FF0000">Populate a profile info goes
here</font>
<h4>
Launch Communicator into the new profile to get the user started browsing</h4>
This is the last step in offline account creation.&nbsp; Launching the
user into the Communicator using their new connectoid closes the loop between
installing and surfing.&nbsp; In the past, we would simply tell people
to launch Communicator themselves by finding and clicking on the desktop
icon.&nbsp; Unfortunately, we didn't bother to describe the icon to them
and its a very tenuous connection.&nbsp; There is no reason to avoid launching
communicator at the end of Internet Setup in this new design, so we will
do so.
<p>In the preceding section, I described how launching an application is
a necessary feature.&nbsp; It is possible that the WizardMachine will expose
an entry point to launch applications.&nbsp; If so, it would be used to
implement this.&nbsp; If not, the application launcher used for CreateProfile()
will be reused.
<br>&nbsp;</blockquote>

<h3>
Online Account Creation</h3>

<blockquote>Online account creation is much more complex than offline account
creation.&nbsp; In addition to many of the tasks from offline, online must
also handle the following:
<ol>
<li>
Dial the account creation server's modem</li>

<li>
Launch Communicator into a Milan conversation with some account creation
server</li>

<li>
Catch the ISP account configuration information returned from the account
server</li>

<li>
Use that information in place of the offline data collection wizard screens
to create a connectoid and profile</li>
</ol>

<h4>
Dial the account creation server's modem</h4>
Dialing the modem is pretty straightforward after all the other steps of
configuration are done.&nbsp; This component will be implemented inside
as.dll as the DialModem() entry point.&nbsp; It will need to be told which
connectoid to use, so either some kludgy thing with the globals must be
done, or the WizardMachine needs an enhancement to pass non-standard parameters
to some DLL functions.&nbsp;<a NAME="TODO5"></a><font color="#FF0000">Figure
out how to pass connectoid parameter to DialModem()</font>
<h4>
Launch Communicator into a Milan conversation with some account creation
server</h4>
Launching Communicator has been mentioned several times previously.&nbsp;
Whatever is done for those instances will also be used here.&nbsp; The
one new thing is that a particular URL needs to be targeted.
<p>The URL that gets loaded will be a page that is created by Internet Setup
that contains all the information required by this particular instance
of the Milan protocol.&nbsp; It is probable that some form of template
can be used to create this form.&nbsp; That needs to be worked out yet.&nbsp;<a NAME="TODO6"></a><font color="#FF0000">Figure
out how to create the Milan launch page</font>
<p>The page must also be able to instantiate the mime stream plugins and
submit itself to the server URL.&nbsp; These pieces should basically be
carried over from the 4.x implementation of Internet Setup.&nbsp; It may
be necessary to sign this page, this is a minor issue since there are no
distributor customizations that would be necessary on this page.
<p>This component will be implemented in as.dll as the MilanLaunch() entry
point.
<h4>
Catch the ISP account configuration information returned from the account
server</h4>
This component is responsible for catching the mime stream from the Milan
server and converting it into a new connectoid and profile.&nbsp; It is
possible to leverage some of the 4.x javascript/plugin stuff to make this
work with the minimal investment of coding time.&nbsp; The main drawback
is that this would guarantee the need for signing of the Milan launch page.&nbsp;
A further complication is that this page may not be running in the context
of the ultimate profile we want to create for the end user.&nbsp; (In other
words, we may need to create a temporary profile just for the Milan session
and then create a new profile for the user data.)&nbsp;<a NAME="TODO7"></a><font color="#FF0000">Figure
out how the profile gets populated after Milan</font>
<p>The work of converting Milan information into a connectoid could equally
easily be done by the plugin or by the wizard.&nbsp; However, depending
on the preceding profile decision, it may be substantially easier to populate
the profile either in the plugin or in the wizard.&nbsp; If the Milan profile
actually is the final profile, then doing this in Communicator may be much
easier than in the wizard.&nbsp; Conversely, if the profiles are different
then it's impossible to do it in Communicator.&nbsp; To avoid the dogfood
problems, this will be implemented in the wizard unless that has a terribly
high cost.
<p>OK, so all that smog clears up at some point and then there's an entry
point in as.dll called MilanConfigure() that knows how to find the info
saved by the plugin and turn it into a valid connectoid and profile.&nbsp;
By implication, there is a plugin the knows how to save that info.&nbsp;
The MilanConfigure() routine may be able to leverage the WizardMachine's
globals handling routines to simplify this process.&nbsp;<a NAME="TODO8"></a><font color="#FF0000">Be
sure to find out</font>
<h4>
Use that information in place of the offline data collection wizard screens
to create a connectoid and profile</h4>
See the above discussions.&nbsp; If profile creation is done in a different
way for online, then we have to not do it the same way as offline.&nbsp;
They can share underlying routines, but the data sources and flows are
all different.&nbsp; One way to unify them is to have the wizard always
do the work.&nbsp; This is the route that I'm aiming for first.</blockquote>

<h3>
Combined Offline/Online Account Creation</h3>

<blockquote>We are not currently contemplating creating this.&nbsp; This
is the way the previous versions of Internet Setup worked, so we need to
validate whether it's required by our market.&nbsp; If it becomes required,
minor adjustments to the UI will be required but no new basic components
will be needed.</blockquote>

<p><br>
<hr WIDTH="100%">
<p><a NAME="Manifest"></a><b><u><font size=-1>Internet Setup Manifest</font></u></b>
<blockquote>TBD.&nbsp; This requires information that is not yet available.</blockquote>

<p><br>
<hr WIDTH="100%">
<br><a NAME="QA"></a><b><u><font size=-1>Coding for Testing</font></u></b>
<blockquote>As with the other projects within CCK, this project is broken
into a number of independent components.&nbsp; Each component will be designed
and built in a modular fashion.&nbsp; This project will provide a command
line interface such that each component can be easily exercised by automated
tests.&nbsp; The interfaces required will be negotiated between the development
and QA engineer(s) assigned to each component.
<p>In general, any entry point in the as.dll should have a corresponding
command line to exercise it.
<p>All code will be reviewed by at least two developers other than the
author before being considered complete.&nbsp; Similarly, all test cases
must pass.
<p>List of independently testable components and command lines to exercise
them:
<ul>
<li>
TB filled in</li>
</ul>
</blockquote>

<p><br>
<hr WIDTH="100%">
<h5>
<a NAME="i18n"></a><u>i18n issues</u></h5>
It is always important for us to develop our application in such way that
it can be easily localized. Currently, we are discussing with i18n group
in identifying the areas that need to be focussed in making localization
an easy task with respect to the the new design proposed above.
<p>
<hr WIDTH="100%">
<br><a NAME="Issues"></a><b><u><font size=-1>Open Issues</font></u></b>
<br>&nbsp;
<ol>
<li>
Identify any new WizardMachine dependencies</li>

<li>
DUN detection is not adequate in the existing code</li>

<li>
Need to create muc.htm document</li>

<li>
MUC and other core Communicator dependencies are not scoped or committed</li>

<li>
Need to create UI spec</li>

<li>
Need to decide if there will be more than one DLL for both AS and C5</li>

<li>
Need to create helper.htm document</li>

<li>
Need to determine all dependencies from the modem page in the UI</li>

<li>
Need to explicitly list the information collected by the wizard in several
places in this document</li>

<li>
Need to determine the communication requirements and mechanism for online
account creation</li>

<li>
Determine whether the WizardMachine globals API can be used for the online
account creation communication mechanism</li>

<li>
Need to figure out what the Milan launch page looks like and how it works</li>

<li>
profiles may not exist or may work radically differently in 5.0 versus
4.5</li>

<li>
The exact mechanism for putting information into a profile may need serious
research</li>

<li>
Determine whether the WizardMachine needs to expose more advanced parameter
passing for entry points</li>

<li>
Review the bugs that have been found in the code this was all based on
and figure out what to do with them</li>

<li>
Review the enhancement requests for AS and decide what to do with them</li>

<li>
Deal with acctset.ini</li>
<li>Deal with dial 1 and dial area code vs 10-digit dialing
</ol>

<hr WIDTH="100%"><b><i>Author : Steve Elmer</i></b>
<br><b><i>Date :&nbsp;&nbsp;&nbsp; 1/14/99</i></b>
<br>&nbsp;



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../../sitemap.html">Site Map</a></li>
<li><a href="../../../../security/">Security Updates</a></li>
<li><a href="../../../../contact/">Contact Us</a></li>
<li><a href="../../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January 16,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/cck/docs/InternetSetup/design.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
