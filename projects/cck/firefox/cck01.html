<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

<title>Overview of the CCK 0.1 for Firefox</title>
<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<h1>Overview of the CCK 0.1 for Firefox</h1>
<p>The goal of the first release of Firefox is to produce an XPI file that
 when installed customizes parts of Firefox equivalent to the Netscape 7 
 CCK. This document will describe how those customizations are achieved.</p>
<p>Note that for demo purposes, we have created a CCK that customizes the
 browser as if it were distributed by A9.</p>
<p>This is a preliminary CCK - use at your own risk.</p>

<h2 id="organization">How the CCK is organized</h2>
<p>For this version of the CCK, we have provided an 
 <a href="../new/cck.xpi.zip">XPI file</a> that can be distributed and
 installed with a standard Firefox install. To make CCK customizations, you
 will have to unzip this XPI and the <code class="filename">cck.jar</code>
 file that is contained within it, and then rezip the file for distribution.
 Here is how the files are organized:</p>
<p>The <code class="filename">cck.xpi</code> is a ZIP file that is organized
 like this:</p>
<ul>
  <li>cck.xpi
    <ul>
      <li>install.js</li>
      <li>bin\
        <ul>
          <li>browserconfig-cck.properties</li>
          <li>chrome\
            <ul>
              <li><strong>cck.jar</strong></li>
            </ul>
          </li>
          <li>defaults\
            <ul>
              <li>pref\
                <ul>
                  <li>firefox-cck.js</li>
                </ul>
              </li>
              <li>profile\
                <ul>
                  <li>bookmarks.html</li>
                  <li>hostperm.1</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>searchplugins\</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<p>The <code class="filename">cck.jar</code> is a ZIP file that is 
  organized like this:</p>
<ul>
  <li>cck.jar
    <ul>
      <li>content\
        <ul>
          <li>cck\
            <ul>
              <li>cck-browser-overlay.xul</li>
              <li>cck.css</li>
              <li>cck.dtd</li>
              <li>cck.js</li>
              <li>cck.properties</li>
              <li>contents.rdf</li>
              <li>throbber-anim.gif</li>
              <li>throbber-single.gif</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<p>After making the changes referenced in this file, you should rezip the
 JAR and the XPI exactly as they were originally.</p>

<h2>Installing the CCK with Firefox on Windows</h2>
<p>Once you have a <code class="filename">cck.xpi</code>, you can modify
 Firefox to install the CCK as part of the normal Firefox install on
 Windows.</p>
<ol>
  <li>First, you must obtain 7-zip from
   <a href="http://www.7-Zip.org/">http://www.7-zip.org/</a>. Using 7-Zip,
   unpack the files from
   <code class="filename">Firefox Setup 1.0.X.exe</code> into a directory.
   </li>
  <li>Copy your <code class="filename">cck.xpi</code> into this directory.
   </li>
  <li>Edit the file <code class="filename">config.ini</code> and make the
   following changes:</li>
</ol>
<p>Search for <code>[Setup Type0]</code>. There are two setup types for 
 Firefox, and we will be adding the CCK to both of them. After the line
 <code>C5=Component QFA</code>, add the line:</p>
<pre>C6=Component CCK</pre>
<p>Search for <code>[Setup Type1]</code>. After the line
 <code>C6=Component QFA</code>, add the line:</p>
<pre>C7=Component CCK </pre>
<p>Search for <code>[Component Langpack]</code>. We will be adding a new
 component after this section for the CCK. Add the following section after
 the line <code>FileCount=25</code> and before the line
 <code>[Component QFA]</code>:</p>
<pre>[Component CCK]
Description Short=CCK
Description Long=Client Customization Kit
Archive=cck.xpi
Install Size=1
Install Size System=1
Install Size Archive=1
Attributes=SELECTED|INVISIBLE</pre>
<p>These attributes ensure that it will always be installed, and the user
 will not see that it is being installed.</p>
<p>Note you can also change some of the references to Mozilla Firefox in
 this file to mention your custom edition. For instance, this line will
 change the name of the folder that is created on the desktop:</p>
<pre>Path=[PROGRAMFILESDIR]\Mozilla Firefox</pre>
<p><strong>Do NOT change</strong> <code>Company Name</code>,
 <code>Product Name</code>, or <code>ProductNameInternal</code> as this will
 cause Firefox to not function correctly.</p>
<p>You can now test your install by simply running
 <code class="filename">setup.exe</code>.</p>
<p>If you want to ship your customized Firefox as a single executable, you
 can follow the instructions of
 <a href="../../firefox/l10n/localize-release.html">Creating a Localized Installer</a>.
 Creating this file is beyond the scope of this document.</p>
<p>If you want a silent install, you can change the line
 <code>Run Mode=Normal</code> to <code>Run Mode=Silent</code>. Note that
 <code>Run Mode=Auto</code> does not work with Firefox 1.0.x browsers.</p>

<h2>Items that can be changed by the CCK</h2>
<p>This section details the items that can be changed by the CCK and how to
 change them.</p>

<h3>Company Identifier</h3>
<p>This change allows you to specify a company identifier that is included
 as part of the browser's user agent string which appears when you open the
 Help menu and select About Mozilla Firefox. To make this change, edit the
 file <code class="filename">firefox-cck.js</code> and change the following
 line:</p>
<pre>pref("general.useragent.vendorComment", "CK-A9");</pre>
<p>If you do not want the have a company identifier, comment out (//) the
 above line in <code class="filename">firefox-cck.js</code>.</p>

<h3>Animated logo</h3>
<p>These changes allow you to specify the URL that users will go to when
 they click on the animated logo button, the tooltip that users will see
 when they mouse over the animated logo button and the animated logo
 itself.</p>
<p>To change the URL that users will go to when they click on the animated
 logo button, edit the file <code class="filename">cck.properties</code>
 and change the following line:</p>
<pre>browser.throbber.url=http://a9.com/</pre>
<p>If you do not want to change the URL comment out (//) the following line
 from <code class="filename">firefox-cck.js</code>:</p>
<pre>pref("browser.throbber.url", "chrome://cck/content/cck.properties");</pre>
<p>To change the tooltip that users will see when they mouse over the
 animated logo button, edit the file <code class="filename">cck.dtd</code>
 and change the following line:</p>
<pre>&lt;!ENTITY throbber.tooltip "Go to A9"&gt;</pre>
<p>If you do not want to change the tooltip, comment out the following code
 in <code class="filename">cck-browser-overlay.xul</code>:</p>
<pre>&lt;!--
&lt;button id="navigator-throbber"
tooltiptext="&amp;throbber.tooltip;"/&gt;
--&gt;</pre>
<p>To change the animated logo, you must create two images, one
 corresponding to the logo when it is animated, and one corresponding to the
 logo when it is at rest. The animated image must be a GIF, but the at rest
 image can be either a PNG or a GIF. These images should be 16x16. You can
 use the files <code class="filename">throbber-anim.gif</code> and
 <code class="filename">throbber-single.gif</code> as templates. Once you
 have created these images, simply replace
 <code class="filename">throbber-anim.gif</code> and
 <code class="filename">throbber-single.gif</code> with your images. If you
 used a PNG for your at rest logo, you must edit the file
 <code class="filename">cck.css</code> and change the two occurrences of
 throbber-single.gif to <code class="filename">throbber-single.png</code>.
 </p>
<p>If you do not want to change the animated logo, remove the following line
 from <code class="filename">cck-browser-overlay.xul</code>:</p>
<pre>&lt;?xml-stylesheet href="chrome://cck/content/cck.css" type="text/css"?&gt;</pre>

<h3>Help Menu</h3>
<p>This change allow you to add an item to the Help Menu which provides a
 link to your online customer support page. To make this change, you have to
 change two files. First, edit the file <code class="filename">cck.dtd</code>
 and change the following line to the text you would like displayed on the
 help menu item:</p>
<pre>&lt;!ENTITY cckHelp.label "A9 Help and FAQs"&gt;</pre>
<p>You can also change <code>cckHelp.accesskey</code> in this file to
 indicate which character you would like underlined on the menu.</p>
<p>Next, edit the file <code>cck.properties</code> and change the following
 line to the URL you would like the user to go to when they select the menu
 item:</p>
<pre>cckhelp.url=http://www.a9.com/-/company/help.jsp</pre>
<p>If you do not want to add an item to the Help Menu, comment out the
 following code in <code class="filename">cck-browser-overlay.xul</code>
 like this:</p>
<pre>&lt;!--
&lt;menupopup id="menu_HelpPopup"&gt;
&lt;menuitem label="&amp;cckHelp.label;" position="1"
          accesskey="&amp;cckHelp.accesskey;"
          oncommand="openUILink(getCCKLink('cckhelp.url'), event, false, true);"
          onclick="checkForMiddleClick(this, event);"/&gt;
&lt;/menupopup&gt;
--&gt;</pre>

<h3>Default Home Page</h3>
<p>This change allows you to specify the page that is displayed when users
 first start the Mozilla Firefox browser, or when they click the Home
 button. To make this change, edit the file
 <code class="filename">browser-config-cck.properties</code> and change the
 following lines to the Home Page URL:</p>
<pre>browser.startup.homepage=http://a9.com/
browser.startup.homepage_reset=http://a9.com/</pre>
<p>If you do not want to change the default home page, comment out (//) the
following lines in <code class="filename">firefox-cck.js</code>:</p>
<pre>pref("browser.startup.homepage", "resource:/browserconfig-cck.properties");
pref("browser.startup.homepage_reset", "resource:/browserconfig-cck.properties");</pre>

<h3>Browser Window's Title Bar Text</h3>
<p>This change allows you to add text (for example, your company name) that
 appears after the page title in the title bar. To make this change, edit
 the file <code>cck.dtd</code> and change the following line:</p>
<pre>&lt;!ENTITY mainWindow.titlemodifier "Mozilla Firefox: A9 Edition"&gt;</pre>
<p>Note that if you are distributing Firefox externally, this text should
 take the form:</p>
<pre>Mozilla Firefox: CompanyName Edition</pre>
<p>If you do not want to change the title bar text, comment out the
 following code in <code class="filename">cck-browser-overlay.xul</code>
 like this:</p>
<pre>&lt;!--
&lt;window id="main-window"
titlemodifier="&amp;mainWindow.titlemodifier;"/&gt;
--&gt;</pre>

<h3>Custom Personal Toolbar and Bookmarks</h3>
<p>This change allows you to specify custom Personal Toolbar items,
 bookmarks, and bookmark folders. To make this change, you must edit the
 file <code class="filename">bookmarks.html</code>. We have provided a
 default <code class="filename">bookmarks.html</code> that shows how to do
 some basic bookmarks, and you can use these as a template for adding your
 bookmarks. It is important when editing this file that you keep the
 structure in the file.</p>

<h4>Adding a bookmark</h4>
<p>All bookmarks take this form in the file:</p>
<pre>&lt;DT&gt;&lt;A HREF="http://a9.com/"&gt;A9.com&lt;/A&gt;</pre>
<p>Where you put them in the file determines how they appear in the user
 interface.</p>

<h4>Specifying a custom Personal Toolbar item</h4>
<p>To specify a custom tool bar items, make the bookmark a child of the
 folder marked PERSONAL_TOOLBAR_FOLDER:</p>
<pre>&lt;DT&gt;&lt;H3 PERSONAL_TOOLBAR_FOLDER="true" ID="rdf:#$FvPhC3"&gt;Bookmarks Toolbar Folder&lt;/H3&gt;
&lt;DD&gt;Add bookmarks to this folder to see them displayed on the Bookmarks Toolbar
  &lt;DL&gt;&lt;p&gt;
    &lt;DT&gt;&lt;A HREF="http://a9.com/"&gt;A9.com (Personal Toolbar)&lt;/A&gt;
  &lt;/DL&gt;</pre>

<h4>Adding a bookmark folder</h4>
<p>Bookmark folders are indicating by using an <code>&lt;H3&gt;</code> tag
 in the bookmark:</p>
<pre>&lt;DT&gt;&lt;H3&gt;A9 (Folder)&lt;/H3&gt;</pre>

<h3>Popup and XPInstall whitelist</h3>
<p>This change allows you specify sites for which popups and/or XPInstalls
 are not automatically blocked. To make this change, you must edit the file
 <code class="filename">hostperm.1</code>. This file contains a list of
 domain names and the default popup and install settings for those domains.
 To add your domain, simply change thefollowing line to your domain name:
 </p>
<pre>host	popup	1	a9.com</pre>
<p>If you want to allow XPInstalls for your domain, you can add the line:
 </p>
<pre>host	install	1	example.com</pre>
<p>If you add additional lines, note that the separator between the items on
 a line are tabs.</p>
<p>If you do not want to specify sites that are whitelisted, do not place
 <code class="filename">hostperm.1</code> in
 <code class="filename">CCK.XPI</code>.</p>
<p>Note that this change only takes effect when a new profile is created,
 since the changes are in a file that is copied over when a new profile is
 created.</p>

<h3>Custom Search Engine</h3>
<p>This change allows you to specify an additional search engine that is
 available in the Firefox search bar. In order to add a search engine, you
 must have a search plugin file (SRC) and an image file (GIF, JPG or PNG).
 More information on these file formats, as well as many prebuilt search
 plugins can be found at
 <a href="http://mycroft.mozdev.org/">http://mycroft.mozdev.org/</a>.</p>
<p>Once you have a SRC file and an image file, simply place these files into
 the <code class="filename">searchplugins</code> directory in
 <code class="filename">CCK.XPI</code> and they will be installed as part of
 the CCK.</p>
<p>By default, the search plugins are sorted by filename. If you want your
 search engine to appear first in the list, add the following preference to
 <code class="filename">firefox-cck.js</code> where "Name of Plugin" is the
 name specified in the search plugin file:</p>
<pre>pref("browser.search.order.1", "Name of Plugin");</pre>
<p>Note that by default, Google is the first search item and Yahoo is the
 second, so if you make yours first, you might want to add these lines as
 well to ensure consistent order:</p>
<pre>pref("browser.search.order.2", "Google");
pref("browser.search.order.3", "Yahoo");</pre>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified August  4,  2005</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/cck/firefox/cck01.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
