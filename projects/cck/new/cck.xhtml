<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title /><meta name="generator" content="StarOffice/OpenOffice XSLT (http://xml.openoffice.org/sx2ml)" /><meta name="created" content="2005-05-10T13:56:20" /><meta name="changed" content="2005-05-19T15:43:03" /><base href="." /><style type="text/css">
	@page { size: 8.5inch 11inch; margin-top: 0.7874inch; margin-bottom: 0.7874inch; margin-left: 0.7874inch; margin-right: 0.7874inch }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; }
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { padding:0; }
	* { margin:0; }
	*.Caption { font-family:'Times New Roman'; font-size:10pt; margin-top:0.0835in; margin-bottom:0.0835in; font-style:italic; }
	*.Code { font-family:'Times New Roman'; font-size:12pt; }
	*.Heading { font-family:Arial; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; }
	*.Heading1 { font-family:Arial; font-size:115%; margin-top:0.1665in; margin-bottom:0.0835in; font-weight:bold; }
	*.Heading2 { font-family:Arial; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; }
	*.Heading3 { font-family:Arial; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-weight:bold; }
	*.Heading4 { font-family:Arial; font-size:85%; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; }
	*.Index { font-family:'Times New Roman'; font-size:12pt; }
	*.List { font-family:'Times New Roman'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; }
	*.P1 { font-family:'Courier New'; font-size:10pt; }
	*.P2 { font-family:'Times New Roman'; font-size:12pt; }
	*.P3 { font-family:Arial; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-weight:bold; }
	*.P4 { font-family:Arial; font-size:85%; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; }
	*.PreformattedText { font-family:'Courier New'; font-size:10pt; margin-top:0in; margin-bottom:0in; }
	*.Standard { font-family:'Times New Roman'; font-size:12pt; }
	*.Textbody { font-family:'Times New Roman'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; }
	*.Internetlink { color:#000080; text-decoration:underline; }
	*.NumberingSymbols { }
	*.T1 { font-weight:bold; }
	*.T2 { font-family:'Courier New'; font-size:10pt; }
	*.T3 { font-family:'Courier New'; font-size:10.5pt; }
	*.T4 { font-family:'Courier New'; font-size:10pt; }
	</style></head><body dir="ltr"><h1 class="Heading1"><a name="Overview_of_the_CCK_0.1_for_Firefox" />Overview of the CCK 0.1 for Firefox</h1><p class="Standard"> </p><p class="Standard">The goal of the first release of Firefox is to produce an XPI file that when installed customizes parts of Firefox equivalent to the Netscape 7 CCK. </p><p class="Standard"> </p><p class="Standard">This document will describe how those customizations are achieved.  </p><p class="Standard"> </p><p class="Standard">Note that for demo purposes, we have created a CCK that customizes the browser as if it were distributed by A9. </p><p class="Standard"> </p><p class="Standard">This is a preliminary CCK – use at your own risk.        </p><p class="Standard"> </p><h2 class="Heading2"><a name="How_the_CCK_is_organized" />How the CCK is organized</h2><p class="Standard">For this version of the CCK, we have provided an XPI file that can be distributed and installed with a standard Firefox install. To make CCK customizations, you will have to unzip this XPI and the CCK.JAR file that is contained within it, and then rezip the file for distribution. Here is how the files are organized: </p><p class="Standard"> </p><p class="Standard">The CCK XPI is a ZIP file that is organized like this: </p><p class="Standard"> </p><p class="P1">cck.xpi </p><p class="P1">  install.js</p><p class="P1">  bin\</p><p class="P1">    browserconfig-cck.properties</p><p class="P1">    chrome\</p><p class="P1">      <span class="T1">cck.jar</span></p><p class="P1">    defaults\</p><p class="P1">      pref\</p><p class="P1">        firefox-cck.js</p><p class="P1">      profile\</p><p class="P1">        bookmarks.html</p><p class="P1">        hostperm.1</p><p class="P1">    searchplugins\</p><p class="Standard"> </p><p class="Standard">The CCK.JAR is a ZIP file that is organized like this: </p><p class="Standard"> </p><p class="P1">cck.jar </p><p class="P1">  content\</p><p class="P1">    cck\</p><p class="P1">      cck-browser-overlay.xul</p><p class="P1">      cck.css</p><p class="P1">      cck.dtd</p><p class="P1">      cck.js</p><p class="P1">      cck.properties</p><p class="P1">      contents.rdf</p><p class="P1">      throbber-anim.gif</p><p class="P1">      throbber-single.gif</p><p class="Standard"> </p><p class="Standard">After making the changes referenced in this file, you should rezip the JAR and the XPI exactly as they were originally. </p><h2 class="Heading2"><a name="Installing_the_CCK_with_Firefox_on_Windows" />Installing the CCK with Firefox on Windows</h2><p class="Standard">Once you have a CCK.XPI, you can modify Firefox to install the CCK as part of the normal Firefox install on Windows. </p><p class="Standard"> </p><ol style="margin-left:1.25cm;list-style-type:decimal; "><li class="P2" style="margin-left:0cm;"><p class="P2" style="margin-left:0.25cm;">First, you must obtain 7-zip from http://www.7-zip.org/. Using 7-zip, unpack the files from <span class="T2">Firefox Setup 1.0.4.exe</span> into a directory. </p></li><li class="P2" style="margin-left:0cm;"><p class="P2" style="margin-left:0.25cm;">Copy your CCK.XPI into this directory. </p></li><li class="P2" style="margin-left:0cm;"><p class="P2" style="margin-left:0.25cm;">Edit the file CONFIG.INI and make the following changes. </p></li></ol><p class="Standard"> </p><p class="Standard">Search for <span class="T2">[Setup Type0]</span>. There are two setup types for Firefox, and we will be adding the CCK to both of them. After the line <span class="T3">C5=Component QFA</span>, add the line:</p><p class="Standard"> </p><p class="P1">C6=Component CCK </p><p class="Standard"> </p><p class="Standard">Search for <span class="T2">[Setup Type1]</span>. After the line <span class="T2">C6=Component QFA</span>, add the line:</p><p class="Standard"> </p><p class="P1">C7=Component CCK </p><p class="Standard"> </p><p class="Standard">Search for <span class="T2">[Component Langpack]</span>. We will be adding a new component after this section for the CCK. Add the following section after the line <span class="T2">FileCount=0</span> and before the line <span class="T2">[Component QFA]</span>:</p><p class="Standard"> </p><p class="P1">[Component CCK] </p><p class="P1">Description Short=CCK </p><p class="P1">Description Long=Client Customization Kit </p><p class="P1">Archive=cck.xpi </p><p class="P1">Install Size=1 </p><p class="P1">Install Size System=1 </p><p class="P1">Install Size Archive=1 </p><p class="P1">Attributes=SELECTED|INVISIBLE </p><p class="Standard"> </p><p class="Standard">These attributes ensure that it will always be installed, and the user will not see that it is being installed. </p><p class="Standard"> </p><p class="Standard">Note you can also change some of the references to Mozilla Firefox in this file to mention your custom edition. For instance, this line will change the name of the folder that is created on the desktop: </p><p class="Standard"> </p><p class="P1">Path=[PROGRAMFILESDIR]\Mozilla Firefox </p><p class="Standard"> </p><p class="Standard">Do NOT change <span class="T2">Company Name</span>, <span class="T2">Product Name</span>, or <span class="T2">ProductNameInternal</span> as this will cause Firefox to not function correctly.</p><p class="Standard"> </p><p class="Standard">You can now test your install by simply running <span class="T2">SETUP.EXE</span>.</p><p class="Standard"> </p><p class="Standard">If you want to ship your customized Firefox as a single executable, you can follow the instructions at http://www.mozilla.org/projects/firefox/l10n/localize-release.html. Creating this file is beyond the scope of this document.  </p><p class="Standard"> </p><p class="Standard">If you want a silent install, you can change the line <span class="T2">Run Mode=Normal</span> to <span class="T2">Run M</span><span class="T2">ode=Silent</span>. Note that <span class="T2">Run Mode=Auto</span> does not work with Firefox 1.0.x browsers.</p><p class="Standard"> </p><h2 class="Heading2"><a name="Items_that_can_be_changed_by_the_CCK" />Items that can be changed by the CCK</h2><p class="Standard"> </p><p class="Standard">This section details the items that can be changed by the CCK and how to change them. </p><h3 class="Heading3"><a name="Company_Identifier" />Company Identifier</h3><p class="Standard">This change allows you to specify a company identifier that is included as part of the browser's user agent string which appears when you open the Help menu and select About Mozilla Firefox. To make this change, edit the file <span class="T2">firefox-cck.js</span> and change the following line:</p><p class="Standard"> </p><p class="P1">pref("general.useragent.vendorComment", "CK-A9"); </p><p class="Standard"> </p><p class="Standard">If you do not want the have a company identifier, comment out (//) the above line in <span class="T4">firefox-cck.js</span>.</p><p class="Standard"> </p><h3 class="Heading3"><a name="Animated_logo" />Animated logo</h3><p class="Standard"> </p><p class="Standard">These changes allow you to specify the URL that users will go to when they click on the animated logo button, the tooltip that users will see when they mouse over the animated logo button and the animated logo itself. </p><p class="Standard">To change the URL that users will go to when they click on the animated logo button, edit the file <span class="T4">cck.properties</span> and change the following line:</p><p class="Standard"> </p><p class="P1">browser.throbber.url=http://a9.com/ </p><p class="Standard"> </p><p class="Standard">If you do not want to change the URL comment out (//) the following line from <span class="T2">firefox-cck.js</span>:</p><p class="Standard"> </p><p class="P1">pref("browser.throbber.url", "chrome://cck/content/cck.properties"); </p><p class="Standard"> </p><p class="Standard">To change the tooltip that users will see when they mouse over the animated logo button, edit the file <span class="T2">cck.dtd</span> and change the following line:</p><p class="Standard"> </p><p class="P1">&lt;!ENTITY throbber.tooltip "Go to A9"&gt; </p><p class="Standard"> </p><p class="Standard">If you do not want to change the tooltip, comment out the following code in <span class="T2">cck-browser-overlay.xul</span>:</p><p class="Standard"> </p><p class="P1">&lt;!-- </p><p class="P1">&lt;button id="navigator-throbber" </p><p class="P1"> tooltiptext="&amp;throbber.tooltip;"/&gt;</p><p class="P1">--&gt; </p><p class="Standard"> </p><p class="Standard">To change the animated logo, you must create two images, one corresponding to the logo when it is animated, and one corresponding to the logo when it is at rest. The animated image must be a GIF, but the at rest image can be either a PNG or a GIF. These images should be 16x16. You can use the files <span class="T2">throbber-anim.gif</span> and <span class="T2">throbber-single.gif</span> as templates. Once you have created these images, simply replace <span class="T2">throbber-anim.gif</span> and <span class="T4">throbber-single.gif</span> with your images. If you used a PNG for your at rest logo, you must edit the file <span class="T2">cck.css</span> and change the two occurrences of throbber-single.gif to <span class="T4">throbber-single.png</span>.</p><p class="Standard"> </p><p class="Standard">If you do not want to change the animated logo, remove the following line from <span class="T2">cck-browser-overlay.xul</span>:</p><p class="Standard"> </p><p class="P1">&lt;?xml-stylesheet href="chrome://cck/content/cck.css" type="text/css"?&gt; </p><p class="P1"> </p><h3 class="P3"><a name="Help_Menu" />Help Menu</h3><p class="Standard">This change allows you to add an item to the Help Menu which provides a link to your online customer support page. To make this change, you have to change two files. First, edit the file <span class="T4">cck.dtd</span> and change the following line to the text you would like displayed on the help menu item:</p><p class="Standard"> </p><p class="P1">&lt;!ENTITY cckHelp.label "A9 Help and FAQs"&gt; </p><p class="Standard"> </p><p class="Standard">You can also change <span class="T2">cckHelp.accesskey</span> in this file to indicate which character you would like underlined on the menu.</p><p class="Standard"> </p><p class="Standard">Next, edit the file <span class="T4">cck.properties</span> and change the following line to the URL you would like the user to go to when they select the menu item:</p><p class="Standard"> </p><p class="P1">cckhelp.url=http://www.a9.com/-/company/help.jsp </p><p class="Standard"> </p><p class="Standard">If you do not want to add an item to the Help Menu, comment out the following code in <span class="T2">cck-browser-overlay.xul</span> like this:</p><p class="Standard"> </p><p class="P1">&lt;!-- </p><p class="P1">&lt;menupopup id="menu_HelpPopup"&gt; </p><p class="P1">  &lt;menuitem label="&amp;cckHelp.label;" position="1"</p><p class="P1">            accesskey="&amp;cckHelp.accesskey;"</p><p class="P1">            oncommand="openUILink(getCCKLink('cckhelp.url'), event, false, true);"</p><p class="P1">            onclick="checkForMiddleClick(this, event);"/&gt;</p><p class="P1">&lt;/menupopup&gt; </p><p class="P1">--&gt; </p><h3 class="P3"><a name="Default_Home_Page" />Default Home Page</h3><p class="Standard">This change allows you to specify the page that is displayed when users first start the Mozilla Firefox browser, or when they click the Home button. To make this change, edit the file browser-config-cck.properties and change the following lines to the Home Page URL: </p><p class="Standard"> </p><p class="P1">browser.startup.homepage=http://a9.com/ </p><p class="P1">browser.startup.homepage_reset=http://a9.com/ </p><p class="P1"> </p><p class="Standard">If you do not want to change the default home page, comment out (//) the following lines in firefox-cck.js: </p><p class="Standard"> </p><p class="P1">pref("browser.startup.homepage",       "resource:/browserconfig-cck.properties");</p><p class="P1">pref("browser.startup.homepage_reset", "resource:/browserconfig-cck.properties"); </p><h3 class="Heading3"><a name="Browser_Window_27s_Title_Bar_Text" />Browser Window's Title Bar Text</h3><p class="Standard">This change allows you to add text (for example, your company name) that appears after the page title in the title bar. To make this change, edit the file <span class="T4">cck.properties</span> and change the following line:</p><p class="Standard"> </p><p class="P1">&lt;!ENTITY mainWindow.titlemodifier "Mozilla Firefox: A9 Edition"&gt; </p><p class="Standard"> </p><p class="Standard">Note that if you are distributing Firefox externally, this text should take the form: </p><p class="Standard"> </p><p class="P1">Mozilla Firefox: CompanyName Edition </p><p class="Standard"> </p><p class="Standard">If you do not want to change the title bar text, comment out the following code in <span class="T2">cck-browser-overlay.xul</span> like this:</p><p class="Standard"> </p><p class="P1">&lt;!-- </p><p class="P1">&lt;window id="main-window" </p><p class="P1"> titlemodifier="&amp;mainWindow.titlemodifier;"/&gt;</p><p class="Standard">--&gt; </p><h3 class="Heading3"><a name="Custom_Personal_Toolbar_and_Bookmarks" />Custom Personal Toolbar and Bookmarks</h3><p class="Standard">This change allows you to specify custom Personal Toolbar items, bookmarks, and bookmark folders. To make this change, you must edit the file <span class="T2">bookmarks.html</span>. We have provided a default <span class="T2">bookmarks.html</span> that shows how to do some basic bookmarks, and you can use these as a template for adding your bookmarks. It is important when editing this file that you keep the structure in the file.</p><p class="Standard"> </p><h4 class="P4"><a name="Adding_a_bookmark" />Adding a bookmark</h4><p class="Standard"> </p><p class="Standard">All bookmarks take this form in the file: </p><p class="Standard"> </p><p class="P1">&lt;DT&gt;&lt;A HREF="http://a9.com/"&gt;A9.com&lt;/A&gt; </p><p class="Standard"> </p><p class="Standard">Where you put them in the file determines how they appear in the user interface. </p><h4 class="Heading4"><a name="Specifying_a_custom_Personal_Toolbar_item" />Specifying a custom Personal Toolbar item</h4><p class="Standard">To specify a custom tool bar items, make the bookmark a child of the folder marked PERSONAL_TOOLBAR_FOLDER: </p><p class="Standard"> </p><p class="P1">    &lt;DT&gt;&lt;H3 PERSONAL_TOOLBAR_FOLDER="true" ID="rdf:#$FvPhC3"&gt;Bookmarks Toolbar Folder&lt;/H3&gt;</p><p class="P1">&lt;DD&gt;Add bookmarks to this folder to see them displayed on the Bookmarks Toolbar </p><p class="P1">    &lt;DL&gt;&lt;p&gt;</p><p class="P1">        &lt;DT&gt;&lt;A HREF="http://a9.com/"&gt;A9.com (Personal Toolbar)&lt;/A&gt;</p><p class="P1">    &lt;/DL&gt;</p><h4 class="Heading4"><a name="Adding_a_bookmark_folder" />Adding a bookmark folder</h4><p class="Standard"> </p><p class="Standard">Bookmark folders are indicating by using an <span class="T2">&lt;H3&gt;</span> tag in the bookmark:</p><p class="Standard"> </p><p class="P1">    &lt;DT&gt;&lt;H3&gt;A9 (Folder)&lt;/H3&gt;</p><p class="Standard"> </p><h3 class="Heading3"><a name="Popup_and_XPInstall_whitelist" />Popup and XPInstall whitelist</h3><p class="Standard"> </p><p class="Standard">This change allows you specify sites for which popups and/or XPInstalls are not automatically blocked. To make this change, you must edit the file <span class="T2">hostperm.1</span>. This file contains a list of domain names and the default popup and install settings for those domains. To add your domain, simply change thefollowing line to your domain name:</p><p class="Standard"> </p><p class="P1">host        popup        1        a9.com</p><p class="P1"> </p><p class="Standard">If you want to allow XPInstalls for your domain, you can add the line: </p><p class="Standard"> </p><p class="P1">host        install        1        example.com</p><p class="Standard"> </p><p class="Standard">If you add additional lines, note that the separator between the items on a line are tabs. </p><p class="Standard"> </p><p class="Standard">If you do not want to specify sites that are whitelisted, do not place hostperm.1 in CCK.XPI. </p><p class="Standard"> </p><p class="Standard">Note that this change only takes effect when a new profile is created, since the changes are in a file that is copied over when a new profile is created. </p><p class="Standard"> </p><h3 class="Heading3"><a name="Custom_Search_Engine" />Custom Search Engine</h3><p class="Standard">This change allows you to specify an additional search engine that is available in the Firefox search bar. In order to add a search engine, you must have a search plugin file (SRC) and an image file (GIF, JPG or PNG). More information on these file formats, as well as many prebuilt search plugins can be found at  <a href="http://mycroft.mozdev.org/">http://mycroft.mozdev.org</a>.</p><p class="Standard"> </p><p class="Standard">Once you have a SRC file and an image file, simply place these files into the <span class="T2">searchplugins</span> directory in CCK.XPI and they will be installed as part of the CCK. </p><p class="Standard"> </p><p class="Standard">By default, the search plugins are sorted by filename. If you want your search engine to appear first in the list, add the following preference to firefox-cck.js where “Name of Plugin” is the name specified in the search plugin file: </p><p class="Standard"> </p><p class="P1">pref("browser.search.order.1",       "Name of Plugin");</p><p class="Standard"> </p><p class="Standard">Note that by default, Google is the first search item and Yahoo is the second, so if you make yours first, you might want to add these lines as well to ensure consistent order: </p><p class="Standard"> </p><p class="P1">pref("browser.search.order.2",       "Google");</p><p class="P1">pref("browser.search.order.3",       "Yahoo");</p><p class="Standard"> </p><p class="Standard"> </p></body></html>