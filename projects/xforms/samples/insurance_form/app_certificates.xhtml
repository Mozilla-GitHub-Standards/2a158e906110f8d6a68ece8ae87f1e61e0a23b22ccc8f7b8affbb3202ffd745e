<?xml version="1.0"?>
<!--
Copyright Origo Services Limited 2005.

	  ORIGO STANDARDS: DISCLAIMER and LIABILITY NOTICE

	  IMPORTANT NOTICE:

	  The following relates to the use of the XForm contained in this file. Before using the contents of this file, please read carefully the provisions contained in this  Disclaimer and Liability Notice.  By downloading and using any part of the XForm, you agree to be bound by each provision of this Disclaimer and Liability Notice.

	  If you do not agree to accept all of the provisions of this Disclaimer and Liability Notice, do not download and/or use any of the remaining contents of this file.


	  1. DISCLAIMER

	  1.1	
	  Origo believes it has employed personnel or appointed agents, subcontractors or representatives who use reasonable skill and care in the creation of the XForm. 

	  1.2	
	  The XForm detailed in this file is provided "as is" without any warranty or representation  (express or implied) and all warranties and representations  are excluded to the fullest extent permitted by law.   Without any prejudice to the generality of the foregoing  Origo specifically excludes any implied warranties or  representations of accuracy, completeness, satisfactory  quality, fitness for a particular purpose, freedom from  computer viruses and non-infringement of any third party's  intellectual property rights.  Furthermore, Origo does not  warrant or represent that the XForm will be error free nor that any such errors will be corrected.  You are  solely responsible for all costs and expenses associated  with the rectification, repair, loss or damage caused by  such errors.  Origo may from time to time upgrade, or create new versions of, the XForm which may correct any such errors and although Origo has no obligation to notify  you of such upgrades or new versions these will be made  available at Origo's internet website (currently  www.origoservices.com).  Unless otherwise specified or  agreed, this Disclaimer and Liability Notice shall apply mutatis mutandis.

	  2. Limitation of Liability

	  2.1	
	  Subject to Clause 2.4, Origo shall not be liable to  you or any other party, for any liability, loss or damage  whatsoever (including any costs and expenses), howsoever  caused arising, directly or indirectly in connection with or  arising pursuant to this Disclaimer and Liability Notice,  the XForm detailed below, its use or otherwise,  except to the extent that such liability may not be lawfully  excluded under the applicable law.

	  2.2	
	  Without prejudice to Clause 2.1, Origo expressly excludes all liability whatsoever for any:

	  2.2.1
	  indirect, special, incidental or consequential loss  or damage;

	  2.2.2
	  loss of profit, turnover, business revenue,  contracts, goodwill, reputation, anticipated savings; or

	  2.2.3<
	  loss of management time or data, work stoppage,  computer failure or malfunction including, without prejudice to the foregoing, any loss or damage arising from or  pursuant to any transmission of any computer virus, worm,  Trojan Horse or other contaminant which may arise out of, or in connection with, the XForm, howsoever caused, even if Origo shall have  been advised of the possibility of such liability, loss or  damage.

	  2.3
	  Without prejudice to Clauses 2.1 and 2.2, and  subject to Clause 2.4, the total liability of Origo arising  out of or in connection with this Disclaimer and Liability  Notice and/or the use made, or otherwise, of all or any part  of the XForm for any incident or series of incidents (whether or not connected) shall not exceed 10,000 pounds.

	  2.4
	  Nothing in this Agreement shall limit either party's  liability to the other for death or personal injury  resulting from its own or that of its employees, agents,  sub-contractors or representatives' negligence.

	  2.5
	  Each limitation provision in this Clause 2 is to be construed as a separate exclusion or limitation applying and  surviving even if, for any reason one or other of the said  provisions is held inapplicable or unreasonable in any circumstance.

	  2.6
	  You acknowledge that you have considered this Clause 2 and agree that the limitations and exclusions herein are  reasonable in all the circumstances.

	  2.7
	  In the event of any conflict between the provisions  of the Origo Website Terms and Conditions and this  Disclaimer and Liability Notice, the provisions of this  Disclaimer and Liability Notice shall prevail.

-->

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xforms="http://www.w3.org/2002/xforms" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ml="http://www.origostandards.com/schema/ml/v1" xmlns:qnb="http://origoservices.com/qnb/imaginary" xmlns:html="http://www.w3.org/1999/xhtml">
  <head>
    <link rel="stylesheet" href="main.css" type="text/css" />

    <!-- Nearly all of the static text in this form except this title and the Terms & Conditions are inserted dynamically at runtime from an XML instance. None of the XForms processors I have tried allow you to do this with the HTML title.-->
    <title>Origo Services Ltd: Personal Identity Verificaction Certificate</title>

    <!--**********MODEL msg***************-->
    <!--model references the schema from which simple type information is taken. The types are used directly by the form controls to validate user input -->
<!--    <xforms:model id="msg" schema="money_laundering_certificate.xsd"> -->
    <xforms:model id="msg">

      <!-- submit to an echo service that just returns the submitted XML straight back again -->
      <xforms:submission action="http://xformstest.org/cgi-bin/showinstance.sh" id="submitLocal" method="post" indent="true" ref="instance('nbm')">

	<!-- trap the submit-done event to report that submit was successful, and the submit-error event to report that it was not. Not very useful feedback, but better than none (probably). -->
        <xforms:action ev:event="xforms-submit-done">
          <xforms:message level="modal">
	    <!--Here output is being used to insert text from an XML instance into the message-->
	          <xforms:output bind="submit_success"/>
	      </xforms:message>
        </xforms:action>
      </xforms:submission>
      <xforms:action ev:event="xforms-submit-error">
        <xforms:message level="modal">
	        <xforms:output bind="submit_failure"/>
	      </xforms:message>
      </xforms:action>

      <!-- The instance that the form will populate. The instance already contains some data so that the form appears partially filled.
           It is also worth noting that the instance contains every structure that the form user might possibly select and populate with data. This 
           is the only way to overcome XForms 1.0 inability to insert arbitrary XML structures into an instance of a document. Unfortunately it means that 
	   it is often impossible to begin with a schema valid instance. Unused structures are pruned on submission of the form, so the resulting XML instance
	   is schema valid (indeed it cannot be submitted if it isn't).-->
      <xforms:instance id="nbm" src="nbm.xml" xmlns="" />


      <!--An instance used to store an aspect of form state. "Temporary" instances like this are used instead of variables in XForms-->
      <!--Note the xmlns="" this prevents the inline instance below from picking up the in-scope default namespace (the XHTML one).
          If I didn't do this I wouldn't be able to write an XPath expression against the instance without giving the XHTML namespace a prefix-->
      <xforms:instance id="validityChecks" xmlns="">
	      <root>
	        <atLeastOneProofOfEach/>
	      </root>
      </xforms:instance>
	  
      <!-- An instance used to record whether or not the form user has agreed to abide by the terms and conditions -->
      <!-- Ideally would persist this-->
      <xforms:instance id="inst_agree_to_t_and_c" xmlns="">
        <root xsi:type="xsd:boolean" relevant_if_true="hello">false</root>
      </xforms:instance>
      <xforms:bind id="I_agree_to_t_and_c" nodeset="instance('inst_agree_to_t_and_c')"/>
      <xforms:bind id="relevant_if_agreed" nodeset="instance('inst_agree_to_t_and_c')/@relevant_if_true" relevant="instance('inst_agree_to_t_and_c') = 'true'"/>
      
      
<!-- atLeastOneProofOfEach is only relevant if the user has selected at least one proof of name and one proof of address. The trigger used as a submit is bound to this node, so it is only relevant if the condition is met. Note that this is not a really an effective test. Ideally the form should check that there is at least one valid child of proof_of_name and at least one valid child of proof_of_address. I can't work out how to achieve that with XForms 1.0 though :-(--> 
      <xforms:bind id="bndProofs" nodeset="instance('validityChecks')/atLeastOneProofOfEach" 
		   relevant="instance('proof_of_name')/proof_types/use/dont = 'true' and instance('proof_of_address')/proof_types/use/dont = 'true'"/>

      
      <!-- Bindings for admin bit -->
      <!-- bind is being used to achieve indirection between the form and the XML it is populating. If the XML being populated were to change only the bind statements would need to change,
           not the form itself (I hope). -->
      <xforms:bind id="bndCertExistingEvidenceUsedInd" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:existing_evidence_used_ind" type="xsd:boolean" />
      <xforms:bind id="why-not-verified" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:reason_not_verified" relevant="instance('seen-em')/yes != 'true'"/>
      <xforms:bind id="firm-name" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:regulated_firm/ml:name" />
      <xforms:bind id="regulator-name" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:regulated_firm/ml:regulator_name"/>
      <xforms:bind id="regulator-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:regulated_firm/ml:regulator_reference_no" />
      <xforms:bind id="witness-name" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:regulated_firm/ml:witness/ml:name"/>
      <xforms:bind id="witness-position" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:regulated_firm/ml:witness/ml:position" />
      <xforms:bind id="witness-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:regulated_firm/ml:witness/ml:date" type="xsd:date"/>
      <!-- Bindings for name and address-->
      <xforms:bind id="bndCertRole" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:role"/>
      <xforms:bind id="bndCertFullName" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:full_name" />
      <xforms:bind id="bndCertDOB" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:date_of_birth" type="xsd:date" />
      <xforms:bind id="bndCertAddressLine1" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:address/ml:line_1"/>
      <xforms:bind id="bndCertAddressLine2" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:address/ml:line_2"/>
      <xforms:bind id="bndCertAddressLine3" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:address/ml:line_3"/>
      <xforms:bind id="bndCertAddressLine4" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:address/ml:line_4"/>
<xsd:schema id="mySchema" xmlns:origo="http://www.origoservices.com" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ml="http://www.origostandards.com/schema/ml/v1" targetNamespace="http://www.origostandards.com/schema/ml/v1" elementFormDefault="qualified" attributeFormDefault="qualified" version="1">
  <xsd:simpleType name="Postcode">
    <xsd:restriction base="xsd:string">
      <xsd:pattern value="((([A-Z]{2}[0-9]{1,2})|([A-Z]{1,2}[0-9][A-Z])|([A-Z][0-9]{1,2}))\s([0-9][A-Z]{2})|(BFPO\s\d{1,4})|(GIR\s0AA))"/>
    </xsd:restriction>
  </xsd:simpleType>
</xsd:schema>

      <xforms:bind id="bndCertAddressPostcode" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:address/ml:postcode" type="ml:Postcode"/>
      <!--PROOF OF NAME-->
      <!--stores the state of part of the user interface-->
      <!--I had planned to persist this, but the user gets asked every time I want to save it (locally)-->
      <!--and that doesn't seem right for something that is functionally just a cookie, so I didn't bother. This is a shame as it would be useful to persist form state.-->
      <xforms:instance id="proof_of_name" src="name-switches.xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" />

      <!--The following binds will hide or show the inputs for the various methods of verifying a parties name, according to whether the user has selected -->
      <!--an item-->
      <!--passport-->
      <xforms:bind id="name-option-passport" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_passport']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_passport']/do" relevant="../dont = 'true'" id="name-show-passport" />
      <!-- permit -->
      <xforms:bind id="name-option-permit" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_permit']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_permit']/do" relevant="../dont = 'true'" id="name-show-permit" />
      <!--photo licence-->
      <xforms:bind id="name-option-photo-lic" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_photo_licence']/dont" type="xsd:boolean" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_full_lic']/dont != 'true' and instance('proof_of_address')/proof_types/use[@type = 'use_photo_licence']/dont != 'true' and instance('proof_of_address')/proof_types/use[@type = 'use_full_lic']/dont != 'true'" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_photo_licence']/do" relevant="../dont = 'true'" id="name-show-photo-lic" />
      <!--old style licence-->
      <xforms:bind id="name-option-old-lic" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_full_lic']/dont" type="xsd:boolean" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_photo_licence']/dont != 'true' and instance('proof_of_address')/proof_types/use[@type = 'use_photo_licence']/dont != 'true' and instance('proof_of_address')/proof_types/use[@type = 'use_full_lic']/dont != 'true'" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_full_lic']/do" relevant="(../dont = 'true')" id="name-show-old-lic" />
      <!--firearms-->
      <xforms:bind id="name-option-firearms" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_firearms']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_firearms']/do" relevant="../dont = 'true'" id="name-show-firearms" />
      <!--benefit-->
      <xforms:bind id="name-option-benefit" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_benefit']/dont" type="xsd:boolean" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_pension_book']/dont != 'true'" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_benefit']/do" relevant="../dont = 'true'" id="name-show-benefit" />
      <!--subcontractor-->
      <xforms:bind id="name-option-subcon" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_sub_con']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_sub_con']/do" relevant="../dont = 'true'" id="name-show-subcon" />
      <!--tax thing-->
      <xforms:bind id="name-option-tax" nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_tax']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_name')/proof_types/use[@type = 'use_tax']/do" relevant="../dont = 'true'" id="name-show-tax" />
      <!-- these binds determine the relevance of the corresponding structure in the nbm instance-->
      <!-- Passport -->
      <xforms:bind id="ev-of-name-passport" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:passport" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_passport']/dont = 'true'"/>
      <xforms:bind id="nme-passport-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:passport/ml:passport_no" />
      <xforms:bind id="nme-passport-issuing-authority" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:passport/ml:issuing_authority" />
      <xforms:bind id="nme-passport-birth-place" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:passport/ml:place_of_birth" />
      <!--A  bit of cross-population: get date of birth from personal details using a calculate-->
      <xforms:bind id="nme-passport-birth-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:passport/ml:date_of_birth" type="xsd:date" calculate="../../../../ml:date_of_birth" />
<!--      <xforms:bind id="nme-passport-birth-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:passport/ml:date_of_birth" type="xsd:date"/> -->
      <xforms:bind id="nme-passport-expiry-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:passport/ml:date_of_expiry" type="xsd:date" />
      <!-- Permit -->
      <xforms:bind id="ev-of-name-permit" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:resident_permit" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_permit']/dont = 'true'"/>
      <xforms:bind id="nme-permit-ref" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:resident_permit/ml:reference_number" />
      <xforms:bind id="nme-expiry-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:resident_permit/ml:date_of_expiry" type="xsd:date" />
      <!--photo licence-->
      <xforms:bind id="ev-of-name-photo-lic" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:uk_eu_photo_driving_licence" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_photo_licence']/dont = 'true'"/>
      <xforms:bind id="nme-photo-lic-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:uk_eu_photo_driving_licence/ml:licence_number" />
      <xforms:bind id="nme-photo-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:uk_eu_photo_driving_licence/ml:date_of_issue" type="xsd:date" />
      <!--old style licence-->
      <xforms:bind id="ev-of-name-old-lic" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:uk_eu_driving_licence" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_full_lic']/dont = 'true'"/>
      <xforms:bind id="nme-old-lic-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:uk_eu_driving_licence/ml:licence_number" />
      <xforms:bind id="nme-old-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:uk_eu_driving_licence/ml:date_of_issue" type="xsd:date" />
      <!--firearms certificate-->
      <xforms:bind id="ev-of-name-firearms" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:firearms_certificate" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_firearms']/dont = 'true'"/>
      <xforms:bind id="nme-fire-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:firearms_certificate/ml:reference_number" />
      <xforms:bind id="nme-fire-authority" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:firearms_certificate/ml:issuing_authority" />
      <xforms:bind id="nme-fire-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:firearms_certificate/ml:date_of_issue" type="xsd:date" />
      <!--benefit-->
      <xforms:bind id="ev-of-nme-benefit" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:state_pension_book" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_benefit']/dont = 'true'"/>
      <xforms:bind id="nme-benefit-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:state_pension_book/ml:reference_number" />
      <xforms:bind id="nme-benefit-authority" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:state_pension_book/ml:issuing_authority" />
      <xforms:bind id="nme-benefit-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:state_pension_book/ml:date_of_issue" type="xsd:date" />
      <!--subcontractor-->
      <xforms:bind id="ev-of-nme-subcon" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:subcontractors_certificate" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_sub_con']/dont = 'true'"/>
      <xforms:bind id="nme-subcon-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:subcontractors_certificate/ml:reference_number" />
      <xforms:bind id="nme-subcon-authority" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:subcontractors_certificate/ml:issuing_authority" />
      <xforms:bind id="nme-subcon-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:subcontractors_certificate/ml:date_of_issue" type="xsd:date" />
      <!--tax thing-->
      <xforms:bind id="ev-of-nme-tax" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:tax_notification" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_tax']/dont = 'true'"/>
      <xforms:bind id="nme-tax-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:tax_notification/ml:reference_number" />
      <xforms:bind id="nme-tax-doc" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:tax_notification/ml:document" />
      <xforms:bind id="nme-tax-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_name/ml:tax_notification/ml:date_of_issue" type="xsd:date" />
      <!--PROOF OF ADDRESS-->
      <xforms:instance id="proof_of_address" xmlns="" src="address-switches.xml" />
      <!--hide or show groups depending on relevence-->
      <!--Home visit-->
      <xforms:bind id="address-option-visit" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_home_visit']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_home_visit']/do" relevant="../dont = 'true'" id="address-show-home-visit" />
      <!--mortgage statement-->
      <xforms:bind id="address-option-mortgage" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_mortgage_statement']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_mortgage_statement']/do" relevant="../dont = 'true'" id="address-show-mortgage" />
      <!--tax bill-->
      <xforms:bind id="address-option-tax" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_tax_bill']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_tax_bill']/do" relevant="../dont = 'true'" id="address-show-tax" />
      <!--rent card-->
      <xforms:bind id="address-option-rent" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_rent_card']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_rent_card']/do" relevant="../dont = 'true'" id="address-show-rent" />
      <!--bank statement-->
      <xforms:bind id="address-option-statement" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_bank_statement']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_bank_statement']/do" relevant="../dont = 'true'" id="address-show-statement" />
      <!--insurance certificate-->
      <xforms:bind id="address-option-insurance" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_insurance_certificate']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_insurance_certificate']/do" relevant="../dont = 'true'" id="address-show-insurance" />
      <!--utility bill-->
      <xforms:bind id="address-option-utility" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_utility_bill']/dont" type="xsd:boolean" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_utility_bill']/do" relevant="../dont = 'true'" id="address-show-utility" />
      <!--photo driving licence-->
      <xforms:bind id="address-option-photo-lic" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_photo_licence']/dont" type="xsd:boolean" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_full_lic']/dont != 'true' and instance('proof_of_name')/proof_types/use[@type = 'use_photo_licence']/dont != 'true' and instance('proof_of_name')/proof_types/use[@type = 'use_full_lic']/dont != 'true'" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_photo_licence']/do" relevant="../dont = 'true'" id="address-show-photo_licence" />
      <!--old style licence-->
      <xforms:bind id="address-option-old-lic" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_full_lic']/dont" type="xsd:boolean" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_photo_licence']/dont != 'true' and instance('proof_of_name')/proof_types/use[@type = 'use_photo_licence']/dont != 'true' and instance('proof_of_name')/proof_types/use[@type = 'use_full_lic']/dont != 'true'" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_full_lic']/do" relevant="../dont = 'true'" id="address-show-old_lic" />
      <!--pension book-->
      <xforms:bind id="address-option-pension" nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_pension_book']/dont" type="xsd:boolean" relevant="instance('proof_of_name')/proof_types/use[@type = 'use_benefit']/dont != 'true'" />
      <xforms:bind nodeset="instance('proof_of_address')/proof_types/use[@type = 'use_pension_book']/do" relevant="../dont = 'true'" id="address-show-pension" />
      <!-- make empty bits of message irrelevent, and bind to nodes we want to capture-->
      <!--Home visit-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:home_visit" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_home_visit']/dont = 'true'"/>
      <xforms:bind id="address-visit-entered-premises" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:home_visit/ml:premises_entered_ind" type="xsd:boolean" />
      <xforms:bind id="address-visit-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:home_visit/ml:date_of_visit" type="xsd:date"/>
      <!--mortgage statement-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:mortgage_statement" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_mortgage_statement']/dont = 'true'"/>
      <xforms:bind id="address-mortgage-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:mortgage_statement/ml:reference_number" />
      <xforms:bind id="address-mortgage-lender" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:mortgage_statement/ml:name_of_lender" />
      <xforms:bind id="address-mortgage-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:mortgage_statement/ml:date_of_issue" type="xsd:date" />
      <!--tax bill-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:tax_bill" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_tax_bill']/dont = 'true'"/>
      <xforms:bind id="address-tax-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:tax_bill/ml:reference_number" />
      <xforms:bind id="address-tax-authority" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:tax_bill/ml:name_of_authority" />
      <xforms:bind id="address-tax-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:tax_bill/ml:date_of_issue" type="xsd:date" />
      <!--rent card-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:rent_card" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_rent_card']/dont = 'true'"/>
      <xforms:bind id="address-rent-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:rent_card/ml:reference_number"  />
      <xforms:bind id="address-rent-authority" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:rent_card/ml:name_of_authority" />
      <xforms:bind id="address-rent-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:rent_card/ml:date_of_issue" type="xsd:date" />
      <!--bank statement-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:bank_statement" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_bank_statement']/dont = 'true'"/>
      <xforms:bind id="address-statement-accnt-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:bank_statement/ml:account_number" />
      <xforms:bind id="address-statement-issuer" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:bank_statement/ml:name_of_issuer" />
      <xforms:bind id="address-statement-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:bank_statement/ml:date_of_issue" type="xsd:date" />
      <!--insurance certificate-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:insurance_certificate"  relevant="instance('proof_of_address')/proof_types/use[@type = 'use_insurance_certificate']/dont = 'true'"/>
      <xforms:bind id="address-insurance-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:insurance_certificate/ml:reference_number" />
      <xforms:bind id="address-insurance-issuer" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:insurance_certificate/ml:name_of_issuer" />
      <xforms:bind id="address-insurance-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:insurance_certificate/ml:date_of_issue" type="xsd:date" />
      <!--utility bill-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:utility_bill" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_utility_bill']/dont = 'true'"/>
      <xforms:bind id="address-utility-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:utility_bill/ml:reference_number" />
      <xforms:bind id="address-utility-name" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:utility_bill/ml:name_of_utility" />
      <xforms:bind id="address-utility-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:utility_bill/ml:date_of_issue" type="xsd:date" />
      <!--Photo driving licence-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:uk_eu_photo_driving_licence" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_photo_licence']/dont = 'true'" />
      <xforms:bind id="address-photo-lic-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:uk_eu_photo_driving_licence/ml:licence_number" />
      <xforms:bind id="address-photo-lic-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:uk_eu_photo_driving_licence/ml:date_of_issue" type="xsd:date" />
      <!--Old style driving licence-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:uk_eu_driving_licence" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_full_lic']/dont = 'true'"/>
      <xforms:bind id="address-old-lic-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:uk_eu_driving_licence/ml:licence_number" />
      <xforms:bind id="address-old-lic-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:uk_eu_driving_licence/ml:date_of_issue" type="xsd:date" />
      <!--Pension book-->
      <xforms:bind nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:state_pension_book" relevant="instance('proof_of_address')/proof_types/use[@type = 'use_pension_book']/dont = 'true'"/>
      <xforms:bind id="address-pension-ref-no" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:state_pension_book/ml:reference_number" />
      <xforms:bind id="address-pension-authority-name" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:state_pension_book/ml:issuing_authority" />
      <xforms:bind id="address-pension-issue-date" nodeset="instance('nbm')/qnb:money_laundering/ml:individual/ml:certificate/ml:evidence_of_address/ml:state_pension_book/ml:date_of_issue" type="xsd:date" />
      <!-- Has the form filler-inerer seen the documents? -->
      <xforms:instance id="seen-em" xmlns="">
        <root xmlns="">
          <yes />
          <if-not />
        </root>
      </xforms:instance>

      <!-- this demostrates the use of the type attribute to assign a simple data type to a node. XForms type is more useful than xsi:type as it 
           can assign a type to an attribute -->
      <xforms:bind nodeset="instance('seen-em')/yes" type="xsd:boolean" id="have-you-seen-em" />
      <xforms:bind nodeset="instance('seen-em')/if-not" relevant="../yes != 'true'" id="no-I-havent" />
    </xforms:model>

    <!--*************CAPTIONS***************-->
    <!-- the bindings below retrieve most of the static text for the form. Note that these binds are in another model.-->
    <xforms:model id="captions">
      <xforms:instance src="captions.xml" xmlns="" />
      <xforms:bind id="submit_success" nodeset="caption[code= 'submit_success']/text"/>
      <xforms:bind id="submit_failure" nodeset="caption[code= 'submit_failure']/text"/>
      <xforms:bind id="cptn_terms" nodeset="caption[code = 'terms']/text" />
      <xforms:bind id="have-you-seen" nodeset="caption[code = 'have_you_seen']/text" />
      <xforms:bind id="doc" nodeset="caption[code = 'doc']/text" />
      <xforms:bind id="full_name" nodeset="caption[code = 'full_name']/text" />
      <xforms:bind id="save" nodeset="caption[code = 'save']/text" />
      <xforms:bind id="html_title" nodeset="caption[code = 'html_title']/text" />
      <xforms:bind id="app_process_method" nodeset="caption[code = 'app_process_method']/text" />
      <xforms:bind id="role" nodeset="caption[code = 'role']/text" />
      <xforms:bind id="title" nodeset="caption[code = 'title']/text" />
      <xforms:bind id="app_process_statement" nodeset="caption[code = 'app_process_statement']/text" />
      <xforms:bind id="money_launder_method" nodeset="caption[code = 'money_launder_method']/text" />
      <xforms:bind id="money_launder_electronically" nodeset="caption[code = 'money_launder_electronically']/text" />
      <xforms:bind id="money_launder_method_qu1.1" nodeset="caption[code = 'money_launder_method_qu1.1']/text" />
      <xforms:bind id="money_launder_method_qu1.2" nodeset="caption[code = 'money_launder_method_qu1.2']/text" />
      <xforms:bind id="yes" nodeset="caption[code = 'yes']/text" />
      <xforms:bind id="no" nodeset="caption[code = 'no']/text" />
      <xforms:bind id="moneyInCase" nodeset="caption[code = 'moneyInCase']/text" />
      <xforms:bind id="moneyOutCase" nodeset="caption[code = 'moneyOutCase']/text" />
      <xforms:bind id="moneyInQu1" nodeset="caption[code = 'moneyInQu1']/text" />
      <xforms:bind id="moneyInQu2.1" nodeset="caption[code = 'moneyInQu2.1']/text" />
      <xforms:bind id="moneyInQu2.2" nodeset="caption[code = 'moneyInQu2.2']/text" />
      <xforms:bind id="moneyOutQu1" nodeset="caption[code = 'moneyOutQu1']/text" />
      <xforms:bind id="moneyOutQu2.1" nodeset="caption[code = 'moneyOutQu2.1']/text" />
      <xforms:bind id="moneyOutQu2.2" nodeset="caption[code = 'moneyOutQu2.2']/text" />
      <xforms:bind id="addThirdParty" nodeset="caption[code = 'addThirdParty']/text" />
      <xforms:bind id="thirdparty" nodeset="caption[code = 'thirdparty']/text" />
      <xforms:bind id="id_verification" nodeset="caption[code = 'id_verification']/text" />
      <xforms:bind id="id_verification_for" nodeset="caption[code = 'id_verification_for']/text" />
      <xforms:bind id="cptn_ev_of_address" nodeset="caption[code = 'ev_of_address']/text" />
      <xforms:bind id="cptn_ev_of_name" nodeset="caption[code = 'ev_of_name']/text" />
      <xforms:bind id="cptn_cert_admin" nodeset="caption[code = 'cert_admin']/text" />
      <xforms:bind id="certification" nodeset="caption[code = 'certification']/text" />
      <xforms:bind id="cptn_regulator" nodeset="caption[code = 'regulator']/text" />
      <xforms:bind id="dob" nodeset="caption[code = 'dob']/text" />
      <xforms:bind id="address" nodeset="caption[code = 'address']/text" />
      <xforms:bind id="line1" nodeset="caption[code = 'line1']/text" />
      <xforms:bind id="line2" nodeset="caption[code = 'line2']/text" />
      <xforms:bind id="line3" nodeset="caption[code = 'line3']/text" />
      <xforms:bind id="line4" nodeset="caption[code = 'line4']/text" />
      <xforms:bind id="postcode" nodeset="caption[code = 'postcode']/text" />
      <xforms:bind id="existing_verification" nodeset="caption[code = 'existing_verification']/text" />
      <xforms:bind id="cert1" nodeset="caption[code = 'cert1']/text" />
      <xforms:bind id="sectiona" nodeset="caption[code = 'sectiona']/text" />
      <xforms:bind id="sectionb" nodeset="caption[code = 'sectionb']/text" />
      <xforms:bind id="cert2" nodeset="caption[code = 'cert2']/text" />
      <xforms:bind id="certa" nodeset="caption[code = 'cert a)']/text" />
      <xforms:bind id="certb" nodeset="caption[code = 'cert b)']/text" />
      <xforms:bind id="certc" nodeset="caption[code = 'cert c)']/text" />
      <xforms:bind id="certd" nodeset="caption[code = 'cert d)']/text" />
      <xforms:bind id="not-verified" nodeset="caption[code = 'not verified']/text" />
      <xforms:bind id="reg-firm" nodeset="caption[code = 'reg firm']/text" />
      <xforms:bind id="reg-firm-name" nodeset="caption[code = 'reg firm name']/text" />
      <xforms:bind id="regulator" nodeset="caption[code = 'regulator']/text" />
      <xforms:bind id="regulator-ref" nodeset="caption[code = 'regulator ref']/text" />
      <xforms:bind id="personal-details" nodeset="caption[code = 'personal details']/text" />
      <xforms:bind id="declaration" nodeset="caption[code = 'declaration']/text" />
      <xforms:bind id="witness1" nodeset="caption[code = 'witness1']/text" />
      <xforms:bind id="ref-no" nodeset="caption[code = 'ref no']/text" />
      <xforms:bind id="issuer" nodeset="caption[code = 'issuer']/text" />
      <xforms:bind id="pob" nodeset="caption[code = 'pob']/text" />
      <xforms:bind id="doe" nodeset="caption[code = 'doe']/text" />
      <xforms:bind id="doi" nodeset="caption[code = 'doi']/text" />
      <xforms:bind id="lic-no" nodeset="caption[code = 'lic no']/text" />
      <xforms:bind id="name" nodeset="caption[code = 'name']/text" />
      <xforms:bind id="position" nodeset="caption[code = 'position']/text" />
      <xforms:bind id="date" nodeset="caption[code = 'date']/text" />
      <xforms:bind id="ev-of-name" nodeset="caption[code = 'ev of name']/text" />
      <xforms:bind id="curr-passport" nodeset="caption[code = 'curr passport']/text" />
      <xforms:bind id="passport-title" nodeset="caption[code = 'passport title']/text" />
      <xforms:bind id="res-permit-title" nodeset="caption[code = 'res permit title']/text" />
      <xforms:bind id="res-permit-short-title" nodeset="caption[code = 'res permit short title']/text" />
      <xforms:bind id="photo-licence-title" nodeset="caption[code = 'photo licence title']/text" />
      <xforms:bind id="photo-licence-short-title" nodeset="caption[code = 'photo licence short title']/text" />
      <xforms:bind id="old-licence-title" nodeset="caption[code = 'old licence title']/text" />
      <xforms:bind id="firearms-title" nodeset="caption[code = 'firearms title']/text" />
      <xforms:bind id="benefit-title" nodeset="caption[code = 'benefit title']/text" />
      <xforms:bind id="benefit-short-title" nodeset="caption[code = 'benefit short title']/text" />
      <xforms:bind id="sub-con-title" nodeset="caption[code = 'sub con title']/text" />
      <xforms:bind id="inland-revenue-title" nodeset="caption[code = 'inland revenue title']/text" />
      <xforms:bind id="inland-revenue-short-title" nodeset="caption[code = 'inland revenue short title']/text" />
      <xforms:bind id="home-visit-title" nodeset="caption[code = 'home visit title']/text" />
      <xforms:bind id="premises-entered" nodeset="caption[code = 'premises entered']/text" />
      <xforms:bind id="date-of-visit" nodeset="caption[code = 'date of visit']/text" />
      <xforms:bind id="mortgage-title" nodeset="caption[code = 'mortgage title']/text" />
      <xforms:bind id="mortgage-short-title" nodeset="caption[code = 'mortgage short title']/text" />
      <xforms:bind id="lender-name" nodeset="caption[code = 'lender name']/text" />
      <xforms:bind id="tax-bill-title" nodeset="caption[code = 'tax bill title']/text" />
      <xforms:bind id="tax-bill-short-title" nodeset="caption[code = 'tax bill short title']/text" />
      <xforms:bind id="authority-name" nodeset="caption[code = 'authority name']/text" />
      <xforms:bind id="rent-card-title" nodeset="caption[code = 'rent card title']/text" />
      <xforms:bind id="rent-card-short-title" nodeset="caption[code = 'rent card short title']/text" />
      <xforms:bind id="bank-statement-title" nodeset="caption[code = 'bank statement title']/text" />
      <xforms:bind id="bank-statement-short-title" nodeset="caption[code = 'bank statement short title']/text" />
      <xforms:bind id="account-no" nodeset="caption[code = 'account no']/text" />
      <xforms:bind id="issuer-name" nodeset="caption[code = 'issuer name']/text" />
      <xforms:bind id="insurance-certificate-title" nodeset="caption[code = 'insurance certificate title']/text" />
      <xforms:bind id="insurance-certificate-short-title" nodeset="caption[code = 'insurance certificate short title']/text" />
      <xforms:bind id="utility-bill-title" nodeset="caption[code = 'utility bill title']/text" />
      <xforms:bind id="utility-bill-short-title" nodeset="caption[code = 'utility bill short title']/text" />
      <xforms:bind id="utility-name" nodeset="caption[code = 'utility name']/text" />
      <xforms:bind id="pension-book-title" nodeset="caption[code = 'pension book title']/text" />
      <xforms:bind id="pension-book-short-title" nodeset="caption[code = 'pension book short title']/text" />
      <xforms:bind id="removeThirdParty" nodeset="caption[code = 'removeThirdParty']/text" />
      <xforms:bind id="cptn_declaration" nodeset="caption[code = 'declaration']/text" />
      <xforms:bind id="explanatory-text-1.1-applicant-page" nodeset="caption[code = 'explanatory text 1.1 applicant page']/text" />
      <xforms:bind id="explanatory-text-1.2-applicant-page" nodeset="caption[code = 'explanatory text 1.2 applicant page']/text" />
      <xforms:bind id="explanatory-text-1.3-applicant-page" nodeset="caption[code = 'explanatory text 1.3 applicant page']/text" />
      <xforms:bind id="explanatory-text-1.4-applicant-page" nodeset="caption[code = 'explanatory text 1.4 applicant page']/text" />
    </xforms:model>
    <!--*************MODEL Lists************-->
    <!-- values for enumerations. Note that despite being data type aware XForms form controls will not build a list of alternative values from
         an enumeration data type automatically. The form author has to do it by hand. This does at least mean that it is possible to assign alternative
	 captions in lieu of actual values.-->
    <xforms:model id="lists">
      <xforms:instance src="list_values.xml" id="listValues" />
    </xforms:model>

    <xforms:model id="TandC" xmlns:html="http://www.w3.org/1999/xhtml">
      <xforms:instance src="t_and_c.xhtml"  id="t_and_c_html"/>
      <xforms:bind id="t_and_c_title" nodeset="instance('t_and_c_html')/html:body/html:h3"/>
      <xforms:bind id="t_and_c_text" nodeset="instance('t_and_c_html')/html:body/html:p"/>
    </xforms:model>

  </head>
  <body>
    <!--******************************-->
    <!--*Triggers to display and hide*-->
    <!--*main sections of form       *-->
    <!--******************************-->
    <!--Select applicants to produce certificates for-->
    <div class="brandingBar">
      <a href="http://www.origostandards.com"><img alt="Origo Standards Logo" src="logo.gif"/></a> <span class="copyright">&#169; Origo Services Ltd, 2005.</span>
    </div>

    <h2>
      <xforms:output bind="title"/>
    </h2>
    <!--**************Triggers for main switch****************-->
    <div class="form">
      <xforms:trigger class="button">
        <xforms:label bind="cptn_terms" />
        <xforms:action ev:event="DOMActivate">
	  <!-- uses toggle to select the desired case from a switch-->
          <xforms:toggle case="terms" />
        </xforms:action>
      </xforms:trigger>
      <xforms:trigger class="button" bind="relevant_if_agreed">
        <xforms:label  bind="id_verification" />
        <xforms:action ev:event="DOMActivate">
          <xforms:toggle case="identity" />
        </xforms:action>
      </xforms:trigger>
      <xforms:trigger class="button" bind="relevant_if_agreed">
        <xforms:label bind="cptn_ev_of_name" />
        <xforms:action ev:event="DOMActivate">
          <xforms:toggle case="ev_of_name" />
        </xforms:action>
      </xforms:trigger>
      <xforms:trigger class="button" bind="relevant_if_agreed">
        <xforms:label bind="cptn_ev_of_address" />
        <xforms:action ev:event="DOMActivate">
          <xforms:toggle case="ev_of_address" />
        </xforms:action>
      </xforms:trigger>
      <xforms:trigger class="button" bind="relevant_if_agreed">
        <xforms:label bind="cptn_cert_admin" />
        <xforms:action ev:event="DOMActivate">
          <xforms:toggle case="cert_admin" />
        </xforms:action>
      </xforms:trigger>
      <xforms:trigger class="button" bind="bndProofs">
        <xforms:label bind="save" />
        <xforms:action ev:event="DOMActivate">
          <xforms:send submission="submitLocal" />
        </xforms:action>
      </xforms:trigger>
    </div>
    <!--****************SWITCH FOR MAJOR SECTIONS*************-->
    <div class="form">
      <xforms:switch class="form">
	<!--****************CASE for terms and conditions*****************-->
        <xforms:case id="terms"  selected="true" class="internal-box">
	        <h3><xforms:output  bind="t_and_c_title"/></h3>
	        <xforms:repeat bind="t_and_c_text">
	          <p><xforms:output value="."/></p>
	        </xforms:repeat>
	        
	        <xforms:input bind="I_agree_to_t_and_c">
	          <xforms:label>I agree</xforms:label>
	        </xforms:input>
	      </xforms:case>

        <!--****************CASE for Identity Verification********************-->
        <xforms:case id="identity" class="internal-box">
          <!--****************CASE for party details********************-->
          <h3>
            <xforms:output bind="id_verification" />
          </h3>
          <p>
            <xforms:output bind="role" class="label" />: <xforms:output class="val" bind="bndCertRole" />
          </p>
          <xforms:input bind="bndCertFullName" class="nameAndAddress">
            <xforms:label bind="name" />
          </xforms:input>
          <xforms:input bind="bndCertDOB" class="nameAndAddress">
            <xforms:label bind="dob" />
          </xforms:input>
          <h4>
            <xforms:output bind="address" />
          </h4>
          <xforms:input class="nameAndAddress" bind="bndCertAddressLine1">
            <xforms:label bind="line1" class="nameAndAddress" />
          </xforms:input>
          <xforms:input class="nameAndAddress" bind="bndCertAddressLine2">
            <xforms:label bind="line2" class="nameAndAddress" />
          </xforms:input>
          <xforms:input class="nameAndAddress" bind="bndCertAddressLine3">
            <xforms:label  bind="line3" class="nameAndAddress" />
          </xforms:input>
          <xforms:input class="nameAndAddress"  bind="bndCertAddressLine4">
            <xforms:label  bind="line4" class="nameAndAddress" />
          </xforms:input>
          <xforms:input class="nameAndAddress" bind="bndCertAddressPostcode">
            <xforms:label bind="postcode" class="nameAndAddress" />
          </xforms:input>
        </xforms:case>
        <!--****************CASE for Evidence of Name********************-->
        <xforms:case class="mainCase" id="ev_of_name" selected="true">
          <h3>
            <xforms:output model="captions" value="caption[code = 'ev of name']/text" />
          </h3>
          <!--PASSPORT-->
          <xforms:input bind="name-option-passport" class="evidenceOption">
            <xforms:label bind="curr-passport" />
          </xforms:input>
          <xforms:group bind="name-show-passport" class="evidenceDetail">
            <xforms:input bind="nme-passport-no">
              <xforms:label  bind="ref-no" />
            </xforms:input>
            <xforms:input bind="nme-passport-issuing-authority">
              <xforms:label bind="issuer" />
            </xforms:input>
            <xforms:input bind="nme-passport-birth-place">
              <xforms:label bind="pob" />
            </xforms:input>
            <xforms:input bind="nme-passport-birth-date">
              <xforms:label bind="dob" />
            </xforms:input>
            <xforms:input bind="nme-passport-expiry-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--Residence Permit-->
          <xforms:input bind="name-option-permit" class="evidenceOption">
            <xforms:label bind="res-permit-title" />
          </xforms:input>
          <xforms:group bind="name-show-permit" class="evidenceDetail">
            <xforms:input bind="nme-permit-ref">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="nme-expiry-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--Photo driving licence-->
          <xforms:input bind="name-option-photo-lic" class="evidenceOption">
            <xforms:label class="longCaption" bind="photo-licence-title" />
          </xforms:input>
          <xforms:group bind="name-show-photo-lic" class="evidenceDetail">
            <xforms:input bind="nme-photo-lic-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="nme-photo-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--Old Driving Licence-->
          <xforms:input  bind="name-option-old-lic" class="evidenceOption">
            <xforms:label class="longCaption" bind="old-licence-title" />
          </xforms:input>
          <xforms:group bind="name-show-old-lic" class="evidenceDetail">
            <xforms:input bind="nme-old-lic-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="nme-old-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--Firearms certificate-->
          <xforms:input bind="name-option-firearms" class="evidenceOption">
            <xforms:label class="longCaption" bind="firearms-title" />
          </xforms:input>
          <xforms:group bind="name-show-firearms" class="evidenceDetail">
            <xforms:input bind="nme-fire-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="nme-fire-authority">
              <xforms:label bind="issuer" />
            </xforms:input>
            <xforms:input bind="nme-fire-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--benefit book-->
          <xforms:input bind="name-option-benefit" class="evidenceOption">
            <xforms:label class="longCaption" bind="benefit-title" />
          </xforms:input>
          <xforms:group bind="name-show-benefit" class="evidenceDetail">
            <xforms:input bind="nme-benefit-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="nme-benefit-authority">
              <xforms:label bind="issuer" />
            </xforms:input>
            <xforms:input bind="nme-benefit-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--subcontractor certificate-->
          <xforms:input bind="name-option-subcon" class="evidenceOption">
            <xforms:label class="longCaption" bind="sub-con-title" />
          </xforms:input>
          <xforms:group bind="name-show-subcon" class="evidenceDetail">
            <xforms:input bind="nme-subcon-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="nme-subcon-authority">
              <xforms:label bind="issuer" />
            </xforms:input>
            <xforms:input bind="nme-subcon-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--tax return-->
          <xforms:input bind="name-option-tax" class="evidenceOption">
            <xforms:label class="longCaption" bind="inland-revenue-title" />
          </xforms:input>
          <xforms:group bind="name-show-tax" class="evidenceDetail">
            <xforms:input bind="nme-tax-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:select1 bind="nme-tax-doc">
              <xforms:label bind="doc" />
              <xforms:itemset model="lists" nodeset="/list_values/list[@name = 'inland revenue documents']/item">
                <xforms:label ref="label" />
                <xforms:value ref="value" />
              </xforms:itemset>
            </xforms:select1>
            <xforms:input bind="nme-tax-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
        </xforms:case>
        <!--****************CASE for Evidence of Address********************-->
        <xforms:case class="mainCase" id="ev_of_address" selected="true">
          <h3>
            <xforms:output bind="cptn_ev_of_address" />
          </h3>
          <!--Home visit-->
          <xforms:input bind="address-option-visit" class="evidenceOption">
            <xforms:label class="longCaption" bind="home-visit-title" />
          </xforms:input>
          <xforms:group bind="address-show-home-visit" class="evidenceDetail">
            <xforms:input bind="address-visit-entered-premises">
              <xforms:label bind="premises-entered" />
            </xforms:input>
            <xforms:input bind="address-visit-date">
              <xforms:label bind="date-of-visit" />
            </xforms:input>
          </xforms:group>
          <!--mortgage statement-->
          <xforms:input bind="address-option-mortgage" class="evidenceOption">
            <xforms:label class="longCaption" bind="mortgage-title" />
          </xforms:input>
          <xforms:group bind="address-show-mortgage" class="evidenceDetail">
            <xforms:input bind="address-mortgage-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="address-mortgage-lender">
              <xforms:label bind="lender-name" />
            </xforms:input>
            <xforms:input bind="address-mortgage-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--tax bill-->
          <xforms:input bind="address-option-tax" class="evidenceOption">
            <xforms:label class="longCaption" bind="tax-bill-title" />
          </xforms:input>
          <xforms:group bind="address-show-tax" class="evidenceDetail">
            <xforms:input bind="address-tax-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="address-tax-authority">
              <xforms:label bind="authority-name" />
            </xforms:input>
            <xforms:input bind="address-tax-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--rent card-->
          <xforms:input bind="address-option-rent" class="evidenceOption">
            <xforms:label class="longCaption" bind="rent-card-title" />
          </xforms:input>
          <xforms:group bind="address-show-rent" class="evidenceDetail">
            <xforms:input bind="address-rent-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="address-rent-authority">
              <xforms:label bind="authority-name" />
            </xforms:input>
            <xforms:input bind="address-rent-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--bank statement-->
          <xforms:input bind="address-option-statement" class="evidenceOption">
            <xforms:label class="longCaption" bind="bank-statement-title" />
          </xforms:input>
          <xforms:group bind="address-show-statement" class="evidenceDetail">
            <xforms:input bind="address-statement-accnt-no">
              <xforms:label bind="account-no" />
            </xforms:input>
            <xforms:input bind="address-statement-issuer">
              <xforms:label bind="issuer-name" />
            </xforms:input>
            <xforms:input bind="address-statement-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--insurance certificate-->
          <xforms:input bind="address-option-insurance" class="evidenceOption">
            <xforms:label class="longCaption" bind="insurance-certificate-title" />
          </xforms:input>
          <xforms:group bind="address-show-insurance" class="evidenceDetail">
            <xforms:input bind="address-insurance-ref-no">
              <xforms:label bind="account-no" />
            </xforms:input>
            <xforms:input bind="address-insurance-issuer">
              <xforms:label bind="issuer-name" />
            </xforms:input>
            <xforms:input bind="address-insurance-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--utility bill-->
          <xforms:input bind="address-option-utility" class="evidenceOption">
            <xforms:label class="longCaption" bind="utility-bill-title" />
          </xforms:input>
          <xforms:group bind="address-show-utility" class="evidenceDetail">
            <xforms:input bind="address-utility-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="address-utility-name">
              <xforms:label bind="utility-name" />
            </xforms:input>
            <xforms:input bind="address-utility-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--Photo driving licence-->
          <xforms:input bind="address-option-photo-lic" class="evidenceOption">
            <xforms:label class="longCaption" bind="photo-licence-title" />
          </xforms:input>
          <xforms:group bind="address-show-photo_licence" class="evidenceDetail">
            <xforms:input bind="address-photo-lic-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="address-photo-lic-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--Old Style Driving Licence-->
          <xforms:input bind="address-option-old-lic" class="evidenceOption">
            <xforms:label class="longCaption" bind="old-licence-title" />
          </xforms:input>
          <xforms:group bind="address-show-old_lic" class="evidenceDetail">
            <xforms:input bind="address-old-lic-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="address-old-lic-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
          <!--pension book-->
          <xforms:input bind="address-option-pension" class="evidenceOption">
            <xforms:label class="longCaption" bind="pension-book-title" />
          </xforms:input>
          <xforms:group bind="address-show-pension" class="evidenceDetail">
            <xforms:input bind="address-pension-ref-no">
              <xforms:label bind="ref-no" />
            </xforms:input>
            <xforms:input bind="address-pension-authority-name">
              <xforms:label bind="issuer" />
            </xforms:input>
            <xforms:input bind="address-pension-issue-date">
              <xforms:label bind="doe" />
            </xforms:input>
          </xforms:group>
        </xforms:case>
        <!--****************CASE for Identity Verification********************-->
        <xforms:case id="cert_admin">
          <xforms:input bind="bndCertExistingEvidenceUsedInd">
            <xforms:label bind="existing_verification" />
          </xforms:input>
          <xforms:group style="padding-top: .7em">
            <xforms:trigger class="button">
              <xforms:label  bind="certification" style="font-size: 8pt" />
              <xforms:action ev:event="DOMActivate">
                <xforms:toggle case="caseCert" />
              </xforms:action>
            </xforms:trigger>
            <xforms:trigger class="button">
              <xforms:label bind="cptn_regulator" style="font-size: 8pt" />
              <xforms:action ev:event="DOMActivate">
                <xforms:toggle case="caseRegulator" />
              </xforms:action>
            </xforms:trigger>
            <xforms:trigger class="button">
              <xforms:label bind="cptn_declaration" style="font-size: 8pt" />
              <xforms:action ev:event="DOMActivate">
                <xforms:toggle case="caseDeclaration" />
              </xforms:action>
            </xforms:trigger>
          </xforms:group>
          <xforms:switch>
            <!--*********************CASE for certification*******************-->
            <xforms:case id="caseCert" selected="true" class="declaration">
              <xforms:output bind="cert1" />
              <h5>
                <xforms:output bind="sectiona" />
              </h5>
              <xforms:input bind="have-you-seen-em">
                <xforms:label bind="have-you-seen" />
              </xforms:input>
              <xforms:output bind="certa" />
              <xforms:output bind="certb" />
              <xforms:output bind="certc" />
              <xforms:output bind="certd" />
              <xforms:group bind="no-I-havent">
                <h5>
                  <xforms:output bind="sectionb" />
                </h5>
                <xforms:select1 bind="why-not-verified">
                  <xforms:label bind="not-verified" />
                  <xforms:itemset model="lists" nodeset="/list_values/list[@name = 'why not verified']/item">
                    <xforms:label ref="label" />
                    <xforms:value ref="value" />
                  </xforms:itemset>
                </xforms:select1>
              </xforms:group>
            </xforms:case>
            <!--*********************CASE for regulator*******************-->
            <xforms:case id="caseRegulator" selected="false" class="regulator">
              <h5>
                <xforms:output bind="reg-firm" />
              </h5>
              <xforms:input class="regulatorElements" bind="firm-name">
                <xforms:label bind="reg-firm-name"/>
              </xforms:input>
              <xforms:input class="regulatorElements" bind="regulator-name">
                <xforms:label bind="cptn_regulator"/>
              </xforms:input>
              <xforms:input class="regulatorElements" bind="regulator-ref-no">
                <xforms:label class="regulatorElementLabels" bind="regulator-ref" />
              </xforms:input>
            </xforms:case>
            <!--*****************Case for Declaration************-->
            <xforms:case id="caseDeclaration" selected="false" class="declaration">
              <h5>
                <xforms:output bind="cptn_declaration" />
              </h5>
              <xforms:output bind="witness1" />
              <xforms:input class="regulatorElements" bind="witness-name">
                <xforms:label class="regulatorElementLabels" bind="name"/>
              </xforms:input>
              <xforms:input class="regulatorElements" bind="witness-position">
                <xforms:label class="regulatorElementLabels"  bind="position"/>
              </xforms:input>
              <xforms:input class="regulatorElements" bind="witness-date">
                <xforms:label class="regulatorElementLabels" bind="date"/>
              </xforms:input>
            </xforms:case>
          </xforms:switch>
        </xforms:case>
      </xforms:switch>
    </div>
  </body>
</html>
