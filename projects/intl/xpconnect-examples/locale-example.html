<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
    <title>nsILocale xpconnect example</title>
</head>

<script>

<!-- Example code to use xpconnect to access the nsILocale interface from Javascript --!>
<!-- This file will only work properly with M9 and later builds of Mozilla --!>

function do_doc_header()
{
    document.writeln('<b>getting locale information</b>');
    document.writeln('<hr>');
}


function do_doc_footer()
{
    document.writeln('<hr>');
    document.writeln('<address><a href="mailto:tague@netscape.com">Tague Griffith</a></address>');
}

function get_locales()
{
    service = Components.classes["component://netscape/intl/nslocaleservice"].createInstance();
    service = service.QueryInterface(Components.interfaces.nsILocaleService);


    locale = service.GetApplicationLocale();
    document.writeln("<b>Application Locale: </b>"+locale.GetCategory("NSILOCALE_MESSAGES")+"<br>");

    locale = service.GetLocaleComponentForUserAgent();
    document.writeln("<b>User-Agent Locale: </b>"+locale+"<br>");

    locale = service.GetSystemLocale();
    document.writeln("<b>System Locale: </b>"+locale.GetCategory("NSILOCALE_MESSAGES")+"<br>");

}

function gen_locale_info()
{
    do_doc_header();
    get_locales();
    do_doc_footer();
}

</script>
<body onLoad="gen_locale_info();">
</body>
</html>
