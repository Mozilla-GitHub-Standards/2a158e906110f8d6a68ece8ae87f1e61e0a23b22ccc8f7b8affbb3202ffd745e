<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.73b2 [en] (WinNT; I) [Netscape]">
   <title>RELEASE NOTES for Xprint adapter</title>
<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<center>
<h2>
RELEASE NOTES for Xprint adapter</h2></center>
<p>
<center>
<table>
<tr><td>Developers</td></tr>
<tr><th align=left>Masaki Katakai</th><td>(<i><a href="mailto:masaki.katakai@sun.com">masaki.katakai@sun.com</a></i>)</td></tr>
<tr><th align=left>Hidetoshi Tajima</th><td>(<i><a href="mailto:hidetoshi.tajima@sun.com">hidetoshi.tajima@sun.com</a></i>)</td></tr>
<tr><th align=left>Kumar Rethi</th><td>(<i><a href="mailto:rethi.kumar@sun.com">rethi.kumar@sun.com</a></i>)</td></tr>
</table>
</center>
<div align=right>last modified 17 May 2000 by <a href="mailto:rkumar@eng.sun.com">Kumar
Rethi</a></div>

<hr>
<h3>
Introduction</h3>
The Xprint client adapter is provided as one of the modules used to print
using the Xprint server in the X Window Environment. The Xprint adapter
prints through rendering onto Xprt (Print Server for libX11), just like
any X client renders through X server. For more on Xprint server, refer
to the section titled <a href="#xprint">"XPrint Server"</a> below.
<br>The Xprint adapter coexists with the PS module, giving the user the
choice of choosing PS or Xprt module.&nbsp; The xprint source code resides
under
<pre>&nbsp;&nbsp;&nbsp; mozilla/gfx/src/xprint</pre>
Printing through the Xprint adapter allows users to
<ul>
<ul>
<li>
print with non-PostScript printers(like PCL).</li>

<li>
print with PostScript printers which does not have proper fonts installed.</li>
</ul>
</ul>

<hr>
<h3>
Building Xprint adapter module</h3>
Check out the files below from CVS trees. They are modified to build and
enable Xprint adapter.
<blockquote>
<li>
configure.in</li>

<li>
config/autoconf.mk.in</li>

<li>
gfx/src/Makefile.in</li>

<li>
gfx/src/gtk/Makefile.in</li>

<li>
gfx/src/gtk/nsDeviceContextGTK.cpp</li>

<li>
gfx/src/gtk/nsDeviceContextSpecG.cpp</li>

<li>
gfx/src/gtk/nsDeviceContextSpecG.h</li>

<li>
gfx/src/xlibrgb/xlibrgb.c</li>

<li>
gfx/src/xlibrgb/xlibrgb.h</li>
</blockquote>

<ul>
<li>
all files under gfx/src/xprint/</li>
</ul>
To build Xprint adapter in your mozilla tree, run mozilla configure scriot
with "<b>--with-xprint".</b>
<p>For Solaris build,&nbsp; do as follows :
<pre># ./configure --prefix=$PREFIX --with-glib-prefix=$PREFIX&nbsp; --with-gtk-prefix=$PREFIX \
# --with-libIDL-prefix=$PREFIX --with-xprint
# gmake</pre>
where $PREFIX is the directory&nbsp; you've installed glib and gtk+ libraries.
(eg. /usr/local )
<p>For Linux build: do as follows:
<pre># ./configure --with-xprint
# gmake</pre>
This should build <b>gfx/src/xprint/libgfxxprt.so </b>and install it under
$MOZ_HOME/dist/lib/components.
<p>
<hr>
<h3>
Choosing the Xprint adapter for your Printing needs</h3>
The default printing method is through the PS module. If you would like
to override this and use Xprint module instead, then you have to set a
preference in your prefs.js file. Add the following user_pref name-value
to your prefs.js file
<pre>user_pref("print.print_method", 1);</pre>
<b>Note:</b> You can find the prefs.js under $HOME/.mozilla/&lt;<i>profile_name</i>>/
<p>This would let mozilla choose Xprint adapter when you try to print a
document.
<hr>
<h3>
Printing through the Xprint adapter</h3>
In order for the Xprint adapter to print, it needs to talk to a Xprint
server. The Xprint adapter chooses the Xprint Server based on an environment
variable, <b>XPDISPLAY</b> to identify the Xprint server you want to use.
If no such environment variable exists, the adapter assumes you are running
the Xprint server on your localhost and tries to connect accordingly. If
you need to set the XPDISPLAY, please set it as follows:
<pre>XPDISPLAY=&lt;<i>hostname</i>>:&lt;<i>screen_number</i>></pre>
In addition to the Xprint server, you also need to specify the name of
the printer to use. This can be done through the Print Dialog. Since the
print dialog does not yet reflect the xprint integration, you can specify
the printer name in the Print Command field.
<p><b>Note:</b>Future releases would provide a better interface to specify
the configurations.
<p>
<hr>
<h3>
Testing Xprint adapter</h3>
Testing the Xprint client adapter can be as simple as printing any html
page. In order for you to test printing on postsript printers without proper
fonts installed, you can try printing the following pages on any postscript
printer. These pages contain both ascii and japanese characters in different
encoding.
<table border="0" cellspacing="5" cellpadding="8">
<ul>
<tr><th align="left"><li><a href="kanji_euc_test.html">kanji_euc_test.html</a></li></th>
<td align="left">Japanese EUC test page (all characters)</td></tr>
<tr><th align="left"><li><a href="kanji_utf8_test.html">kanji_utf8_test.html</a></li></th>
<td align="left">Japanese UTF-8 test page (all characters)</td></tr>
<tr><th align="left"><li><a href="font_test_e_euc.html">font_test_e_euc.html</a></li></th>
<td align="left">Japanese EUC test page for &lt;B&gt; and etc. tag</td></tr>
<tr><th align="left"><li><a href="font_test_f_euc.html">font_test_f_euc.html</a></li></th>
<td align="left">Japanese EUC test page for &lt;FONT SIZE=?&gt; tag</td></tr>
<tr><th align="left"><li><a href="font_test_h_euc.html">font_test_h_euc.html</a></li></th>
<td align="left">Japanese EUC test page for &lt;H?gt; tag</td></tr>
</ul>
</table>

<hr>
<h3>
Work in Progress</h3>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The implementation is progressing,
and the features listed below will be available shortly.
<ul>
<li>
Rendering Image with proper scaling</li>

<li>
Printing to a File</li>

<li>
Extending the Print Dialog to support Xprint adapter</li>
</ul>

<hr>
<h3>
<a NAME="xprint"></a></h3>
&nbsp;
<h3>
XPrint Server</h3>
Xprt extension is supported in version 11 of the X Window system for non
display devices such as printers and fax machines.
<br>The X print server reads configuration files for instructions concerning
which print DDX drivers to load and which printer names to support. It
may also read some DDX dependent configuration files. The printer configuration
files give information to the X Print Server that describes the capabilities
of the printer models.
<br>The Xprint server can print using any one of the following methods:
<ul>
<li>
Generates PostScript file with native encoding fonts</li>

<dd>
When the target printer is PostScript printers and the printer has native
encoding fonts</dd>

<li>
Generates PostScript file with bitmap image of characters</li>

<dd>
when the target printer is PostScript printers and the printer doesn't
native encoding fonts</dd>

<li>
Generates PCL file with bitmap image of characters</li>

<dd>
when the target printer is not PostScript printers and the printer doesn't
native encoding fonts</dd>
</ul>
To start the X Print Server on the command line:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # /usr/openwin/bin/Xprt &amp;&nbsp;&nbsp; (Solaris)&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # /usr/X11R6/bin/Xprt &amp;&nbsp;&nbsp;&nbsp;&nbsp; (linux)</pre>
The above command starts the server on display 0. This is usually the display
on which the X server is connected.
<p>The following command instructs Xprt to connect to display 1:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # /usr/openwin/bin/Xprt :1 &amp; (Solaris)

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # /usr/X11R6/bin/Xprt :1 &amp; (linux)</pre>

<hr>
<h3>
For Solaris Users obtaining Xprint Server</h3>
For now, Xprint server and libXp comes as part of Solaris 8 distribution,
and will be back port to Solaris7 shortly.
<p>The latest patches for Xprint are obtained from:
<p><a href="http://sunsolve.Sun.COM/pub-cgi/show.pl?target=patches/patch-access">&nbsp;http://sunsolve.Sun.COM/pub-cgi/show.pl?target=patches/patch-access</a>
<p>The patch-IDs are 108652 for SPARC and 108653 for X86.
<br>&nbsp;
<br>&nbsp;



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified June  7,  2000</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/intl/xprint/release.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
