
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">
<TITLE>Fonts for MathML-enabled Mozilla</TITLE><script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<H2 align="center">Fonts for MathML-enabled Mozilla</H2>

<table align='right' width='300' border='1'>
<tr>
<th align='center' bgcolor='#c0c0c0'>
<font color='#000000'>Fonts to Install</font>
</th></tr>

<tr><td>
<UL>
<li>On Windows (not Linux), download the
<a href="http://web.mit.edu/atticus/www/mathml/mit-mathml-fonts-1.0-fc1.msi">font installer</a> and follow the 
<a href="http://web.mit.edu/is/topics/webpublishing/mathml/fonts-win.html">instructions</a>.<br><br>
</li>

<li>On the Mac OS X, be sure to avoid 
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=228804"
title="mathml rendering is worse on MacOS X after adding Mathematica fonts in 1.3b and later"
>bug 228804</a>. Use browsers based on Mozilla Gecko 1.8 or later  
(such as Firefox 1.5 and later).<br><br> 

Download the
<a href="http://web.mit.edu/atticus/www/mathml/mit-mathml-fonts-1.0-fc2a.hqx">font installer</a>
and follow the
<a href="http://web.mit.edu/is/topics/webpublishing/mathml/fonts-mac.html">instructions</a>.<br><br>
</li>

<li>
On Linux with <b>Xft-enabled builds</b>, you <i>should</i>
install the TrueType <a HREF="bakoma/texcm-ttf.zip">TeX fonts</a> 
and <A
HREF="http://support.wolfram.com/mathematica/systems/windows/general/latestfonts.html">Mathematica 4.1 fonts</A>
(repeat: <b>4.1</b>).
To install TrueType fonts, simply extract and copy the .ttf files in 
your ~/.fonts/ directory (create it if you don't have it yet).
See also these
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=128153#c81">instructions</a>.<br><br>

(To check which Linux build you have, 
enter <i>about:buildconfig</i> in the address bar of your browser.
This lists the options used when building the browser. 
Your build is Xft-enabled if you see <i>--enable-xft</i> somewhere
there.)<br><br>
</li>

<li>
On Unix/Linux with <b>Xft-disabled builds</b> (i.e., with X11core fonts),
you <i>should</i> install the Type1 
<A HREF="ftp://ftp.ams.org/pub/tex/psfonts/cm/cmps-unix.tar.gz">TeX fonts</A>
and Mathematica 4.1 fonts (repeat: <b>4.1</b>) in 
<A HREF="http://support.wolfram.com/mathematica/systems/unix/general/manualfontdownload.html">PFA</A>
and
<A HREF="http://support.wolfram.com/mathematica/systems/unix/interface/pcf.html">PCF</A>
formats. C.f. these
<A HREF="http://swissnet.ai.mit.edu/projects/intelligent-book/mathml/#gnu">instructions</A>.<br><br>
</li>

<LI> <B>Troubleshooting</B><BR>
<UL>
<LI><a href="http://mcelrath.org/Notes/MathML">Linux Xft-enabled builds</a>
<LI><a href="http://bugzilla.mozilla.org/show_bug.cgi?id=35236#c4">Linux Xft-disabled builds</a>
<LI><a href="http://bugzilla.mozilla.org/show_bug.cgi?id=142718#c10">Solaris</a>
</UL>
</LI>

</UL>

</td></tr>

<tr>
<th align='center' bgcolor='#c0c0c0'>
<font color='#000000'>Test Drive</font>
</th></tr>

<tr><td align="center">
The aim is to only see
a minimum number of '?' as possible in
this <A HREF="./chars/table.html">list</A> of 
characters/entities for scientific documents.
The list is best viewed with a Unicode-based browser
such as Mozilla (a MathML-enabled build gives
access to more glyphs via the <i>ucvmath</i> module).</td></tr>
</table>

<P>
MathML has over 2000 predefined entities, many of which are 
associated to various symbols used in mathematics and science.
Recently, assignments for these symbols were approved by the Unicode
Consortium. A number of these
assignments are unfortunately in plane-1 which Mozilla
does not yet support. But Mozilla does a good job
at handling all the assignments in plane-0, 
provided the user installs the appropriate fonts.
</P>

<P>
Mozilla is internally 
<a href="../../intl/fonts.html">Unicode-based</a>.
Furthermore, in accordance with the W3C CSS2
<a href="http://www.w3.org/TR/REC-CSS2/fonts.html">recommendation on fonts</a>,
authors can specify an ordered list of particular fonts which 
they prefer (using the <i>font-family</i> property of CSS), with
the assurance that Mozilla's font engine will hunt for 
alternate fonts whenever their specified fonts are not found on 
a particular user' system. If no appropriate font is ultimately
found for a given glyph, Mozilla will display a question mark ('?'). 
</P>

<P>
It follows that, on two similar systems, while one user may see
a document rendered correctly, the other user may see something 
<a href="http://bugzilla.mozilla.org/showattachment.cgi?attach_id=7857">completely
different</a>. To avoid this, you need to properly install a number
of fonts for a better MathML experience with Mozilla.
Just having a MathML-enabled build is not enough.
</P>

<P>
While awaiting the comprehensive set of fonts being made by the
<a href="http://www.stixfonts.org/">STIX project</a> to cover
all the symbols in MathML, 
use the font installers (on the right) to install the 
fonts on your system if you do not have them already.
MIT has developed convenient font installers for Windows and the Mac, 
following licensing negotiations through this project and 
mozilla.org staff (especially considering the open-source nature 
of Mozilla). The respective font owners have made provision
for the fonts to be packaged into these installers, with the aim 
of helping to boost the adoption of MathML into the mainstream.
</P>

For your information, recommended fonts include:

<UL>
<LI><B>TeX's Computer Modern Fonts</B><BR>
The 
<A HREF="bakoma/texcm-ttf.zip">TrueType fonts</a> of interest
are provided by virtue of the BakoMa
<A HREF="bakoma/license.txt">license</A>. The 
<A HREF="ftp://ftp.ams.org/pub/tex/psfonts/cm/cmps-unix.tar.gz">Type1</A>
versions are from AMS. Note that TeX fonts are not bundled in the Mac 
installer due to 
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=161137"
title="MathML renders wrong symbols if TeX fonts are installed">bug 161137</a>. 
You must <b><i>not</i></b> install these TeX fonts on the Mac now.
<!--
See <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=134849#c10"
title="remove Font-Message">bug 134849</a> 
for how to remove the popup window about missing TeX fonts.<BR><BR>
-->
To stop Mozilla from popping up the missing font dialog about TeX fonts,
just set this pref in your <i>prefs.js</i> (or your <i>user.js</i>):
<pre>
user_pref("font.mathfont-family", "Math1, Math2, Math4, Symbol");
</pre></LI>

<LI><B>Mathematica 4.1 Fonts</B><BR>
The TrueType font packs are provided by Wolfram Research, Inc., for
<A
HREF="http://support.wolfram.com/mathematica/systems/windows/general/latestfonts.html">Windows</A>
and the
<A
HREF="http://support.wolfram.com/mathematica/systems/macintosh/general/latestfonts.html">Mac</A>.
The Type1 versions are in the
<A HREF="http://support.wolfram.com/mathematica/systems/unix/general/manualfontdownload.html">PFA</A>
and
<A HREF="http://support.wolfram.com/mathematica/systems/unix/interface/pcf.html">PCF</A>
formats.
<BR><BR></LI>

<!--
http://www.ats.ucla.edu/at/sp/software/symbolic_manipulation/mathematica_fonts.htm
-->

<LI> <B>Other Fonts</B>
<UL>
<LI><A HREF="http://www.mathtype.com/support/fonts">MT Extra</A> -- this
is only in the Windows installer.
<LI>Lucida Sans Unicode -- this is not in the installers but it is worth 
installing (separately) if you can. It contains many useful mathematical symbols.
For Windows users, the installation of new fonts is explained in this
<A HREF="http://www.microsoft.com/typography/ttfinst/ttfinst.htm">font
installation procedure</A>. 
</UL>
</LI>
</UL>

Refer to the instructions on the "Fonts to Install" section above. 
Unix/Linux users who experience troubles after trying earlier steps should have
a look at the suggested troubleshooting links and other general information on 
<a href="http://support.wolfram.com/mathematica/systems/unix/interface/general.html">troubleshooting
Mathematica fonts</a> which might be relevant when configuring the fonts 
to work with Mozilla.

<H2>Known Problems</H2>
Reported fonts' problems for which no built-in error recovery
mechanism exists in Mozilla (as yet).

<UL>
<LI>On the Mac,
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=161137">bug 161137</a>
causes MathML to render wrong symbols if TeX fonts are installed.<BR><BR></LI>

<!-- LI>On WinNT/2000: Certains stretchy characters sometimes don't stretch
because the Windows GDI function GetGlyphOutline() fails.<BR>
Work-around: Try maneuvering with <i>View -> Enlarge/Reduce Text Size</i>.
The problem disappears for certain font-sizes.<BR><BR></LI -->

<LI>On Win9x/NT/2000: If you see symbols (like the square-root symbol)
that appear jagged, then you are not using TeX fonts from the Bakoma
collection.<BR>
Work-around: Download the fonts from the Bakoma collection given above.<BR><BR></LI>

<!-- LI>On Linux: 
The middle of the stretchy integral symbol can sometimes be mis-aligned.
This happens due to a problem with a certain bitmap Symbol font.<BR>
Work-around: Use a Type1 Symbol font.
</LI --> 
</UL>

<h2><a name="customize">Customize the fonts used for stretchy characters</h2>

Due to the fact that a browser is used by various users
under different configurations, Mozilla's MathML engine doesn't make
assumptions on the particular configuration that a viewer may 
have, and uses a greedy search when looking for the best glyph
that fits in a certain situation. As a result, a document is
sometimes displayed with a mixture of glyphs with different
characteristics because these glyphs happen to be picked
from different font families.

<p>
It is possible for you, as a viewer, to instruct the MathML engine
to only use some of the fonts that you prefer. The following
description applies to fonts that only affect stretchy characters.
Other characters will continue to be rendered with other fonts (these 
are also configurable -- but their configuration is not described here).
You will have to
<a href="../../../releases/mozilla0.9.9/#setprefs">edit <i>prefs.js</i></a>
in your profile directory (tip: you can also edit your preferences by
entering <i>about:config</i> in the address bar).
</p>

<p>
To illustrate the impact of the choice of fonts,
here are screenshots of a same page rendered with different stretchy font
settings. These will give you a precise idea why it is academical/subjective,
but still itchy enough for some people to insist on one or the other, just like
one person might prefer Times while another prefers Verdana.
The screenshots use an excerpt from the 
<!-- a href="http://numexp.sourceforge.net/documentation/gsl.xml"-->
GNU Scientific Library manpage<!-- /a -->
(c.f.
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=118475">bug 118475</a>):
<ol>
<li><a href="http://bugzilla.mozilla.org/showattachment.cgi?attach_id=63751">Default
screenshot</a>: this is the default rendering obtained with the default
installation.<br><br></li>

<li><a href="http://bugzilla.mozilla.org/showattachment.cgi?attach_id=63770">Mathematica
screenshot</a>: this is the rendering obtained by instructing the MathML engine to
use Mathematica fonts when a character is being stretched. This can be
achieved by adding this line in your <i>prefs.js</i>: 
<pre>
user_pref("font.mathfont-family", "Math1, Math2, Math4, Symbol");
</pre>

</li>
<li><a href="http://bugzilla.mozilla.org/showattachment.cgi?attach_id=63771">TeX
screenshot</a>: this is the rendering obtained by instructing the MathML engine to
use TeX's Computer Modern fonts when a character is being stretched. This can be
achieved by adding this line in your <i>prefs.js</i>:
<pre>
user_pref("font.mathfont-family", "CMSY10, CMEX10, Symbol");
</pre>
</li>
</ol>
</p>

<p>
As a web viewer reading pages produced by others,
it is possible for you to set the list differently from the
examples above. In fact, it is possible to specify fonts per each individual
stretchy character (in the <i>mathfont.properties</i> file which contains
some of the <a href="encoding/">encoding data</a> of MathML characters).
</p>

<p>
The recommended rule of thumb is to install all the fonts (if possible) 
but use the above screenshots to decide
whether you prefer stretchy characters to be rendered by TeX fonts or
Mathematica fonts, then set the <i>font.mathfont-family</i> accordingly.
The reasoning here is that some of these fonts also contain normal (i.e.,
non stretchy characters) and you don't want to lose them, if possible.
Both TeX fonts and Mathematica fonts work fine on Windows and Linux.
As indicated above, TeX fonts cause troubles on the Mac and so Mathematica
fonts are preferred there even for normal characters (see also
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=228804#c32">bug
228804 comment 32</a>).
</p>

<p>
As a web author producting pages to be read by others, 
it is also possible for you to instruct their MathML engine
to only use some of the fonts that you prefer for your documents (see the 
documentation in <i>mathml.css</i>, and how this is used to setup the alternate 
stylesheets that appear in the <a href="../demo/">demos</a> of MathML tags).
The caveat to remember:
<ul>
<li>if a viewer has set the pref above, the fonts selected from your
list are checked against the list that the viewer has chosen.<br><br></li>
<li>viewers can choose to override document fonts altogether (by
visiting the Fonts pref dialog and unchecking the pref to 
allow document fonts in the usual way).</li>
</ul>
</p>

<BR><BR><BR>
<p align="right"><font size="-1">Roger B. Sidje 
&lt;<i><a href="mailto:rbs@maths.uq.edu.au">rbs@maths.uq.edu.au</a></i>&gt;
</font>
</p>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified May 27,  2007</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/mathml/fonts/index.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
