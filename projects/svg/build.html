<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

    <title>Building Mozilla with SVG Support</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
  <script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">


  

  

    <h1>Building Mozilla with SVG Support</h1>

    <p>
      This page provides information for people who want to include native SVG
      support in their own builds of Mozilla based products.
    </p>

    <p class="important">
      Note: the latest releases of <a
      href="http://www.mozilla.com/firefox/">Mozilla Firefox</a> and <a
      href="http://www.mozilla.org/projects/seamonkey/">SeaMonkey</a> now come
      with SVG support turned on, as do the <a
      href="http://www.mozilla.org/developer/#builds">nightly builds for
      testers</a>. If you just want to use or test the SVG support in one of
      these products, then you no longer need to download an unofficial custom
      build or build it yourself.
    </p>

    <p>
      If you are sure you want to make your own builds (to test patches or to
      work on the SVG implementation perhaps), first read through the general <a
      href="http://developer.mozilla.org/en/docs/Build_Documentation">Mozilla
      build documentation</a> to learn how to set up a build environment for
      Mozilla. Once you have successfully set up your build environment, adding
      native SVG support to your builds simply requires you to add the
      following line to your .mozconfig file.
    </p>

    <pre>
ac_add_options --enable-svg
</pre>

    <p>
      This is most likely all you need to know. The only notable exception is
      if you're among the small minority of people still using Microsoft
      Windows 98 (or older).
    </p>

    <h2 id="win9x">Microsoft Windows 98 Users</h2>

    <p>
      If you are using Microsoft Windows 98 then the default SVG renderer, <a
      href="http://cairographics.org/introduction">cairo</a>, is not the best
      choice for you. Problems with cairo's text rendering on win9x can cause
      cairo to go into an error state which stops any SVG containing
      &lt;text&gt; elements from being displayed. If you want SVG support in
      Mozilla Firefox 1.5 or SeaMonkey 1.0 you are probably better off
      with a build that renders SVG using GDI+ instead - read on. If you want
      a later release of these products you're out of luck. Development of the
      GDI+ backend stopped with these releases.
    </p>

    <h2>Choosing an Alternative SVG Renderer</h2>

    <p>
      This section only applies to Mozilla Firefox 1.5 and SeaMonkey 1.0.
      Development of the alternative renderers ended with these releases. If
      you are only interested in these versions then there are three rendering
      backends to choose from, allowing either <a
      href="http://cairographics.org/introduction">cairo</a>, <a
      href="http://www.gnome.org/~mathieu/libart/libart.html">Libart</a> or <a
      href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/gdicpp/GDIPlus/GDIPlus.asp">GDI+</a>
      (on Microsoft Windows only) to be used as the SVG renderer. The default
      renderer for all platforms is cairo.
    </p>

    <h3>Libart</h3>

    <p>
      Libart was the first real renderer to be used in Mozilla's implementation
      of SVG, but it couldn't be used in official releases due to its
      incompatible licencing terms. The Libart backend also never provided
      support for text on Microsoft Windows. As a mature graphics library its
      advantage was that it offered fast rendering performance.
    </p>

    <p>
      If you want to create a build that uses the Libart backend instead of
      cairo, then add the following lines to your .mozconfig configuration file.
    </p>

    <pre>
ac_add_options --enable-svg
ac_add_options --enable-svg-renderer=libart
mk_add_options MOZ_CO_MODULE=mozilla/other-licenses/libart_lgpl
</pre>

    <p>
      Note that for (rudimentary) text support on Linux/Mac OS X with the
      Libart backend, you need a freetype2-enabled build. Builds will
      automatically be freetype2 enabled if you have freetype2 on your system
      at configure time. Please be aware that you'll need to activate freetype
      in your pref.js according to <a
      href="http://www.mozilla.org/projects/fonts/unix/enabling_truetype.html">these
      instructions</a>.
    </p>

    <h3>GDI+</h3>

    <p>
      The support for 'pluggable' rendering backends was originally added so
      that native graphics libraries such as GDI+ could be used as the SVG
      renderer. One of the advantages of adding GDI+ as a renderer was that it
      allowed text in SVG graphics to be rendered on Windows. Its big
      disadvantage was that it only comes pre-installed on Windows XP. Users
      of older Windows operating systems therefore had to download and install
      GDI+ (something the majority would not do) since it was too big to bundle
      with Mozilla.
    </p>

    <p>
      If you want to create a build that uses the GDI+ backend instead of
      cairo, then add the following lines to your .mozconfig configuration file.
    </p>

    <pre>
ac_add_options --enable-svg
ac_add_options --enable-svg-renderer=gdiplus
</pre>

    <p>
      You will also need the GDI+ headers and lib. These are included in the
      Platform SDK distributed with Microsoft Visual C++ .NET, or if you are
      using an older version of Visual C++ you can download them free of charge
      as part of the (unfortunately very large) <a
      href="http://www.microsoft.com/msdownload/platformsdk/sdkupdate/">MS
      Core Platform SDK</a>.
    </p>

    <p>
      Remember that if your build is to be distributed for use on a Windows OS
      prior to XP, then GDI+ will also need to be installed. The required DLL,
      gdiplus.dll, can be downloaded from the Microsoft download center <a 
      href="http://www.microsoft.com/downloads/details.aspx?FamilyId=6A63AB9C-DF12-4D41-933C-BE590FEAA05A&amp;displaylang=en">here</a>
      (1017KB download) by your users. It should be placed in the Mozilla
      installation directory or in another suitable directory in the computer's
      PATH. Also remember that if you build using Visual C++ .NET then
      non-Windows XP systems will also require the runtime DLLs (e.g.
      msvcp71.dll and msvcr71.dll for VS7.1).
    </p>

<!--
    <h3>cairo</h3>

    <p>
      

Since a single cross-platform library that could meet all of the project's
      requirements didn't used to exist, support for pluggable renderer
      backends was added to the SVG code. The intention was that Mozilla's SVG
      implementation would use graphics libraries native to the supported
      platforms instead of Libart. However, the recent emergence of cairo has
      provided us with a cross-platform alternative that should meet our
      requirements. The current plan is to replace the pluggable backend
      support with a single cairo backend once cairo has matured sufficiently.
      This should save us from having to develop and maintain multiple
      backends.
    </p>

-->

    <hr />

    <address class="author">
      <a href="mailto:jonathan.watt&#x40;strath.ac.uk">Jonathan Watt</a>
    </address>

  


<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January 12,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/svg/build.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
