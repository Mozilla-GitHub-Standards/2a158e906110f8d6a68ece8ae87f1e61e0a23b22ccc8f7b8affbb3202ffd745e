
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../../images/mozilla-16.png" type="image/png">

<title>Pluglet Overview</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<script src="../../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<center> 
<h1>Pluglet Developers Guide</h1>
<h2>Pluglet Overview</h2></center>

<div align="center"> 
  <p>
      
      <a href="mime_manifest.html">MIME types</a>
    | <a href="display.html"> display modes </a>
    | <a href="examples.html">examples </a>
    | <a href="../api/index.html">API index</a></div>
    
 <h2>Basics</h2> 
<p>This section defines<a href=#definition> what Pluglets are</a> , provides a 
   broad overview of <a href=#overview> how Pluglets work </a>from a Pluglet  
   developer perspective, and briefly describes  the <a href=#3interfaces>
   three interfaces</a> that a developer must implement.</p>

<h4><a name="definition">Pluglet Definition</a></h4>
<p>A <i>Pluglet</i> is a Mozilla Plugin written in Java 
   using the Pluglet API. Using the Java Native Interface (JNI), the Pluglet 
   API mimics the new C++ Plugin API of Mozilla.</p>
   
<p>For more information about Mozilla Plugins, see 
   <a href="http://www.mozilla.org/docs/plugin.html">
   http://www.mozilla.org/docs/plugin.html</a>. (If you are new to Plugins, 
   you may want to refer to the old Netscape <i>Plug-in Guide</i> at 
  <a href="http://developer.netscape.com/docs/manuals/communicator/plugin/index.htm">
  http://developer.netscape.com/docs/manuals/communicator/plugin/index.htm</a>). 
  It is a good resource for understanding Plugin fundamentals.)</p>
  
<h4><a name="overview">How Pluglets Work</a></h4>
<p>First, a Pluglet developer implements the <a href="#interfaces">three interfaces</a> 
   listed below and writes related manifest files. A manifest file contains a list of 
   supported MIME types. (For more  information on MIME types and manifest files, see 
   <a href="mime_manifest.html">MIME types </a> above.)

<p>When a <a href="mime_manifest.html">MIME type</a> is first encountered by the Mozilla browser, 
   it checks to see that there is a native Plugin for it. If there is not, it looks 
   for a Pluglet that handles the MIME type. It does this through 
   <code>PlugletEngine</code>.</p>
   
<h5><a name="3interfaces">Types of Interfaces</a></h5>
<ul>
  <li><a href=#factory><code>PlugletFactory</code></a></li>
  <li><a href=#pluglet><code>Pluglet</code></a></li>
  <li><a href=#listener><code>PlugletStreamListener</code></a></li>
</ul>

<p>These interfaces are described in general in the sections below, and in detail 
  in the <a href="../api/index.html">API index</a>. Note that when Pluglet is built and 
  the implementations of these interfaces are compiled, they are placed in a <code>
  .jar</code> file along with the related manifest file. This <code>.jar</code> file 
  is called the Pluglet <i>bundle</i>. <For each Pluglet there is a separate Pluglet 
  bundle.</p>
  
<p>When <code>PlugletEngine</code> looks for a Pluglet for a MIME type, it looks 
  at each manifest file in each bundle to determine if one handles the MIME type. 
  If the manifest file lists the MIME type, then it also points to the 
  <code>PlugletFactory</code> for the Pluglet.</p>
  
<p>If a Pluglet is found that can handle the MIME type, the browser creates an 
  instance of <code>PlugletFactory</code> and uses that to create an instance 
  of <code>Pluglet</code> for the MIME type. (<code>PlugletFactory</code> knows 
  the name of the <code>Pluglet</code> class to load.) </p>
  
<p>Once an instance of <code>Pluglet</code> has been created, the browser may 
   call the <code>newStream()</code> method of <code>Pluglet</code>, creating an 
   instance of <code>PlugletStreamListener</code>, which is used for notification 
   and passing of information about the stream.</p>
  
<p>Note that for a Pluglet bundle there will be only a single instance of 
  <code>PlugletFactory</code>, but there can be multiple instances of 
  <code>Pluglet</code> and <code>PlugletStreamListener</code>. 
  Note, also, that an instance of <code>Pluglet</code> can handle more than one 
  MIME type.</p>
  
<p>Pluglets, like Plugins, can be invoked in various ways. They may be embedded 
   in an HTML page via an <code>EMBED</code> or <code>OBJECT</code> tag. They may 
   also be full-page Pluglets existing in a window of their own. (For more information 
   on how Pluglets can be invoked, see <a href="display.html">Pluglet Display Modes</a>.) 
</p>
<p>When a Pluglet is embedded in a page with an <code>EMBED</code> or <code>OBJECT</code> 
  tag, the <code>TYPE</code> attribute should normally be included. The <code>TYPE</code> 
  attribute specifies the MIME type of the media.</p>
  
<p>Other interfaces that the Pluglet developer should know about, and that have 
  been implemented to make Pluglets work, are the following: </p>
<ul>
  <li><code>ByteRanges</code></li>
  <li><code>PlugletManager</code></li>
  <li><code>PlugletManager2</code></li>
  <li><code>PlugletPeer</code></li>
  <li><code>PlugletStreamInfo</code></li>
  <li><code>PlugletTagInfo</code></li>
  <li><code>PlugletTagInfo2. </code></li>
</ul>

<p>For a general description of each, read the overview for each in the API index.</p>

<h2>Required Interface Implementations</h2>
<p>To create a Pluglet, the developer must implement the following three interfaces.</p>
<h4><a name="factory">PlugletFactory Interface</a></h4>
<p>The browser typically passes the MIME type to the <code>createPluglet()</code> 
  method of <code>PlugletFactory</code>, and this method returns an instance of 
  <code>Pluglet</code> for that MIME type. But first <code>PlugletFactory</code> 
  needs to be initialized via its <code>initialize()</code> method, to which an 
  instance of <code>PlugletManager</code> is passed. </p>
<p>When the browser is done with the <code>PlugletFactory</code> instance, it 
   calls <code>shutdown()</code>.</p>
<h4><a name="pluglet">Pluglet Interface</a></h4>
<p>Once an instance of <code>Pluglet</code> has been created, its 
   <code>initialize()</code> method should be called, passing to it an instance of 
   <code>PlugletPeer</code>. The <code>Pluglet</code> instance should use the 
   <code>PlugletPeer</code> instance for all communication with the browser.</p>

<p>The <code>start()</code> method may then be called to start the <code>Pluglet</code> 
  instance.</p>

<p>If the Pluglet involves a data stream, when the data stream is ready the browser 
   calls <code>newStream()</code> to inform the <code>Pluglet</code> instance. 
   <code>newStream()</code> returns an instance of 
   <code>PlugletStreamListener</code>, to which the browser sends notifications 
   and information about the stream. </p>

<p>The browser uses the <code>setWindow()</code> method to tell the <code>Pluglet</code> 
   instance what frame it is in, and the implementation of this method may add 
   additional components and functionality to the frame.</p>
  
<p>The <code>Pluglet</code> interface also includes <code>stop()</code>, 
   <code>print()</code>, 
   and <code>destroy()</code> methods.</p>
   
<h4><a name="listener">PlugletStreamListener Interface</a></h4>
<p><code>PlugletStreamListener</code> is used for notification. Its methods are 
  called by the browser to make a variety of conditions known and to pass information.</p>
<ul>
<li><code>getStreamType()</code> returns the type of the stream, which can be:</p>
  <ul type=square>
    - <code>STREAM_TYPE_NORMAL</code><br>
    - <code>STREAM_TYPE_SEEK</code><br>
    - <code>STREAM_TYPE_AS_FILE</code> or<br>
    - <code>STREAM_TYPE_AS_FILE_ONLY</code><br>
  </ul>
      (See the API index for a detailed description of each of these stream types.)<br><br>


<li><code>onStartBinding()</code> is used for notification that a URL has started 
  to load.</p>

<li><code>onDataAvailable()</code> is used for notification that data is available 
  on the input stream.</p>

<li><code>onFileAvailable()</code> is used for notification that a local file name 
  is available and for passing the file name.</p>

<li><code>onStopBinding()</code> is used for notification that a URL has stopped 
  binding, and it passes status information about the success or failure of the 
  load.</p>
</ul>  
<HR>
<H5>Blackwood Release 0.9/Netscape PR3  Last modified  2/05/2001</H5>
<p>&nbsp;</p>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../../sitemap.html">Site Map</a></li>
<li><a href="../../../../security/">Security Updates</a></li>
<li><a href="../../../../contact/">Contact Us</a></li>
<li><a href="../../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified February 20,  2001</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/blackwood/java-plugins/guide/index.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
