<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

  <title>Localizing Firefox Using CVS</title>
  <link rel="stylesheet" type="text/css" href="http://www.mozilla.org/css/base/content.css">
<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<h1>Localizing Firefox using CVS</h1>

<p>Author: <a href="mailto:bsmedberg@covad.net?subject=Localizing%20Firefox%20Using%20CVS">Benjamin
Smedberg &lt;bsmedberg@covad.net&gt;</a>

<p>Firefox will be localized from the source tree through two
centralized locations. The core localized files shared between
Thunderbird and Firefox are located at mozilla/toolkit/locales in the
CVS tree <a href="http://lxr.mozilla.org/aviarybranch/source/toolkit/locales/">LXR</a>.
The localized files which are used only by Firefox are located at
mozilla/browser/locales
<a href="http://lxr.mozilla.org/aviarybranch/source/browser/locales/">LXR</a>.

<h2>Getting the English Files</h2>

<div class="section">
<p>Localizers can obtain the original English files for translating in
three ways:

<ol>
  <li>check out the files from the CVS repository;</li>
  <li>download a complete Firefox source tree (tarred or ZIPped) from
the mozilla.org FTP servers;</li>
  <li>download a ZIP of the locale files, which will be provided at the
time of localization-freeze before a release.</li>
</ol>

<h3>Getting Source Files from CVS</h3>
<div class="section">
<p>You do not need a CVS account to obtain the source files from CVS,
there is anonymous read-only access to the CVS server. You may wish to
read <a href="http://www.mozilla.org/catalog/development/compiling/cvs-sourcecode.html">this
document</a> describing how to check out the entire source code. If you
only want to retrieve the locale files, use the commands

<pre class="code">cvs checkout mozilla/toolkit/locales<br>cvs checkout mozilla/browser/locales</pre>
<p class="note">Firefox 1.0 source is not on the main CVS "trunk" but
rather
from a branch, named <var>AVIARY_1_0_20040515_BRANCH</var>. In order
to check out the locale files from this branch,
you must use the <var>-r</var> flag with CVS:

<pre class="command">cvs checkout -r AVIARY_1_0_20040515_BRANCH mozilla/toolkit/locales</pre>
</div>

<h3>Unpacking a downloaded ZIP file</h3>

<div class="section">
<p>JAR, ZIP, and XPI files are all the same archive format by different
names. They can all be unpacked using the <code class="command">unzip</code>
command-line utility, or a GUI tool like
<a href="http://www.winzip.com/">WinZip</a><a href="http://www.winzip.com/"></a>.
Users who wish to examine nested structures of archive files (a JAR
file in a XPI file)
may want to use the <a href="http://www.7-zip.org/">7-ZIP</a> archive
explorer.
</div>
</div>

<h2>Converting Firefox 0.9(.x) Langpacks</h2>
<div class="section">
<p>Because the directory structure of the source tree is different from
the directory structure in the final Firefox product, there is a perl
script that can convert a Firefox 0.9(.x) chrome JAR files into the new
format. This perl script requires a unix-like environment
(linux/osx/cygwin), and it will not work on windows without cygwin.
If you only have a windows machine and cannot install cygwin, ask
bsmedberg or somebody on the #firefox IRC channel to run this script on
your locale files. You will only need this script once. It requires the
following five files:

<ol>
  <li><code class="filename">ab-CD.jar</code> (platform-neutral
language chrome)</li>
  <li><code class="filename">CD.jar</code> (region chrome)</li>
  <li><code class="filename">ab-win.jar</code> (windows language chrome)</li>
  <li><code class="filename">ab-mac.jar</code> (mac language chrome)</li>
  <li><code class="filename">ab-unix.jar</code> (unix language chrome)</li>
</ol>
<p><a href="repackage-0.9.pl">Download <code class="filename">repackage-0.9.pl</code></a>
here.

<p>To run the script, place the five files in an empty directory, <code
 class="command">cd</code> to
that directory, and type the command:

<pre class="command">perl -w /path/to/repackage-0.9.pl ab-CD</pre>
<p>When the script is done you should have two JAR files:
<code class="filename">toolkit-ab-CD.jar</code> and <code
 class="filename">browser-ab-CD.jar</code>.</p>
</div>

<h2>Comparing Your Localization to English</h2>

<div class="section">
<p>After you run the repackaging script, you will still need to
manually copy some files into your language. These include default
files for the profile (bookmarks.html), localized search plugins, and a
few miscellaneous files needed by the installer. In order to help you
figure out which files you need, I have written another perl script
that will compare two language packs. It will make sure that the files
match, and also that DTD files and .properties files have the same
localized entries. You will also need to run this script when you
upgrade your language pack. This script is part of the mozilla source
tree, located at <code class="filename"><a
 href="http://lxr.mozilla.org/aviarybranch/source/toolkit/locales/compare-locales.pl?raw=1">mozilla/toolkit/locales/compare-locales.pl</a></code>.
This script can compare zipped or unzipped locale directories. This
perl script should also run on any variant of perl, including
ActiveState perl which does not require cygwin. For example:

<pre class="command">perl -w compare-locales.pl toolkit-en-US.jar toolkit-ab-CD</pre>

<p>The output of this command will list mismatched files and other
problems that may need to be solved for a compatible
locale pack. NOTE: this comparison is not foolproof, it checks for
properties and entities using regular expressions, not a full
parser. If you encounter errors, please let me know by filing a bug in
the Firefox-&gt;Build Config component of bugzilla.mozilla.org.
</div>

<h2>Checking Localized Files into CVS</h2>
<p>After you have a completed locale pack and the comparison script
returns no obvious errors, you are ready to have your localization
checked in to the CVS repository. If you have never used CVS before, it
would be best if you just sent me your ZIPped locale pack. I will
add the necessary directories to CVS and commit your files. If you know
how to use CVS, you may commit the files yourself. Please remember
that Firefox 1.0 locale packs are on the aviary branch, and you must
commit your new locale files on that branch as well.

<p>If you do not have commit access to the CVS repository, you must
obtain access by following <a
 href="http://www.mozilla.org/hacking/getting-cvs-write-access.html">these
directions</a>. You do <em>not</em>
need three super-reviewers to approve your CVS access. Just cc
bsmedberg@covad.net when you file your bug, and I will vouch that you are a
localization owner or peer.




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified September 22,  2004</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/firefox/l10n/using-cvs.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
