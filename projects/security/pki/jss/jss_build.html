
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../../images/mozilla-16.png" type="image/png">

<TITLE>Build Instructions for JSS 3.0</TITLE>
<script src="../../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<center>
<h2>Build Instructions for JSS 3.0</h2>
<i><FONT SIZE="-1">

<i><font size=-1>Primary Newsgroup: <a href="news://news.mozilla.org:119/mozilla.dev.tech.crypto">mozilla.dev.tech.crypto</a></font></i>
<br><i><font size=-1>Alternate Newsgroup: <a href="news://news.mozilla.org:23/mozilla.dev.tech.crypto">mozilla.dev.tech.crypto</a></font></i>

</FONT></i>
</center>

<p>Before building JSS, you need to set up your system as follows:

<ol>
	<li>Follow the <a href="../nss/buildnss_32.html">Build Instructions for NSS 3.2 Release</a> 
except for the following change:

<ul>
Check out <tt>coreconf</tt> with the CVS tag <code>JSS_3_0_RTM</code> instead of
<code>NSS_3_2_RTM</code>.
</ul>

That is, steps 8 and 9 of the <a href="../nss/buildnss_32.html#unix">
NSS 3.2 Unix build instructions</a> or step 7 of the <a href="../nss/buildnss_32.html#windows
">NSS 3.2 Windows build instructions</a> 
should proceed as follows when you are building JSS 3.0:

<ul>
<tt>cd ..</tt> (<tt>cd ..\..</tt> on Windows)<tt><BR>
cvs co -r NSS_3_2_RTM mozilla/security/nss<BR>
cvs co -r JSS_3_0_RTM mozilla/security/coreconf</tt>
</ul>
	<li>To check that NSS built correctly, run <tt>all.sh</tt> (in <tt>mozilla/security/nss/tests</tt>) 
and examine the results (in <tt>mozilla/test_results/security/</tt><i>computername</i>.#<tt>/results.html</tt>.<BR><BR>
	<li>Install a Java compiler and runtime. JSS supports Java version 1.2 or later. 
For information on downloading and installing the java tools you need, go to the 
<a href="http://java.sun.com/">Sun Java Site</a> and choose JDK from the pull-down menu labeled The Java Platform. 
On the next page you see, click the most recent release (currently "Java SDK Standard Edition, v. 1.3")
</ol>

Now you are ready to build JSS. Follow these steps:

<ol>

<li>Switch to the appropriate directory and check out JSS from the root of your source tree.
<blockquote><pre>
cvs co -r JSS_3_0_RTM mozilla/security/jss
</pre></blockquote>

<li><b>Windows Only:</b> The shell invoked by gmake, <code>shmsdos.exe</code>,
is likely to crash when invoking some Java tools on Windows. The current
workaround is to use some other shell in place of <code>shmsdos</code>, such
as <code>sh.exe</code>, which should be distributed with the
<a href="http://sourceware.cygnus.com/cygwin/download.html">Cygnus toolkit</a>
you installed to build NSS. The change is unfortunately rather drastic:
to trick gmake, you rename the shell program.
<blockquote><tt>
cd c:/Programs/cygnus/bin</tt> <i>(or wherever your GNU tools are installed)</i><BR>
<tt>cp shmsdos.exe shmsdos.bak</tt> <i>(backup shmsdos)</i><BR>
<tt>cp sh.exe shmsdos.exe</tt> <i>(substitute alternative shell)</i>
</blockquote>

Making this change will probably break other builds you are 
making on the same machine. You may need to switch the shell back and forth
depending on which product you are building. We will try to provide a more
convenient solution in the future. If you have the MKS toolkit installed, 
the <tt>sh.exe</tt> that comes with this toolkit can be used as well.<BR><BR>
<li>Setup environment variables needed for compiling Java source.<BR><BR>

<b>Unix:</b>
<ul>
<tt>setenv NS_USE_JDK_TOOLSET 1<BR>
setenv JAVA_HOME /usr/local/jdk1.2.2</tt> <i>(or wherever you installed the JDK)</i>
</ul>

<b>Windows NT</b><BR>
<ul>
<TT>set NS_USE_JDK_TOOLSET=1<BR>
set JAVA_HOME=c:\programs\jdk1.2.2</tt> <i>(or wherever you installed the JDK)</i>
</ul>

<b>Windows NT  (Cygnus)</b><BR>
<ul>
<tt>NS_USE_JDK_TOOLSET=1<BR>
JAVA_HOME=/cygdrive/c/programs/jdk1.2.2</tt> <i>(or wherever you installed the JDK)</i><BR>
<tt>export NS_USE_JDK_TOOLKIT JAVA_HOME</tt>
</ul>

<li>Build JSS.
<blockquote><pre>
cd mozilla/security/jss
gmake private_export
gmake
</pre></blockquote>

</ol>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../../sitemap.html">Site Map</a></li>
<li><a href="../../../../security/">Security Updates</a></li>
<li><a href="../../../../contact/">Contact Us</a></li>
<li><a href="../../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 29,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/security/pki/jss/jss_build.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
