<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Tao Cheng">
   <meta name="GENERATOR" content="Mozilla/4.7 [en]C-AOLNSCP  (WinNT; U) [Netscape]">
   <title>Markup Languages Coding Guidelines</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




&nbsp;
<center><table BORDER=0 WIDTH="100%" >
<tr>
<td></td>

<td>
<center>
<h1>
Markup Languages Style Guidelines</h1></center>
</td>

<td></td>
</tr>

<tr>
<td></td>

<td>
<center><a href="news://news.mozilla.org/mozilla.dev.l10n">newsgroup
discussion</a>
<br><a href="mailto:dev-l10n-request@lists.mozilla.org?subject=subscribe">mailing
list</a>
<br><a href="mailto: Tao Cheng <tao@netscape.com>">Tao Cheng</a></center>
</td>

<td></td>
</tr>
</table></center>

<br>&nbsp;
<table BORDER=0 COLS=1 WIDTH="100%" >
<tr>
<td><a href="xul-styleguide.html">[l12y main page]</a></td>
</tr>

<tr>
<td></td>
</tr>
</table>

<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><b>Introduction</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
The following are considered good coding style for markup languages including
<b>XML,
XUL, HTML, and XHTML</b>. Disobeying them might not cause any parsing error
for now, however, it might cause future maintenance headache:
<blockquote>
<li>
<b><a href="#html2xul">Convert HTML files to XUL.</a></b></li>

<li>
<a href="#xmldecla">The XML declaration.</a></li>

<li>
<a href="#namespace">Namespace</a>.</li>

<li>
<a href="#casesens">Case sensitivity</a>.</li>

<li>
<a href="#jsguide">JavaScript code</a>.</li>

<li>
<a href="#dtddeclar">DTD declaration</a>.</li>

<li>
<a href="#charent">Predefined Entities</a>.</li>

<li>
<a href="#xhtmlguide">Other guidelines</a>.</li>
</blockquote>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="html2xul"></a><b>Convert D/HML files to XUL files</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
All UI descriptions written in HTML shall be converted into XUL. Currently,
we do not have a clean way of localizing HTML files. XUL is our UI description
language. In addition, there are certain XUL specific features, such as
XUL fragments, which are supported in XUL content model only.
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="xmldecla"></a><b>XML declaration</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
All XML declaration shall contain the following information:
<ul>
<li>
<i>Version number.</i> Version number indicates that this XML document
conforms to a particular version of XML specification. It is provided as
a means to allow the possibility of automatic version recognition, should
it become necessary. Processors may signal an error if they receive documents
labeled with versions they do not support [<a href="http://www.w3.org/TR/1998/REC-xml-19980210#sec-prolog-dtd">Prolog
and Document Type Declaration</a> ].</li>

<li>
<i>UTF-8 encoding</i>. Wherever applicable, the recommended encoding of
the content data and attribute values is <b>UTF-8</b>. [<a href="http://www.w3.org/TR/1998/REC-xml-19980210#NT-EncodingDecl">EncodingDecl</a>
]. In Mozilla, when such information is not specified, UTF-8 is the default
encoding of all XML, XUL, and RDF documents. Note that&nbsp; since ASCII
is a subset of UTF-8, ordinary ASCII entities do not strictly need an encoding
declaration.</li>

<li>
<i>Style sheet.</i> An XML file must have a style sheet associated with
it, otherwise, it won't know how to display the document. Note that, as
suggested below in "Configurable Chrome", chrome type URLs shall be used
to reference the style sheet. For details, see the "XUL File Preamble"
section of David Matejka's&nbsp; <a href="http://www.mozilla.org/xpfe/languageSpec.html">XUL
Language</a>&nbsp; spec.</li>
</ul>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="namespace"></a><b>Namespace</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
In XUL documents, namespace shall default to "xul" and be declared in the
root element. Other namespace referenced shall be declared before use and
preferably in the root element of the document. See the sample XUL declaration
below for illustration.
<br>&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="casesens"></a><b>Case sensitivity</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
Be aware that XML is case sensitive. In compliance with the XHTML 1.1
recommendation, all element names and attribute names shall be in lower case.
<p><a NAME="xulSample"></a><u>Sample XUL declaration </u>(stolen from
<a href="http://www.mozilla.org/xpfe/languageSpec.html">XUL
Language</a> )
<ul>&lt;?xml version="1.0" encoding='UTF-8' ?>
<br>&lt;?xml-stylesheet href="xul.css" type="text/css"?>
<br>&lt;!DOCTYPE window>
<br>&lt;window xmlns:html="http://www.w3.org/1999/xhtml"
<br>&nbsp; xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"></ul>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="chromreg"></a><b>Configurable Chrome</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
Please refer to <a href="http://www.mozilla.org/xpfe/ConfigChromeSpec.html">Configurable
Chrome</a> for details about the concept of Configurable Chrome and the
usage of chrome registry.
<p>Three XUL style guidelines are proposed:
<ul>
<li>
All resource reference in XUL shall use the <b>chrome type URL</b>s instead
of hardwired URLs.</li>

<li>
Place all language neutral files in packages/ and skins/ directories.</li>

<li>
Place all locale sensitive files under their specific sub-directories such
as "chrome/locales/en-US/navigator/locale/*". Note that all languages are
treated equally and stored in their respective sub-directories. Candidates
of such files are language-specific DTD files.</li>
</ul>
Why is it important to put language-specific files in locale-specific sub-directories?
Because we want to be able to switch between languages on the same user
machine. This is essential on UNIX and maybe on other Operating systems.
<p>A close view of the chrome "Directory Structure":
<p>[Mozilla]/bin/
<blockquote>[chrome]
<blockquote>
<blockquote>[skins]
<blockquote>[default] navigatorSkin.jar
<br>... other files bundled with navigator
<br>... ... other skins used by users for navigator ...</blockquote>
[packages]
<blockquote>[default]
<br>navigatorContent.jar
<br>... other files bundled with navigator ...</blockquote>
[locales]
<blockquote>[en-US]
<br>[de-DE]
<br>[ja-JP]</blockquote>
/*... ... ... subdirectories for other specific window types ... */</blockquote>
</blockquote>
</blockquote>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="jsguide"></a><b>JavaScript</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
JavaScript code shall be moved out of XUL. Therefore, in stead of puttinig
them inline as
<ul>&nbsp;&lt;script>
<br>&nbsp;&nbsp;&nbsp;&nbsp; ...
<br>&nbsp;&nbsp;&nbsp;&nbsp; ...
<br>&nbsp;&nbsp;&nbsp;&nbsp; /* JavaScript code */
<br>&nbsp;&nbsp;&nbsp;&nbsp; ...
<br>&nbsp;&nbsp;&nbsp;&nbsp; ...
<p>&nbsp;&lt;/script></ul>
We move them into a foo.js file and declare its URI in the start tag like
this
<ul>&lt;script language="javascript" src="foo.js" encoding="UTF-8" /></ul>

<ul>(Refer to <a href="http://www.w3.org/TR/REC-html40/interact/scripts.html#edef-SCRIPT">SCRIPT</a>
for the official&nbsp; spec of this syntax)</ul>
The advantages of this are
<ul>
<li>
Legibility. The main purpose of the XUL is to describe the UI content.
As style information shall be in style sheet, JavaScript code shall be
in *.js as well to keep the main XUL file clean. In some XUL files, JavaScript
code takes up 20-25% of the length of the file. Often times, we need to
go to the very bottom of the file to find the UI descriptions.</li>

<li>
Maintainability. By putting JavaScript code in external files, we can isolate
the function declaration in a separate file. The developer does not need
to touch the main XUL to change its runtime behavior.</li>

<li>
Flexibility. Since the JavaScript code is in an external file, customization
can be achieved by switching the JS file. With chrome registry, developers,
content providers, or even the end users will be able to edit the registry
table to use a customized JS code for their browser client.</li>
</ul>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="dtddeclar"></a><b>DTD declaration</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
The following are extracted from <a href="#xmlbk1">XML Applications</a>
<ul>
<li>
Comment declaration shall be included copiously.</li>

<ul>&nbsp;
<br>&lt;!-- There's no such thing as too many comments. -->
<br>&nbsp;</ul>

<li>
Comment declarations describing the purpose of a DTD to be included at
the start.</li>

<li>
Each declaration is presented on a separate line. For example,</li>

<ul>&nbsp;
<br>&lt;!ELEMENT e1 (...) >
<br>&lt;!ELEMENT e1 (...) ></ul>

<p><br>rather than
<ul>&nbsp;
<br>&lt;!ELEMENT e1 (...) > &lt;!ELEMENT e1 (...) >
<br>&nbsp;</ul>

<li>
Element declaration precedes any attribute list associated with it.</li>

<ul>&nbsp;
<br>&lt;!ELEMENT e1 (...) >
<br>&lt;!ATTLIST&nbsp;&nbsp;&nbsp; e1 (...) ></ul>

<p><br>rather than
<ul>&nbsp;
<br>&lt;!ATTLIST&nbsp;&nbsp;&nbsp; e1 (...) >
<br>&lt;!ELEMENT e1 (...) ></ul>
</ul>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="charent"></a><b>Predefined Entities</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
The following are <a href="http://www.w3.org/TR/1998/REC-xml-19980210#sec-predefined-ent">predefined
entities</a> and shall not be redefined in any XUL:
<table BORDER NOSAVE >
<tr ALIGN=CENTER NOSAVE>
<td WIDTH="10%" NOSAVE><b>Entity Name/Reference</b></td>

<td WIDTH="10%" NOSAVE><b>Name</b></td>

<td WIDTH="10%" NOSAVE><b>Symbol</b></td>

<td WIDTH="10%" NOSAVE><b>Value</b></td>
</tr>

<tr ALIGN=CENTER NOSAVE>
<td NOSAVE>&amp;lt;</td>

<td>less than</td>

<td>&lt;</td>

<td>"&amp;#38;#60;"</td>
</tr>

<tr ALIGN=CENTER NOSAVE>
<td NOSAVE>&amp;gt;</td>

<td>greater than</td>

<td>></td>

<td>"&amp;#62;"</td>
</tr>

<tr ALIGN=CENTER NOSAVE>
<td NOSAVE>&amp;amp;</td>

<td>ampersand</td>

<td>&amp;</td>

<td>"&amp;#38;#38;"</td>
</tr>

<tr ALIGN=CENTER NOSAVE>
<td NOSAVE>&amp;apos;</td>

<td>apostrophe</td>

<td>'</td>

<td>"&amp;#39;"</td>
</tr>

<tr ALIGN=CENTER NOSAVE>
<td NOSAVE>&amp;quot;</td>

<td>quote</td>

<td>"</td>

<td>"&amp;#34;"</td>
</tr>
</table>

<p>We also define the entity for EURO SIGN as follows.
<blockquote>&lt;!ENTITY euro "&amp;#x20AC;" ></blockquote>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#FFFFCC" >
<tr VALIGN=TOP>
<td VALIGN=TOP><a NAME="xhtmlguide"></a><b>Other guidelines</b></td>
</tr>

<caption ALIGN=BOTTOM>&nbsp;</caption>
</table>
Other guidelines mentioned in the <a href="http://www.w3.org/TR/xhtml11/">XHTML
1.1 Recommendation</a> help you write HTML content in XML documents that are
portable across conforming parsers.
<ul>
<li>
&nbsp;<a href="http://www.w3.org/TR/WD-html-in-xml/#diffs">Differences
with HTML 4.0</a></li>

<br>&nbsp;<a href="http://www.w3.org/TR/WD-html-in-xml/#guidelines">Guidelines</a></ul>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified August  2,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/l10n/ml_l12y.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
