
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

<title>How to make a Mac OS X localized build of Mozilla Firefox</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<div align="center">
<h1>Packaging Instructions: Firefox for Mac OS X</h1>

<a href="news://news.mozilla.org/mozilla.dev.l10n">newsgroup discussion</a> /
   <a href="mailto:dev-l10n-request@lists.mozilla.org?subject=subscribe">mailing list</a><br>
   <a href="mailto:MLP&#32;Staff&#32;&lt;mlp-staff&#64;mozilla.org&gt;">Mozilla Localization Project Staff</a>
</div>

<p><br></p>

<abbr title="Mozilla Localization Project"><b>MLP</b></abbr>
[<a href="./">Localization Project home</a>] | [<a href="mlp_docs.html">Localization docs</a>]
| [Packaging] | [Firefox for Mac OS X]

<p><br></p>

<strong><em><a href="mailto:mmx_moz@c-comm.de?subject=Firefox for OS X Instructions">Martin Creutziger</a> (2004-02-16) ver0.3</em></strong>
<br>
If you want to make your own localized build of Mozilla Firefox for OS X you might find the following steps helpful.

<strong><em>If you are looking for current instructions how to package Thunderbird 1.0.x, check out <a href="http://thunderbird.dnsalias.net/instructions/">this version.</a></em></strong>

<ol style="list-style-type:upper-roman;">
 <li><h3>Prerequisites</h3><br>
 What you need to get started.
 <ul>
  <li>A <a href="../../products/firefox/index.html">Firefox English build</a></li>
  <li>A <tt>yourlanguage.xpi</tt> <a href="mlp_otherproj.html#ffox_contrib">installable language package</a> or the language files alone</li>
  <li>A plain text editor (e.g. TextEdit)</li>
  <li>An Unix Shell, preferably the Apple Terminal</li>
 </ul>
 You should also know the <a href="mlp_otherproj.html#ffox_contrib">locale code</a>
 used for this localized version of Mozilla Firefox. It usually looks like a 2/3
 lower case letters, minus, 2 capital letters string. E.g.: <tt>fr-FR</tt>,
 <tt>zh-TW</tt>, <tt>wen-DE</tt>
 </li>
 
 <li><h3>Steps to perform when you have a Mozilla Firefox language package<br>
     (<tt>yourlanguage.xpi</tt>)</h3><br>
     <p><strong>A forenote:</strong> Always get in touch with the authors of the localized
        material, an let them know what you're going to do with their work.</p>
 <ol>
  <li>Extract the English build and mount the diskimage. Copy the content (Firefox) in a new folder.</li>
  <li>Launch Firefox from the copied build (<em>with a fresh profile</em>)</li>
  <li>Install the <tt>language.xpi</tt> using the "Install new extension" button in the "Extensions" preference panel</li>
  <li>Exit Firefox<br><br></li>

  <li>Open a Terminal (e.g. /Applications/Utilities/Terminal)</li>
  <li>Launch again Firefox using the command<br>
    "[path to Firefox]<tt>/"Firefox.app"/Contents/MacOS/firefox-bin -contentLocale </tt><em>[RegionCode]</em><tt> -UILocale </tt><em>[LocaleCode]</em><tt> &amp;</tt>".<br>
    Firefox should launch in your language now. If not, try the steps in part (III)</li>
  <li>Exit Firefox again<br><br></li>

  <li>Rename the <tt>language.xpi</tt> to <tt>language.zip</tt> and extract it into a folder called "<tt>lpcontents/</tt>"<br><br></li>

  <li>Open the Firefox package using a right-click (Ctrl-click) and "Show package contents"</li>
  <li>Dive into "<tt>Contents/MacOS/chrome/</tt>" and copy "<tt>installed-chrome.txt</tt>" to your Desktop</li>
  <li>Modify this copy of "<tt>installed-chrome.txt</tt>" with a text editor. Each occurrence of "<tt>en-US.jar</tt>", "<tt>US.jar</tt>" or "<tt>en-mac.jar</tt>", should be replaced with the name of the corresponding jar file in <tt>lpcontents/</tt><br>
   (e.g.: en-US.jar -> pt-BR.jar, en-mac.jar -> pt-BR-mac.jar, US.jar -> reg-pt-BR.jar)</li>
  <li>Extract the original Firefox again into a folder called "<tt>FFbuild</tt>", but keep the copy you just launched (just in case...).<br><br></li>

  <li>Dive into <tt>FFbuild/Contents/MacOS/chrome/</tt></li>
  <li>Delete "<tt>chrome.rdf</tt>", "<tt>installed-chrome.txt</tt>" and "<tt>chromelist.txt</tt>" as well as "<tt>en-*.jar</tt>" and "<tt>US.jar</tt>"</li>
  <li>Copy the "<tt>installed-chrome.txt</tt>" we saved in your Desktop, into <tt>FFbuild/Contents/MacOS/chrome</tt></li>
  <li>Copy the contents of "<tt>lpcontents/chrome/</tt>" folder into <tt>FFbuild/Contents/MacOS/chrome</tt><br><br></li>

  <li>Switch to <tt>FFbuild/Contents/MacOS/defaults/</tt></li>
  <li>Copy the content of <tt>lpcontents/defaults/profile/</tt>[region code]<tt>/</tt> into "<tt>profile</tt>"</li>
  <li>Copy <tt>lpcontents/defaults/profile/</tt>[region code]<tt>/</tt> itself into "<tt>profile/</tt>". (right, you now got the files duplicate in there)</li>
  <li>Copy the remaining contents of <tt>lpcontents/</tt> into the appropriate folders<br><br></li>

  <li>Change to <tt>FFbuild/Contents/Resources/</tt> and copy <tt>English.lproj</tt> to <em>[YourNameLanguageInEnglish]</em><tt>.lproj</tt> or <em>[languagecode]</em><tt>.lproj</tt><br><br></li>

  <p><strong>Note:</strong> <em>NEVER</em> launch the Firefox you want to package up, always use copies for testing. If you launched it once, you'll <em>HAVE TO</em> start all over again.</p>
  <li>Now you should create a read-only diskimage (<em>not</em> compressed) with the contents of <tt>FFbuild/</tt> you just edited.</li>
  <li>After you're done creating the diskimage (or you copied the localized Firefox to a different location) you should test it with <em>a fresh profile</em> (delete <tt>&tilde;/Library/Phoenix</tt> and/or use different login)</li>
  <li>Once you're sure everything works as wanted, you can continue, otherwise you have to fix it or start over again.</li>
  <li>You are almost done. Now open the Terminal and change to the location of the disk image<br>
   (using the command: <tt>cd <em>[path]</em></tt>).</li>
  <li>In this directory, type the command "<tt>bzip2 -kv9 [diskimg_filename].dmg</tt>"</li>
  <li>After compression finished, you should have a new "<tt>.dmg.bz2</tt>" file along the old "<tt>.dmg</tt>" one. You are done then.</li>
  
 </ol>
 </li>
 
 <li><h3>Steps to perform if you have the language files<br>
      (got from a Windows or a Linux build)</h3><br>
 
 <ol>
  <li>Get a Windows or Linux build localized in your language and extract it inside a folder named <tt>FFLocalized</tt>. A <tt>chrome</tt> folder contained in <tt>FFLocalized</tt> should contain the Firefox user interface resources localized in your language (e.g. <tt>FFLocalized/Firefox/chrome/</tt>).<br>
   The files you're interested in are named accordingly the <a href="mlp_otherproj.html#ffox_contrib">locale code</a> of your build.<br><br></li>

  <li>Extract the English Firefox build to mount the disk image.<br><br></li>

  <li>Look inside the English Firefox package with a right click (Ctrl-click) and selecting "Show package contents".</li>
  <li>Dive into <tt>Contents/MacOS/chrome</tt>.</li>
  <li>Copy the "<tt>installed-chrome.txt</tt>" file in your Desktop.</li>
  <li>Delete the following files: "<tt>chrome.rdf</tt>", "<tt>installed-chrome.txt</tt>", "<tt>chromelist.txt</tt>", "<tt>en-mac.jar</tt>", "<tt>en-win.jar</tt>", "<tt>en-unix.jar</tt>", "<tt>US.jar</tt>".</li>
  <li>Copy the language specific <tt>.jar</tt> files from the Win/Linux localized build, in here. The source and the destination of these files has to be the <tt>chrome/</tt> folder of the two builds.<br><br></li>

  <li>Modify the copy of "<tt>installed-chrome.txt</tt>" in your Desktop with a text editor. Each occurrence of "<tt>en-US.jar</tt>", "<tt>US.jar</tt>" or "<tt>en-mac.jar</tt>", should be replaced with the name of the corresponding localized jar file just copied in <tt>Contents/MacOS/chrome/</tt><br>
   (e.g.: en-US.jar -> pt-BR.jar, en-mac.jar -> pt-BR-mac.jar, US.jar -> reg-pt-BR.jar)</li>
  <li>Copy the edited version of "<tt>installed-chrome.txt</tt>" in you Desktop in this folder.<br><br></li>

  <li>Copy the !contents! of <tt>FFLocalized/bin/defaults/profile/</tt><em>[region code]</em><tt>/</tt> inside the <tt>Contents/MacOS/defaults/profile/</tt> folder of the Firebird package.</li>
  <li>Copy the !folder! <tt>FFLocalized/bin/defaults/profile/</tt><em>[region code]</em> inside <tt>Contents/MacOS/defaults/profile/</tt> folder of the Firebird package. This means you'll end up with a new "<em>[region code]</em>" folder in <tt>Contents/MacOS/defaults/profile/</tt>.<br><br></li>

  <li>In the Firefox package go to <tt>Contents/Resources/</tt> and copy <tt>English.lproj</tt> to either <em>[YourLanguageNameInEnglish]</em><tt>.lproj</tt> or <em>[languagecode]</em><tt>.lproj</tt><br><br></li>

  <li>Similarly copy any remaining language specific file in the appropriate folders.<br><br></li>

  <li>Create a read-only diskimage (<em>not</em> compressed) of the Firefox package you just edited.</li>
 <p><strong>Note:</strong> <em>NEVER</em> launch the Firefox build you want to distribute, always use copies for testing. If you launched it once, you'll <em>HAVE TO</em> start all over again.</p>
  <li>Now the diskimage is ready for testing. Alternatively you can test a copy these contents inside a different folder. Remember of testing using a <em>fresh profile</em> (delete &tilde;/Library/Phoenix and/or use different login).</li>
  <li>You're almost done. Open the Terminal and change to the location to the folder containing the disk image (using the command <tt>cd <em>path</em></tt>).</li>
  <li>In this directory, type the command "<tt>bzip2 -kv9 [filename].dmg</tt>"</li>
  <li>After compression has completed, you should have a new "<tt>.dmg.bz2</tt>" file along the old "<tt>.dmg</tt>" one. You are done then.</li>
 </ol>
 </li>
 
</ol>
Feel free to send a mail in case you have problems. (Use the link at the top of this page)<br>
<b>Have fun building and testing!</b>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified August  2,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/l10n/mlp_package_FF_macOSX.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
