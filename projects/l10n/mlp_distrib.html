<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

            
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
            
  <meta name="author" content="Tao Cheng">
  <title>Mozilla Unix Distribution</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<table border="0" width="100%">
  <tbody>
    <tr>
      <td align="Center"><br>
      </td>
      <td>                              
      <div align="Center">                              
      <h1>Making UNIX package for Localization</h1>
      </div>
      </td>
      <td><br>
      </td>
    </tr>
    <tr>
      <td><a href="mailto: Tao Cheng &lt;tao@netscape.com&gt;"></a>&nbsp;</td>
      <td> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            
      <center><a href="news://news.mozilla.org/mozilla.dev.l10n">
newsgroup discussion</a><br>
 &nbsp; &nbsp; &nbsp; <a href="mailto:dev-l10n-request@lists.mozilla.org?subject=subscribe">
mailing list</a><br>
      <a href="mailto: Masaki Katakai &lt;katakai@japan.sun.com">Masaki Katakai</a></center>
      </td>
      <td><br>
      </td>
    </tr>
          
  </tbody>
</table>
<table border="0" cols="1" width="100%">
  <tbody>
    <tr>
      <td><a href="mlp.html">[main page]</a></td>
    </tr>
    <tr>
      <td><a href="mlp_howto.html">[how to]</a></td>
    </tr>
          
  </tbody>
</table>
<br>
<table border="0" cellspacing="0" cellpadding="0" width="100%" bgcolor="#ffffcc">
  <tbody>
    <tr valign="Top">
      <td valign="Top">                              
      <table border="0" width="100%">
        <tbody>
          <tr>
            <td>                                                        
            <div align="Justify"><b>Making Solaris SVR4 package and Linux RPM package for localization</b><br>
            </div>
            </td>
          </tr>
        </tbody>                              
      </table>
      </td>
    </tr>
          
  </tbody><caption align="Bottom"> &nbsp;&nbsp; </caption>
</table>
When we provide Mozilla L10N package as Solaris SVR4 package or Linux RPM
package, we can use regchrome utility at the installation. The regchrome
utility will look into installed-chrome.txt and will update all-locales.rdf
file automatically.<br>
<br>
<table cellpadding="2" cellspacing="2" border="0" width="100%" bgcolor="#ffffcc">
  <caption align="Bottom"><br>
  </caption><tbody>
    <tr valign="Top">
      <td valign="Top"><b>Creating base Mozilla package</b><br>
      </td>
    </tr>
          
  </tbody>
</table>
 'Base' means Mozilla components and English (en-US) L10N files.&nbsp; The
base package should contains all files that are needed to run Mozillain en-US
locale. The base package should contain, <br>
<ul>
          
  <li>chrome/all-locales.rdf &nbsp; </li>
          
  <li> chrome/installed-chrome.txt &nbsp; </li>
</ul>
and these files must be defined as *modify-able* by package script because
these will need to be updated when L10N package is&nbsp; installed and uninstalled.<br>
<br>
<table cellpadding="2" cellspacing="2" border="0" width="100%" bgcolor="#ffffcc">
  <caption align="Bottom"><br>
  </caption><tbody>
    <tr valign="Top">
      <td valign="Top"><b>Creating Mozilla L10N package</b></td>
    </tr>
        
  </tbody>
</table>
'L10N' package will contain only L10N files, e.g. ja-JP. User will &nbsp;
add the package if the locale is needed for the system. &nbsp; For example,
ja-JP package should contain L10N files,<br>
<ul>
          
  <li> chrome/ja-JP.jar</li>
          
  <li>defaults/profile/ja-JP/...</li>
          
  <li>defaults/isp/ja-JP/..</li>
          
  <li> defaults/messenger/ja-JP/...</li>
          
  <li>searchplugins/* &nbsp;&nbsp; </li>
</ul>
and two scripts,<br>
<ul>
          
  <li> script for post installation</li>
          
  <li>script for post un-installation</li>
</ul>
 which will run at post installation and un-installation to update<br>
<ul>
          
  <li>chrome/all-locales.rdf</li>
          
  <li>chrome/installed-chrome.txt</li>
</ul>
<table cellpadding="2" cellspacing="2" border="0" width="100%" bgcolor="#ffffcc">
  <caption align="Top"><br>
  </caption><tbody>
    <tr valign="Top">
      <td valign="Top"><b>Script for installation of L10N package</b></td>
    </tr>
        
  </tbody>
</table>
<ol>
          
  <li>L10N package will install ja-JP.jar as chrome/ja-JP.ja            
    <p>After installing of ja-JP.jar, script for installation needs to do
the following,</p>
  </li>
          
  <li>Add the following lines to chrome/installed-chrome.txt            
    <p>locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/necko/<br>
       locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/editor/<br>
       locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/navigator/<br>
       locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/communicator/<br>
       locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/global/<br>
       locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/messenger/
     </p>
  </li>
          
  <li>remove all-locales.rdf file                    
    <p>Due to</p>
                    
    <blockquote>http://bugzilla.mozilla.org/show_bug.cgi?id=55276<br>
      </blockquote>
                              
      <p>all-locales.rdf file need to be removed before performing regchrome.</p>
                              
      <blockquote> chrome/all-locales.rdf </blockquote>
  </li>
                          
      <li>run regchrome utility with proper LD_LIBRARY_PATH and MOZILLA_FIVE_HOME
                                        
        <p>export MOZILLA_FIVE_HOME=/usr/local/...<br>
           export LD_LIBRARY_PATH=$MOZILLA_FIVE_HOME:/usr/local/...<br>
           $MOZILLA_FIVE_HOME/regchrome</p>
                                        
        <p> This utility will insert ja-JP entries to chrome/all-locales.rdf.</p>
      </li>
                    
    </ol>
                        
    <table cellpadding="2" cellspacing="2" border="0" width="100%" bgcolor="#ffffcc">
      <caption align="Top"><br>
      </caption><tbody>
        <tr valign="Top">
          <td valign="Top"><b>Script for de-installation of L10N package</b></td>
        </tr>
                        
      </tbody>                
    </table>
                
    <ol>
                  
      <li>Remove ja-JP.jar                        
        <p>After removing of ja-JP.jar, script for un-installation needs
todo the following, &nbsp; &nbsp; &nbsp; &nbsp; </p>
      </li>
                              
      <li>Remove the following lines from chrome/installed-chrome.txt   
                                
        <p>locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/necko/<br>
         locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/editor/<br>
         locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/navigator/<br>
         locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/communicator/<br>
         locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/global/<br>
         locale,install,url,jar:resource:/chrome/ja-JP.jar!/locale/ja-JP/messenger/
      </p>
      </li>
                              
      <li>Remove all-locales.rdf file                                   
    
        <p>Due to</p>
                                        
        <blockquote>http://bugzilla.mozilla.org/show_bug.cgi?id=55276,</blockquote>
                                                  
          <p> all-locales.rdf file need to be removed before performing regchrome.<br>
          </p>
                                                  
          <blockquote>chrome/all-locales.rdf</blockquote>
       </li>
                                               
          <li>Run regchrome utility with proper LD_LIBRARY_PATH and MOZILLA_FIVE_HOME
                                                            
            <p>export MOZILLA_FIVE_HOME=/usr/local/...<br>
               export LD_LIBRARY_PATH=$MOZILLA_FIVE_HOME:/usr/local/...<br>
               $MOZILLA_FIVE_HOME/regchrome</p>
                                                            
            <p>This utility will remove ja-JP entries from chrome/all-locales.rdf
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </p>
        </li>
                                      
        </ol>
                                
        
        

<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified August  2,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/l10n/mlp_distrib.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
