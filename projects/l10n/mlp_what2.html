<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 TRANSITIONAL//EN">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

<!-- This page was created by the Gecko output system. -->
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>Mozilla localization quick guide</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<p>&nbsp;</p>
<table border="0" width="100%">
  <tr><td>
    <center><h1>Mozilla localization quick guide</h1></center>
  </td></tr>
  <tr><td>
    <center><a href="news://news.mozilla.org/mozilla.dev.l10n">newsgroup discussion</a> /
    <a href="mailto:dev-l10n-request@lists.mozilla.org?subject=subscribe">mailing list</a><br>
    <a href="mailto:MLP Staff &lt;mlp-staff&#64;mozilla.org&gt;">Mozilla Localization Project Staff</a></center>
  </td></tr>
</table>
<br>
<abbr title="Mozilla Localization Project"><b>MLP</b></abbr>
 [<a href="./">Localization Project home</a>]
 | [<a href="mlp_docs.html">Localization docs</a>]
 | [Quick guide]<br>
<br>

<table border=0 cellspacing=0 cellpadding=0 cols=1 width="100%" bgcolor="#FFFFCC" >
<tr><td><h3>Introduction</h3></td></tr>
</table>
<p>This document shows a step by step approach for the localization of
 Mozilla, <i>directly manipulating</i> its resource files. This document
 is mainly focused in giving a general idea of the typical structure of
 the localizable resources of Mozilla.</p>
<p>There are also specific <a href="mlp_tools.html">tools</a> available,
 created with the aim of a simpler (automatic) management of these
 resources. This hides many tedious technical details from the localizer.
 In any case, this document can help to give an insight on how to directly
 access the resources and solve possible problems.</p>

<p>Most of the localizable resources in Mozilla are externalized
 into files in the following directories:</p>
<ul>
  
  <li><b><a href="#chrome_files">chrome files</a></b>
       in [install-dir]/chrome/<i>{en-US.jar, en-mac.jar, en-unix.jar,
       en-win.jar}</i>:<br>
       switchable UI resources.</li>
  <li><b>regional contents</b> in [install-dir]/chrome/US.jar :<br>
       switchable regional specific external references. The
       localization process for these files closely follows the
       procedure for <a href="#chrome_files">chrome files</a>.
       <font color="red">See "<a href="mlp_regional.html">Regional Content Bundling</a>"
       for details.</font></li>
  <li><b><a href="#defaults">profile defaults</a> (optional)</b> 
       in [install-dir]/defaults/profile/[<a
       href="mlp_chrome.html#regionlocalecode">region-locale-code</a>]/* :<br>
       files to be copied into new user profile directory. They're
       selected according to the currently active regional contents.</li>
</ul>


<table border=0 cellspacing=0 cellpadding=0 cols=1 width="100%" bgcolor="#FFFFCC" >
<tr><td><h3><a name="chrome_files"></a>Chrome files</h3></td></tr>
</table>
<p>In Mozilla, most UI resources are located in the <tt>chrome/</tt>
 folder of the install directory. The original localizable files are
 packaged as:
<ul>
 <li><tt><b>en-US</b>.jar</tt>: contains nearly all the UI language 
   resources.</li>
 <li><tt><b>en-win</b>.jar</tt> (for Windows): contains all the Windows
   specific UI resources. Similarly, for Unix and MacOS, there are
   <tt><b>en-unix</b>.jar</tt> and <tt><b>en-mac</b>.jar</tt>.</li>
 <li><tt><b>US</b>.jar</tt>: contains all the regional contents (URLs)
   resources.</li>
</ul>
<p>Starting from this material, let's try to obtain a copy of the same
 resources localized in the wanted locale language:</p>
 
<ol>
<li value="1">To work on the resources they contain, extract them with a
 conventional <a href="mlp_tools.html#others">zip archiver utility</a>
 into an empty directory, preserving the directory structure.<br><br></li>
<li>Rename the <tt>en-US/</tt> folder to your
 <a href="mlp_howto.html#registration">locale code</a>, and the
 <tt>US/</tt> folder to your
 <a href="mlp_chrome.html#regionlocalecode">region code</a>.<br><br></li>
<li>Replace inside all the <tt>contents.rdf</tt> files "en-US" with your
 <a href="mlp_howto.html#registration">locale code</a>, and <em>(only
 for files from <tt>US.jar</tt>)</em> "US" with your
 <a href="mlp_chrome.html#regionlocalecode">region code</a>.<br>
 Then modify all the values assigned to the following properties to a
 relevant new value:
 <table border="1" align="center">
 <thead><tr><th>Property name</th><th>Meaning</th></tr></thead>
 <tbody>
 <tr><td>displayName</td><td>String the user will see in the user
       interface, as selectable language or Content/regional pack.
       (E.g. UI language: "Italian"; Content pack: "Italy Region")</td></tr>
 <tr><td>author</td><td>Name of the localizer(s).</td></tr>
 <tr><td>name</td><td>Locale/region code.</td></tr>
 <tr><td>localeVersion</td><td>Mozilla version string of the target
       localized release. (E.g. "1.3b" or "1.0.2" for Mozilla version
       1.3 beta or 1.0.2)</td></tr>
 <tr><td>previewURL</td><td>(OPTIONAL) URL to a 355x85 pixel image with
       a preview of the localized program.</td></tr>
 </tbody>
 </table>
 </li>
</ol>

<p>You'll find out that you need to work on some different file types. Let's
 see how to work on them type by type.</p>



<ol type="a">
<li value="a"><p><a name="dtdFile"></a>DTD files <b>(*.dtd)</b>
   &mdash; Text files <b>UTF-8</b> encoded.</p>

 <p>A DTD file contains a list of entities that need to be localized.
 The entities here defined are then used inside the
 <a href="xul-l10n.html#pro1">user interface XUL files</a>.
 An entity declaration looks like this:<p>

 <dl><dd>&lt;!ENTITY openCmd.label "<font color="green">Open Web Location...</font>"&gt;</dd></dl>

<p>Above, the entity with name/key "openCmd.label", has been
 assigned the value "Open Web Location...". The entity value is what needs
 to be localized. Usually the entity name (e.g. "openCmd.label") is
 self-explanatory: this one is the label of the Open menu command.
 If this is not enough, the author of the file adds a comment for the
 localizer. Comments referring to a particular entity are placed right
 above the entity declaration as:

 <dl><dd>&lt;!-- LOCALIZATION NOTE (entity_name): comments --&gt;</dd></dl>

  <p>For example,</p>

 <dl><dd><a href="http://lxr.mozilla.org/mozilla/source/xpfe/browser/resources/locale/en-US/navigator.dtd">
8</a>&lt;!-- LOCALIZATION NOTE&nbsp; throbber.url: DONT_TRANSLATE --&gt;<br>
9&lt;!ENTITY throbber.url "http://www.mozilla.org"&gt;</dd></dl>

<p>Note that these documents are UTF-8 encoded. Hence, you'll either need a
 <a href="mlp_tools.html#texteditors">text editor</a> able to save the
 file in UTF-8 once modified, or you will be required to <a
 href="mlp_tools#other">convert</a> it back to UTF-8 after.
 If you skip this passage, you won't be able to correctly show
 characters different from the conventional ASCII ones ( <tt>a-z</tt> ,
 <tt>A-Z</tt> , <tt>0-9</tt> , <tt>!"#$%&amp;'()*+,-./</tt>
 <tt>:;&lt;=&gt;?@</tt> <tt>_`</tt> <tt>{|}~</tt> ), like diacritics or
 eastern scripts.</p>
<p>Also remember you can't directly use the <tt>&amp; &lt; &quot; %</tt>
 characters in your strings. Instead, substitute one of <a
 href="mlp_chrome.html#text">their predefined entities</a> inside the
 string.</p></li>

<li><p><a name="proFiles"></a>Property files <b>(*.properties)</b>
    &mdash; Text files <b>escaped Unicode</b> encoded.</p>
    
<p>As the name says, in these files a number of <a
 href="http://www.mozilla.org/projects/intl/string-resources.html">JavaScript properties</a>
 (think about them as variables) are assigned with a string value.
 String resources in property files appear in the form:</li>

 <dl><dd>property_name = <font color="green">Text Text Text</font></dd></dl>

<p>The string at the right side of the equal symbol is what needs to be
 localized. Again, localization notes and comments are often useful to
 explain what the string's usage in the UI is or a particular behavior
 the localizer should follow working on them:</p>
  
<dl><dd><font size="-1"><a href="http://lxr.mozilla.org/mozilla/source/xpinstall/res/locale/en-US/xpinstall.properties">25</a>
  #-----------------------------------------------------------<br>
 26 # LOCALIZATION NOTE InstallFile:...<br>
 27 #-----------------------------------------------------------<br>
 28 InstallFile=Installing: %s<br>
 29 ReplaceFile=Replacing: %s</font></dd></dl>

<p>As for the DTD files above, the same considerations apply about the
 file encoding. Mozilla will expect these files escaped Unicode
 encoded.<br>
 Remember to avoid the direct usage of backslash, single or double quotes
 in your strings. Use one of their <a href="mlp_chrome.html#text">substitutes</a>
 instead. Don't break these strings on multiple lines.</p>
<p>Many strings contains strange symbols like <tt>%s</tt> or <tt>$1%s</tt>.
 They will be substituted at runtime by relevant words. Place them in
 your strings as makes sense in the whole sentence, typing them exactly
 as found originally.</p>



<li><p>RDF data source files, <b>(*.rdf)</b>
 &mdash; Text files <b>UTF-8</b> encoded, if not otherwise specified.</p>

<p>These rdf files control locale-specific UI menu hierarchy declarations:
<ul>
<li><tt>communicator/taskbar.rdf</tt> &mdash; describes the Taskbar
 menu (not longer visible in mozilla.org recent builds).</li>
<li><tt>global/builtinURLs.rdf</tt> &mdash; describes the URLs associated
 to various menu items scattered across toplevel menus, such as "Help",
 "View|Set Language/Region &gt;".</li>
</ul></li>

</ol>



<p>Now let's see how to proceed with our work:</p>

<ol>
<li value="4"><p>The next step is of course localize the string contained
 throughout the numerous dtd and property files. Note that the
 <tt>global/</tt> folder and the files right below the
 <tt>communicator/</tt> one contain strings reused multiple times across
 the various applications.</p>
<p>Many command strings (especially menu items strings) have an
 associated "AccessKey" and "CommandKey", with the same name. The
 value assigned is a single letter.<br>
 AccessKeys are the main key string letter underlined in the UI, which
 will enable the activation of its associated function through an
 Alt+[letter] keypress. Accesskeys underline the relevant menu item
 letter in a case sensitive way.<br>
 CommandKeys, for the same menu action, enable a Ctrl/Cmd+[letter]
 key sequence, application wide.<br>
 Both AccessKeys and CommandKeys work with Latin (occidental) letters
 only.
</li>

<li><p><a name="platform"></a>The contents of en-mac.jar, en-unix.jar,
 and en-win.jar are operative system specific. They contain the common
 menu items (such as File, Undo, Redo..) and their keyboard shortcuts.
 They have to follow each system's conventions.</p></li>

<li><p>Archive back all your work inside new jar files. You can create
 them as conventional <a href="mlp_tools.html#others">zip</a> files,
 with a <tt>.jar</tt> extension. The jar files take
 <a href="mlp_chrome.html#XPI_jars">their names</a> from the locale code
 you've been <a href="mlp_howto.html#registration">registered</a>
 under.</p></li>

<li><p>Download from your
 <a href="http://ftp.mozilla.org/pub/mozilla/releases/">Mozilla
 release folder</a> the <tt><b>langenus.xpi</b></tt> installable package,
 inside <tt>WINDOWS-XPI/</tt> (right click on its name, and use Save
 target as...).</p>
<p>Unpack it using a <a href="mlp_tools.html#others">zip archiver
 utility</a>, modify the localizable fields in the
 <a href="mlp_chrome.html#XPI_script"><tt>install.js</tt></a> file,
 and use it as template for your own
 <a href="mlp_chrome.html#XPI">installable language pack</a>.</p></li>
</ol>


<table border=0 cellspacing=0 cellpadding=0 cols=1 width="100%" bgcolor="#FFFFCC" >
<tr><td><h3><a name="defaults"></a>Profile Defaults</h3></td></tr>
</table>

<p>Location: <tt>defaults/profile/</tt>[<a
   href="mlp_chrome.html#regionlocalecode">region-locale-code</a>]</p>

<p>Contains the user profile template files, copied as defaults during
 profile creation to a new profile folder:</p>
<ul>
  <li><tt>bookmarks.html</tt> -- default bookmarks.</li>
  <li><tt>localstore.rdf</tt> -- define default windows settings.</li>
  <li><tt>mimeTypes.rdf</tt> -- define recognized file mime types for the
      Helper Apps.</li>
  <li><tt>search.rdf</tt> -- define the default search engines.</li>
  <li><tt>panels.rdf</tt> -- define the default panels in the Sidebar.</li>
  <li><tt>chrome/userContent.css</tt> -- example of user defined default
       styles for HTML documents.</li>
  <li><tt>chrome/userChrome.css</tt> -- example of user defined default
       styles for user interface.</li>
</ul>





<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified August  2,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/l10n/mlp_what2.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
