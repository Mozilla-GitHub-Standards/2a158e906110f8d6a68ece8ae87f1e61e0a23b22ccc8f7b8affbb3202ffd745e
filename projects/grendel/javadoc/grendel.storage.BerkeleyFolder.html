
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

<TITLE>
  Class grendel.storage.BerkeleyFolder
</TITLE>
<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">
<!-- Automatically generated with polardoc Version 1.0.4 on Tue Sep 08 11:22:09 PDT 1998 -->
<!-- grendel.storage.BerkeleyFolder | Do not remove or edit this line! -->



<A NAME="_Top_"></A>
<PRE>
<A HREF="Packages.html">All Packages</A>  <A HREF="Package-grendel.storage.html">This Package</A>  <A HREF="Tree.html">Class Hierarchy</A>  <A HREF="Search.html">Class Search</A>  <A HREF="AllNames.html">Index</A>
</PRE>
<HR SIZE=1 ALIGN=left WIDTH="98%">
<H1>
     Class grendel.storage.BerkeleyFolder
</H1>
<PRE>
<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.Object.html#_Top_">java.lang.Object</A>
   |
   +----<A HREF="javax.mail.Folder.html#_Top_">javax.mail.Folder</A>
           |
           +----<A HREF="grendel.storage.FolderBase.html#_Top_">grendel.storage.FolderBase</A>
                   |
                   +----grendel.storage.BerkeleyFolder
</PRE>
<DL>
</DL>
<HR SIZE=1 ALIGN=left WIDTH="98%">
<A NAME="_Summary_"></A>
<PRE>
class  <STRONG>BerkeleyFolder</STRONG>
     extends grendel.storage.<A HREF="grendel.storage.FolderBase.html#_Top_">FolderBase</A>
     implements java.io.<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.FilenameFilter.html#_Top_">FilenameFilter</A>
{
          // Fields 13
     private static final String[] <A HREF="#DAYS">DAYS</A>;
     private static final String[] <A HREF="#MONTHS">MONTHS</A>;
     static DecimalFormat <A HREF="#TwoDigitNumFormat">TwoDigitNumFormat</A>;
     private Object <A HREF="#disk_lock_object">disk_lock_object</A>;
     File <A HREF="#fFile">fFile</A>;
     boolean <A HREF="#fLoaded">fLoaded</A>;
     private boolean <A HREF="#fLoading">fLoading</A>;
     private boolean <A HREF="#flags_dirty">flags_dirty</A>;
     MailSummaryFile <A HREF="#mailSummaryFile">mailSummaryFile</A>;
     Folder <A HREF="#parent">parent</A>;
     Thread <A HREF="#statusFlagsUpdateThread">statusFlagsUpdateThread</A>;
     private boolean <A HREF="#summary_dirty">summary_dirty</A>;
     private long <A HREF="#verify_file_tick">verify_file_tick</A>;

          // Constructors 3
     protected <A HREF="#BerkeleyFolder(grendel.storage.BerkeleyFolder, java.io.File)">BerkeleyFolder</A>(BerkeleyFolder, File);
     protected <A HREF="#BerkeleyFolder(grendel.storage.BerkeleyFolder, java.lang.String)">BerkeleyFolder</A>(BerkeleyFolder, String);
     <A HREF="#BerkeleyFolder(javax.mail.Store, java.io.File)">BerkeleyFolder</A>(Store, File);

          // Methods 43
     protected String <A HREF="#TwoDigitNum(int)">TwoDigitNum</A>(int);
     public boolean <A HREF="#accept(java.io.File, java.lang.String)">accept</A>(File, String);
     void <A HREF="#addMessage(javax.mail.Message)">addMessage</A>(Message) throws IOException, MessagingException;
     public void <A HREF="#appendMessages(javax.mail.Message[])">appendMessages</A>(Message[]) throws MessagingException;
     public void <A HREF="#close(boolean)">close</A>(boolean) throws MessagingException;
     private InternetHeaders <A HREF="#copyMessageBytes(javax.mail.Message, java.io.InputStream, java.io.RandomAccessFile)">copyMessageBytes</A>(Message, InputStream, RandomAccessFile) throws IOException;
     public boolean <A HREF="#create(int)">create</A>(int);
     public boolean <A HREF="#delete(boolean)">delete</A>(boolean);
     long <A HREF="#deletedMessageBytes()">deletedMessageBytes</A>();
     void <A HREF="#ensureLoaded()">ensureLoaded</A>();
     protected void <A HREF="#ensureSummaryFileHeaderParsed()">ensureSummaryFileHeaderParsed</A>();
     public boolean <A HREF="#exists()">exists</A>();
     public Message[] <A HREF="#expunge()">expunge</A>() throws MessagingException;
     public void <A HREF="#fetch(javax.mail.Message[], javax.mail.FetchProfile)">fetch</A>(Message[], FetchProfile);
     synchronized void <A HREF="#flushMozillaStatus()">flushMozillaStatus</A>() throws IOException;
     File <A HREF="#getFile()">getFile</A>();
     public Folder <A HREF="#getFolder(java.lang.String)">getFolder</A>(String);
     public String <A HREF="#getFullName()">getFullName</A>();
     public int <A HREF="#getMessageCount()">getMessageCount</A>();
     public String <A HREF="#getName()">getName</A>();
     public Folder <A HREF="#getParent()">getParent</A>();
     public char <A HREF="#getSeparator()">getSeparator</A>();
     public int <A HREF="#getType()">getType</A>();
     public int <A HREF="#getUndeletedMessageCount()">getUndeletedMessageCount</A>();
     public int <A HREF="#getUnreadMessageCount()">getUnreadMessageCount</A>();
     public boolean <A HREF="#hasNewMessages()">hasNewMessages</A>();
     public boolean <A HREF="#isOpen()">isOpen</A>();
     public Folder[] <A HREF="#list(java.lang.String)">list</A>(String);
     private synchronized void <A HREF="#loadMessages()">loadMessages</A>();
     void <A HREF="#lockFolderFile()">lockFolderFile</A>();
     protected void <A HREF="#makeDummyEnvelope(calypso.util.ByteBuf)">makeDummyEnvelope</A>(ByteBuf);
     public void <A HREF="#open(int)">open</A>(int);
     protected synchronized Message[] <A HREF="#realExpunge()">realExpunge</A>() throws IOException;
     public boolean <A HREF="#renameTo(javax.mail.Folder)">renameTo</A>(Folder);
     void <A HREF="#setFlagsDirty(boolean, javax.mail.Message, long)">setFlagsDirty</A>(boolean, Message, long);
     void <A HREF="#setSummaryDirty(boolean)">setSummaryDirty</A>(boolean);
     File <A HREF="#summaryFileName()">summaryFileName</A>();
     File <A HREF="#tempFolderName()">tempFolderName</A>();
     void <A HREF="#unlockFolderFile()">unlockFolderFile</A>();
     protected void <A HREF="#updateSummaryFile()">updateSummaryFile</A>();
     protected void <A HREF="#updateSummaryMessageCounts(long, long, int)">updateSummaryMessageCounts</A>(long, long, int);
     protected boolean <A HREF="#verifyFileDate(boolean)">verifyFileDate</A>(boolean);
     synchronized void <A HREF="#writeSummaryFile()">writeSummaryFile</A>() throws IOException;
}
</PRE>
<P>
<HR SIZE=1 ALIGN=left WIDTH="98%">
<CENTER><BR><H2>Fields</H2></CENTER>
<BR><H3> <A NAME="fFile"><FONT COLOR="#FF00FF">&#149;</FONT> fFile</A></H3>
<PRE>
   <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.File.html#_Top_">File</A> fFile
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="parent"><FONT COLOR="#FF00FF">&#149;</FONT> parent</A></H3>
<PRE>
   <A HREF="javax.mail.Folder.html#_Top_">Folder</A> parent
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="fLoaded"><FONT COLOR="#FF00FF">&#149;</FONT> fLoaded</A></H3>
<PRE>
   boolean fLoaded
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="fLoading"><FONT COLOR="#FF00FF">&#149;</FONT> fLoading</A></H3>
<PRE>
   private boolean fLoading
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="summary_dirty"><FONT COLOR="#FF00FF">&#149;</FONT> summary_dirty</A></H3>
<PRE>
   private boolean summary_dirty
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="flags_dirty"><FONT COLOR="#FF00FF">&#149;</FONT> flags_dirty</A></H3>
<PRE>
   private boolean flags_dirty
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="mailSummaryFile"><FONT COLOR="#FF00FF">&#149;</FONT> mailSummaryFile</A></H3>
<PRE>
   <A HREF="grendel.storage.MailSummaryFile.html#_Top_">MailSummaryFile</A> mailSummaryFile
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="statusFlagsUpdateThread"><FONT COLOR="#FF00FF">&#149;</FONT> statusFlagsUpdateThread</A></H3>
<PRE>
   <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.Thread.html#_Top_">Thread</A> statusFlagsUpdateThread
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="verify_file_tick"><FONT COLOR="#FF00FF">&#149;</FONT> verify_file_tick</A></H3>
<PRE>
   private long verify_file_tick
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="disk_lock_object"><FONT COLOR="#FF00FF">&#149;</FONT> disk_lock_object</A></H3>
<PRE>
   private <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.Object.html#_Top_">Object</A> disk_lock_object
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="MONTHS"><FONT COLOR="#0000FF">&#149;</FONT> MONTHS</A></H3>
<PRE>
   private static final <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A>[] MONTHS
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="DAYS"><FONT COLOR="#0000FF">&#149;</FONT> DAYS</A></H3>
<PRE>
   private static final <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A>[] DAYS
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="TwoDigitNumFormat"><FONT COLOR="#0000FF">&#149;</FONT> TwoDigitNumFormat</A></H3>
<PRE>
   static <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.text.DecimalFormat.html#_Top_">DecimalFormat</A> TwoDigitNumFormat
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<P>
<HR SIZE=1 ALIGN=left WIDTH="98%">

<CENTER><BR><H2>Constructors</H2></CENTER>
<BR><H3><A NAME="BerkeleyFolder"><FONT COLOR="#FFCC00">&#149;</FONT></A>
<A NAME="BerkeleyFolder(javax.mail.Store, java.io.File)">BerkeleyFolder</A> </H3>
<PRE>
   BerkeleyFolder(<A HREF="javax.mail.Store.html#_Top_">Store</A> s, 
                  <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.File.html#_Top_">File</A> f) </PRE>
<BLOCKQUOTE>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="BerkeleyFolder"><FONT COLOR="#FFCC00">&#149;</FONT></A>
<A NAME="BerkeleyFolder(grendel.storage.BerkeleyFolder, java.lang.String)">BerkeleyFolder</A> </H3>
<PRE>
   protected BerkeleyFolder(<A HREF="grendel.storage.BerkeleyFolder.html#_Top_">BerkeleyFolder</A> parent, 
                            <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A> name) </PRE>
<BLOCKQUOTE>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="BerkeleyFolder"><FONT COLOR="#FFCC00">&#149;</FONT></A>
<A NAME="BerkeleyFolder(grendel.storage.BerkeleyFolder, java.io.File)">BerkeleyFolder</A> </H3>
<PRE>
   protected BerkeleyFolder(<A HREF="grendel.storage.BerkeleyFolder.html#_Top_">BerkeleyFolder</A> parent, 
                            <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.File.html#_Top_">File</A> f) </PRE>
<BLOCKQUOTE>
</BLOCKQUOTE> <BR>

<HR SIZE=1 ALIGN=left WIDTH="98%">

<CENTER><BR><H2>Methods</H2></CENTER>
<BR><H3><A NAME="getSeparator"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getSeparator()">getSeparator</A> </H3>
<PRE>
   public char getSeparator() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#getSeparator()">getSeparator</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getType"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getType()">getType</A> </H3>
<PRE>
   public int getType() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#getType()">getType</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getFile"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getFile()">getFile</A> </H3>
<PRE>
   <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.File.html#_Top_">File</A> getFile() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns the file name associated with this folder.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getName"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getName()">getName</A> </H3>
<PRE>
   public <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A> getName() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#getName()">getName</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getFullName"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getFullName()">getFullName</A> </H3>
<PRE>
   public <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A> getFullName() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#getFullName()">getFullName</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getParent"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getParent()">getParent</A> </H3>
<PRE>
   public <A HREF="javax.mail.Folder.html#_Top_">Folder</A> getParent() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#getParent()">getParent</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="accept"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="accept(java.io.File, java.lang.String)">accept</A> </H3>
<PRE>
   public boolean accept(<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.File.html#_Top_">File</A> f, 
                         <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A> name) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Implements:</B>
<DD><A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.FilenameFilter.html#accept(java.io.File, java.lang.String)">accept</A> in interface <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.FilenameFilter.html#_Top_">FilenameFilter</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="list"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="list(java.lang.String)">list</A> </H3>
<PRE>
   public <A HREF="javax.mail.Folder.html#_Top_">Folder</A>[] list(<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A> pattern) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#list(java.lang.String)">list</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getFolder"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getFolder(java.lang.String)">getFolder</A> </H3>
<PRE>
   public <A HREF="javax.mail.Folder.html#_Top_">Folder</A> getFolder(<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A> subfolder) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#getFolder(java.lang.String)">getFolder</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="create"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="create(int)">create</A> </H3>
<PRE>
   public boolean create(int type) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#create(int)">create</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="exists"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="exists()">exists</A> </H3>
<PRE>
   public boolean exists() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#exists()">exists</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="hasNewMessages"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="hasNewMessages()">hasNewMessages</A> </H3>
<PRE>
   public boolean hasNewMessages() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#hasNewMessages()">hasNewMessages</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getMessageCount"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getMessageCount()">getMessageCount</A> </H3>
<PRE>
   public int getMessageCount() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns the total number of messages in the folder, or -1 if unknown.
      This includes deleted and unread messages.
<P>
<DT><B>Overrides:</B>
<DD><A HREF="grendel.storage.FolderBase.html#getMessageCount()">getMessageCount</A> in class <A HREF="grendel.storage.FolderBase.html#_Top_">FolderBase</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getUndeletedMessageCount"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getUndeletedMessageCount()">getUndeletedMessageCount</A> </H3>
<PRE>
   public int getUndeletedMessageCount() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns the number of non-deleted messages in the folder, or -1 if
      unknown.  This includes unread messages.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="getUnreadMessageCount"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="getUnreadMessageCount()">getUnreadMessageCount</A> </H3>
<PRE>
   public int getUnreadMessageCount() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns the number of unread messages in the folder, or -1 if unknown.
      This does not include unread messages that are also deleted.
<P>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#getUnreadMessageCount()">getUnreadMessageCount</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="deletedMessageBytes"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="deletedMessageBytes()">deletedMessageBytes</A> </H3>
<PRE>
   long deletedMessageBytes() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns the number of bytes consumed by deleted but not expunged
      messages in the folder, or -1 if unknown.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="ensureLoaded"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="ensureLoaded()">ensureLoaded</A> </H3>
<PRE>
   void ensureLoaded() </PRE>
<BLOCKQUOTE>
<DL>
<P>
If the messages are not known, parse the underlying files.
      If the folder file has changed on disk since it was parsed,
      re-parse it (replacing the existing message objects with new
      ones.)
<P>
<DT><B>Overrides:</B>
<DD><A HREF="grendel.storage.FolderBase.html#ensureLoaded()">ensureLoaded</A> in class <A HREF="grendel.storage.FolderBase.html#_Top_">FolderBase</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="loadMessages"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="loadMessages()">loadMessages</A> </H3>
<PRE>
   private synchronized void loadMessages() </PRE>
<BLOCKQUOTE>
<DL>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="setSummaryDirty"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="setSummaryDirty(boolean)">setSummaryDirty</A> </H3>
<PRE>
   void setSummaryDirty(boolean summary_dirty) </PRE>
<BLOCKQUOTE>
<DL>
<P>
Assert whether the folder's summary file should be regenerated.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="setFlagsDirty"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="setFlagsDirty(boolean, javax.mail.Message, long)">setFlagsDirty</A> </H3>
<PRE>
   void setFlagsDirty(boolean flags_dirty, 
                      <A HREF="javax.mail.Message.html#_Top_">Message</A> message, 
                      long old_flags) </PRE>
<BLOCKQUOTE>
<DL>
<P>
Assert whether any messages have the FLAGS_DIRTY bit set in them.
      A child message should call this on its parent when any persistent
      flag value is changed.  If a non-null message is provided, and
      flags_dirty is true, then notify any observers that this message
      has changed.
<P>
<TABLE WIDTH="87%" BORDER=1 CELLPADDING=3 CELLSPACING=0> <TR VALIGN=TOP BGCOLOR="#EFEFEF"> <TD><B>Parameter</B></TD> <TD><B>Description</B></TD> </TR>
<TR VALIGN=TOP> <TD><I> flags_dirty</I></TD> <TD>Whether the flags should currently be considered
                          to be dirty.</TD></TR>
<TR VALIGN=TOP> <TD><I> message</I></TD> <TD>If flags_dirty, the Message (BerkeleyMessage) that
                          has become dirty.</TD></TR>
<TR VALIGN=TOP> <TD><I> old_flags</I></TD> <TD>If message is non-null, the previous value of its
                          flags (Message.flags should be the new, dirty value.)</TD></TR>
</TABLE><P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="updateSummaryMessageCounts"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="updateSummaryMessageCounts(long, long, int)">updateSummaryMessageCounts</A> </H3>
<PRE>
   protected void updateSummaryMessageCounts(long old_flags, 
                                             long new_flags, 
                                             int msglen) </PRE>
<BLOCKQUOTE>
<DL>
<P>
If the deleted-ness or read-ness of a message has changed, flush
      the new counts down into the summary object.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="ensureSummaryFileHeaderParsed"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="ensureSummaryFileHeaderParsed()">ensureSummaryFileHeaderParsed</A> </H3>
<PRE>
   protected void ensureSummaryFileHeaderParsed() </PRE>
<BLOCKQUOTE>
<DL>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="verifyFileDate"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="verifyFileDate(boolean)">verifyFileDate</A> </H3>
<PRE>
   protected boolean verifyFileDate(boolean force) </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns false if the disk file has changed unexpectedly.
<P>
<TABLE WIDTH="87%" BORDER=1 CELLPADDING=3 CELLSPACING=0> <TR VALIGN=TOP BGCOLOR="#EFEFEF"> <TD><B>Parameter</B></TD> <TD><B>Description</B></TD> </TR>
<TR VALIGN=TOP> <TD><I> force</I></TD> <TD>If true, guarentee that the disk will be checked, and
                     the returned value will be accurate.  If false, the
                     disk will not be checked more frequently than once
                     a second, so true might be returned without verification.

                     <P> That is, if `force' is false, and this method returns
                     true, the disk might or might not be in sync.  However,
                     regardless of the value of `force', if false is returned,
                     the disk is definitely out of sync.</TD></TR>
</TABLE><P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="updateSummaryFile"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="updateSummaryFile()">updateSummaryFile</A> </H3>
<PRE>
   protected void updateSummaryFile() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Call this to inform the summary file module that the folder file
      has just been modified.  (The code managing the summary file may wish
      to act on this information in some way.  With our current summary file
      format, failing to so notice it will cause the folder to be re-parsed
      the next time, since we won't be able to tell the difference between
      some *other* program modifying the file instead of us.)

      <P> Call this with the folder file still locked, to avoid a potential
      race.
<P>
</DL>
<P> <B>See Also:</B>
<A HREF="grendel.storage.MailSummaryFile.html">MailSummaryFile</A>, <A HREF="grendel.storage.MailSummaryFileGrendel.html">MailSummaryFileGrendel</A></BLOCKQUOTE> <BR>

<BR><H3><A NAME="summaryFileName"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="summaryFileName()">summaryFileName</A> </H3>
<PRE>
   <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.File.html#_Top_">File</A> summaryFileName() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns the name of the mail summary file used for this folder.
      This name is OS-dependent; it is assumed that the data within the
      file will contain versioning information.
      <P>
      On all systems, the summary file resides in the same directory
      as the folder file.
      <P>
      On Unix, the summary file for <TT>FOO</TT> would be
      <TT>.FOO.summary</TT> (note leading dot.)
      <P>
      On Windows and Mac, the summary file for <TT>FOO.MBX</TT> would be
      <TT>FOO.SNM</TT>.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="tempFolderName"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="tempFolderName()">tempFolderName</A> </H3>
<PRE>
   <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.File.html#_Top_">File</A> tempFolderName() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns the name of a non-existent file that can be used as a temporary
      file for this folder.  This name is OS-dependent.
      <P>
      On all systems, the summary file resides in the same directory
      as the folder file, and has the same "base" name.
      <P>
      On Unix, the summary file for <TT>FOO</TT> would be
      <TT>.FOO.ns_tmp</TT> (note leading dot.)
      <P>
      On Windows and Mac, the summary file for <TT>FOO.MBX</TT> would be
      <TT>FOO.TMP</TT>.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="writeSummaryFile"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="writeSummaryFile()">writeSummaryFile</A> </H3>
<PRE>
   synchronized void writeSummaryFile()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Write a summary file for this folder.
<P>
</DL>
<P> <B>See Also:</B>
<A HREF="grendel.storage.MailSummaryFile.html">MailSummaryFile</A>, <A HREF="grendel.storage.MailSummaryFileGrendel.html">MailSummaryFileGrendel</A></BLOCKQUOTE> <BR>

<BR><H3><A NAME="flushMozillaStatus"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="flushMozillaStatus()">flushMozillaStatus</A> </H3>
<PRE>
   synchronized void flushMozillaStatus()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
This causes the X-Mozilla-Status headers in the folder file itself
      to be updated.  (Not to be confused with the summary file: this
      modifies the <I>folder</I>.)  If a changed message's bits in the
      file include an X-Mozilla-Status header, it will be overwritten
      (random-access.)  If the header is not present, the message will be
      unchanged (and in that situation, the flags will only live in the
      summary file, not the folder itself; and if the summary file gets
      blown away, the flags will be lost.  That's why we try to have an
      X-Mozilla-Status header on every message.)
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="appendMessages"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="appendMessages(javax.mail.Message[])">appendMessages</A> </H3>
<PRE>
   public void appendMessages(<A HREF="javax.mail.Message.html#_Top_">Message</A>[] msgs)  throws <A HREF="javax.mail.MessagingException.html#_Top_">MessagingException</A></PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#appendMessages(javax.mail.Message[])">appendMessages</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="addMessage"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="addMessage(javax.mail.Message)">addMessage</A> </H3>
<PRE>
   void addMessage(<A HREF="javax.mail.Message.html#_Top_">Message</A> m)  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A>, <A HREF="javax.mail.MessagingException.html#_Top_">MessagingException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Add a message to the end of this folder.
      The disk file will be updated.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="fetch"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="fetch(javax.mail.Message[], javax.mail.FetchProfile)">fetch</A> </H3>
<PRE>
   public void fetch(<A HREF="javax.mail.Message.html#_Top_">Message</A>[] msgs, 
                     <A HREF="javax.mail.FetchProfile.html#_Top_">FetchProfile</A> fp) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#fetch(javax.mail.Message[], javax.mail.FetchProfile)">fetch</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="expunge"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="expunge()">expunge</A> </H3>
<PRE>
   public <A HREF="javax.mail.Message.html#_Top_">Message</A>[] expunge()  throws <A HREF="javax.mail.MessagingException.html#_Top_">MessagingException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Remove all messages that are marked as deleted from the folder's file.
      This is done by writing a new file, then renaming it.
<P>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#expunge()">expunge</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="realExpunge"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="realExpunge()">realExpunge</A> </H3>
<PRE>
   protected synchronized <A HREF="javax.mail.Message.html#_Top_">Message</A>[] realExpunge()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="copyMessageBytes"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="copyMessageBytes(javax.mail.Message, java.io.InputStream, java.io.RandomAccessFile)">copyMessageBytes</A> </H3>
<PRE>
   private <A HREF="javax.mail.internet.InternetHeaders.html#_Top_">InternetHeaders</A> copyMessageBytes(<A HREF="javax.mail.Message.html#_Top_">Message</A> m, 
                                            <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.InputStream.html#_Top_">InputStream</A> in, 
                                            <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.RandomAccessFile.html#_Top_">RandomAccessFile</A> out)  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="lockFolderFile"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="lockFolderFile()">lockFolderFile</A> </H3>
<PRE>
   void lockFolderFile() </PRE>
<BLOCKQUOTE>
<DL>
<P>
On those systems which support locking of disk files, this causes
      a lock to be acquired on the file associated with this folder.
      It is imperative that a balanced unlockFolderFile() call be made:
      be sure to only use this within try/finally.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="unlockFolderFile"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="unlockFolderFile()">unlockFolderFile</A> </H3>
<PRE>
   void unlockFolderFile() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Releases the lock obtained by lockFolderFile().
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="TwoDigitNum"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="TwoDigitNum(int)">TwoDigitNum</A> </H3>
<PRE>
   protected <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.String.html#_Top_">String</A> TwoDigitNum(int num) </PRE>
<BLOCKQUOTE>
<DL>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="makeDummyEnvelope"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="makeDummyEnvelope(calypso.util.ByteBuf)">makeDummyEnvelope</A> </H3>
<PRE>
   protected void makeDummyEnvelope(<A HREF="calypso.util.ByteBuf.html#_Top_">ByteBuf</A> buf) </PRE>
<BLOCKQUOTE>
<DL>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="delete"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="delete(boolean)">delete</A> </H3>
<PRE>
   public boolean delete(boolean value) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#delete(boolean)">delete</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="renameTo"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="renameTo(javax.mail.Folder)">renameTo</A> </H3>
<PRE>
   public boolean renameTo(<A HREF="javax.mail.Folder.html#_Top_">Folder</A> f) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#renameTo(javax.mail.Folder)">renameTo</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="open"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="open(int)">open</A> </H3>
<PRE>
   public void open(int mode) </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#open(int)">open</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="close"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="close(boolean)">close</A> </H3>
<PRE>
   public void close(boolean doExpunge)  throws <A HREF="javax.mail.MessagingException.html#_Top_">MessagingException</A></PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#close(boolean)">close</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="isOpen"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="isOpen()">isOpen</A> </H3>
<PRE>
   public boolean isOpen() </PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="javax.mail.Folder.html#isOpen()">isOpen</A> in class <A HREF="javax.mail.Folder.html#_Top_">Folder</A>
</DL>
</BLOCKQUOTE> <BR>

<HR SIZE=1 ALIGN=left WIDTH="98%">

<PRE>
<A HREF="Packages.html">All Packages</A>  <A HREF="Package-grendel.storage.html">This Package</A>  <A HREF="Tree.html">Class Hierarchy</A>  <A HREF="Search.html">Class Search</A>  <A HREF="AllNames.html">Index</A>
</PRE>
<FONT SIZE=-1>
<I>Freshly brewed Java API Documentation automatically generated with <A HREF="http://www.ualberta.ca/~tgee/polardoc">polardoc</A> Version 1.0.4
<BR>
</I></FONT>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified December 25,  1998</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/grendel/javadoc/grendel.storage.BerkeleyFolder.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
