
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">
<TITLE>message filtering</TITLE><script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">



<BR><UL>
<TABLE CELLPADDING=0 CELLSPACING=0 BORDER=0>
<TR><TH VALIGN=BASELINE ALIGN=RIGHT>Date: </TH><TD>Sat, 16 May 1998 10:20:37 -0700</TD></TR><P>
<TR><TH VALIGN=BASELINE ALIGN=RIGHT>From: </TH><TD>Jamie Zawinski &lt;<A HREF="mailto:jwz@mozilla.org">jwz@mozilla.org</A>&gt;</TD></TR><P>
<TR><TH VALIGN=BASELINE ALIGN=RIGHT>Newsgroups: </TH><TD><A HREF="../../community.html">netscape.public.mozilla.mail-news</A></TD></TR><P>
<TR><TH VALIGN=BASELINE ALIGN=RIGHT>Subject: </TH><TD>mail filtering and kill files</TD></TR><P>
<TR><TH VALIGN=BASELINE ALIGN=RIGHT>Message-ID: </TH><TD><A HREF="news://news.mozilla.org/355DCAE5.3F586E3D@netscape.com">&lt;355DCAE5.3F586E3D@netscape.com&gt;</A></TD></TR><P>
</TABLE>
</UL>


<P>So I believe there are two kinds of filters that are useful: those that
control the routing (initial physical location) of newly-arrived messages;
and those that control presentation of sets of messages (kill files being the
simple case of, ``don't present these messages.'')

<P>Here's part of a thread some of us had about this quite some time ago.
This conversation wasn't in the context of Netscape Messenger, so some of the
terminology below might not quite fit, but this should explain what I think
about the two types of filters.

<P><HR>Terry Weissman wrote:
<UL>

  <P>We have been using the term "filter" to mean two entirely different
  things.  Many people don't realize it.

  <P>I want to make it clear that they are different things, so that we can be
  talk about each of them.  I want to give each of them a unique name.

  <P>The two kinds of filters differ on when they're executed, and what they
  do:

  <P><UL>

    <P><LI> Filters that happen at some time (get new mail, user manually fires
    over a range of messages) that affect stored message properties.  These
    filters do things to the message, like

    <P><UL>

     <LI>Move messages to another folder
     <LI>Delete message
     <LI>Change message priority
     <LI>Automatically generate reply or forward
    </UL>

    <P><LI> Filters that compute some dynamic property on the message.  These
    filters are usually executed when computing a view to display.  They don't
    change anything at all about the message itself.  Some example of dynamic
    properties computed might be

    <P><UL>
     <LI>Should we include this message in the current view at all?
     <LI>Determine "score" to base sorting on
     <LI>What color should we use to display the thread line for this message
    </UL>
  </UL>

</UL><P><HR>Terry Weissman wrote:
<UL>

  <BLOCKQUOTE><P>
    <I>Ok, what is the difference between automatically moving messages or
    generating a reply or forwarding without user intervention from an agent?
  </I></BLOCKQUOTE>

   <P>It's just a matter of your perception.  I don't think of an agent as
   something that only wakes up when I do a particular operatoin (getting new
   mail).  Of course, getting new mail itself is probably going to
   (optionally) start happening automatically, and I guess that makes the
   whole thing more agent-like.

</UL><P><HR>Jamie Zawinski wrote:
<UL>

  <P>I don't think it's just perception.  One type of filter actually
  modifies the message (or the place where the message is stored.)
  The other type controls how a set of messages are displayed, or
  displayed relative to each other.

  <P>Put another way, one alters intrinsic properties, and the other alters
  (actually, <I>generates</I>) extrinsic, or derived, properties.

  <P>I like the terms ``Incorporation Filters'' and ``Display Filters''.

  <P>Examples of Incorporation Filters:

  <P><UL>

      <LI>if From contains "@netscape.com", move to folder "work".
      <LI>if Received contains "205.199.212.", move to folder "spammers".
      <LI>if To contains "all@netscape.com", move to Trash.

  </UL>

  <P>Examples of Display Filters:

  <P><UL>

      <LI>if From contains "loser@some.host", omit it from the list.
      <LI>if From contains "winner@some.host", increase score so that
	it moves closer to the top of the displayed list.
      <LI>if Subject contains "foo", decrease its score.
      <LI>if size 100k, decrease its score a lot.
      <LI>if priority = 3, display it in red.

  </UL>

  <P>Incorporation Filters would be associated with a particular maildrop:
  with a particular POP3 server, or with an IMAP inbox (as distinguished
  from what we call the Inbox folder today.)  They would be associated
  with the ``Get Mail'' action (even in cases where that action is an
  implicit background operation.)

  <P>Display Filters would be associated with a particular view, or with a
  particular folder (or with all views/folders.)

  <P>I think these are disjoint sets; I don't think it makes sense for folder
  rules to have ``move to'' operations, and I don't think it makes sense for
  maildrop rules to have ``omit'' or ``score'' operations.

  <P>(I believe Eudora's two kinds of filters, ``automatic'' and ``manual'',
  are both Incorporation Filters; they both alter the messages, the difference
  being whether the alteration occurs as a result of Get Mail or whether it is
  triggered by explicit user action.)

</UL><P><HR>Terry Weissman wrote:
<UL>

<P>
<UL><I>I like the terms "Incorporation Filters" and "Display Filters".</I></UL>

<P>Jamie is right-on about all of this, and I like his names, except for:

<UL>

  <P><LI>``Incorporation Filters'' can do more than just move to a folder.
  For example, they can tweak the message (change its priority, for example),
  and they can cause e-mail to be sent (though we can have a separate big
  discussion about why this is a really scary idea).

  <P><LI>``Incorporation Filters'' need to be able to be run manually, too.
  (This is a big 4.0 feature request; I think it will probably be done in
  5.0.)  I guess the name is still workable, but this is a bit confusing.
</UL>
</UL>

</UL><P><HR>Jamie Zawinski wrote:
<UL>

  <P><UL><I>``Incorporation Filters'' can do more than just move to a folder.
   </I></UL>

  <P>Perhaps, but even so, they're still run at incorporation-time rather
  than view-time.

  <P><UL><I>For example, they can tweak the message (change its priority, for
     example),
   </I></UL>

  <P>First, is there another ``for example'' in there?  Because I think that
  ``priority'' is the only example, and further, I think (now) that changing
  the intrinsic priority header is the wrong approach.

  <P>Second, the reason that people want to change the priority header is
  that they want absolute control over the priority of their messages: just
  because one of my correspondents says a message is important doesn't mean
  that <I>I</I> think it's important, and my mailbox viewer is in <I>my</I>
  service, not theirs.

  <P>So, my take is, the way to handle this is to let the priority header in
  the message itself (in the disk file) be whatever the sender set it to.
  But, express my preference for believing, ignoring, or otherwise altering
  the priority at <I>display</I> time rather than <I>incorporation</I> time.

  <P>The end result to the user is the same; but by eliminating the need for
  incorporation filters to do things other than pick destinations, we
  simplify the distinction between the two.

  <P>It's easy to explain that <I>score</I> is the property that controls the
  ordering of messages in the list, and Priority is a header of the message,
  just like Subject, that may be used to influence the score.  I think that
  special-casing Priority in some way would be...  complicated.

  <P><UL><I>
    ``Incorporation Filters'' can do more than just move to a folder.
     [...] they can cause e-mail to be sent (though we can have a
     separate big discussion about why this is a really scary idea).
  </I></UL>

  <P>One can still look at this as a ``destination.''  Rather than the
  destination being a folder, the destination is a command of some kind.

  <P><UL><I>
   ``Incorporation Filters'' need to be able to be run manually, too.
     (This is a big 4.0 feature request; I think it will probably be
     done in 5.0.)  I guess the name is still workable, but this is a
     bit confusing.
  </I></UL>

  <P>This is the Eudora thing.  Maybe the name doesn't quite fit, but I think
  the concept fits fine...  And the name is probably close enough.

  <P>I think of this ``manual filters'' thing as a way of <I>debugging</I> the
  filters.  Is it something else?

</UL><P><HR>Terry Weissman wrote:
<UL>

   <P><UL><I>I think of this ``manual filters'' thing as a way of
   debugging the filters.  Is it something else?</I></UL>

  <P>Well, the debugging is an important case.

  <P>After I get tired of having Xena mail clutter my Inbox, and I make an
  incorporation filter to cause all Xena mail to get shuffled off into its
  own Xena folder, the very next thing I want to do is run it over my entire
  Inbox, to clean all the junk that has already accumulated.

  <P>I could imagine a filter that says ``if this message is more than a week
  old put it in my `archive' folder.''  And then I manually run this filter
  every so often to clean up.  (Or I run it automatically from my calendar;
  whee!)

</UL><P><HR>Jamie Zawinski wrote:
<UL>

  <P>Those are all good things.  But here's another idea...

  <P>What if, instead of this idea of ``running filters manually'', we had the
  idea of transforming filters to and from search results?

  <P>So, I want to add a new filter for my Xena mail.  First, I do a
  cross-folder search for ``Return-Path contains xena'' and see what comes
  up.

  <P>Then, bonk the ``turn this search result into an incorporation filter''
  button.  (Or drag the icon over to the inc-filter-drop-pocket or
  something.)

  <P>Then (here's the manual filter part), I select all of the messages and
  drag them into the ``xena'' folder.  (Assuming that drag means ``move'' and
  not ``copy''.)

  <P>And it can go the other way, <NOBR>too --</NOBR> I can take an
  inc-filter and say ``show me all messages that would be affected by this
  filter.''  Which really means, ``take the contents of this inc-filter and
  compose a search-term out of it.''

  <P>I don't necessarily think that the idea of ``run a filter manually'' is a
  bad thing, but I wonder if building it up, as a composite command, from
  searching and refiling, might be more appropriate or easier to
  understand.

  <P>In Eudora, people have filters marked as ``manual only''.  In Grendel,
  these might merely be ``saved queries'' on which one can easily perform a
  ``refile'' command (among any number of other commands.)

  <P>(Note: when I talk about ``search results'' I mean the concept of
  doing a search and seeing a ``virtual folder'' that contains the messages
  which matched the search.  A ``search term'' would be the thing from which
  one was able to construct search results.)

</UL>

<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified September  8,  1998</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/grendel/filters.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
