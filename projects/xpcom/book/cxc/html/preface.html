<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 6.0.5">
<meta name="TEMPLATEBASE" content="Portable HTML Professional Edition">
<meta name="LASTUPDATED" content="07/02/03 09:55:38">
<title>Preface</title>
</head>

<body link="#3366CC" vlink="#9999CC" text="#000000" alink="#0000CC" bgcolor="#FFFFFF">

<table width="331" border="0" align="right" cellpadding="0" cellspacing="0">
  <tr>
    <td><a href="newbookTOC.html"><img src="images/navtoc.gif" width="84" height="23"
    border="0" alt="TOC"> </a></td>
    <td><a href="newbookTOC.html"><img src="images/navprev.gif" width="81" height="23"
    border="0" alt="PREV"> </a></td>
    <td><a href="quicktour2.html"><img src="images/navnext.gif" width="81" height="23"
    border="0" alt="NEXT"> </a></td>
    <td><a href="newbookIX.html"><img src="images/navidx.gif" width="85" height="23"
    border="0" alt="INDEX"> </a></td>
  </tr>
</table>

<p><img src="images/xpcom.gif"></p>
<hr align="left">

<blockquote>
<h1>
  <a name="1001385"> </a><font color="#003366"  face="Verdana, Arial, Helvetica, sans-serif">Preface</font>
</h1><hr>

<ul>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001389"> </a><a href="preface.html#998252">"Who Should Read This Book"</a></font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001337"> </a><a href="preface.html#998282">"Organization of the Tutorial"</a></font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001338"> </a><a href="preface.html#998256">"Following Along with the Examples"</a></font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001555"> </a><a href="preface.html#998482">"Conventions"</a></font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001896"> </a><a href="preface.html#1001857">"Acknowledgements"</a></font>
</ul>

<p>
  <a name="1001544"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">This is a book about Gecko, and about creating XPCOM components for Gecko-based applications.  Though the emphasis is on the practical steps you take to make your C++ code into a component that can be used in Gecko, we hope that these steps will also give us an occasion to discuss all of the tools, techniques, and technologies that make up XPCOM. Accordingly, the book is arranged so that you can follow along and create your own components or learn about different XPCOM topics individually, as in a reference work. For example, the introduction includes a discussion of components and what they are, and the first chapter-in which you compile the basic code and register it with Mozilla-prompts a discussion of the relationship between components and modules, of XPCOM interfaces, and of the registration process in general. </font>
</p>


<p>
  <a name="999678"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">The top of each chapter provides a list of the major topics covered. Sidebar sections are included to highlight technical details. By the end of the book, if we've done our job, you will have leaned how to build a component and you will know something about the framework for these components in Gecko, which is XPCOM.</font>
</p>


<h2>
  <a name="998252"> </a><font color="#003366"  face="Verdana, Arial, Helvetica, sans-serif">Who Should Read This Book</font>
</h2>


<p>
  <a name="1001425"> </a><font  face="Verdana, Arial, Helvetica, sans-serif"><font  face="Verdana, Arial, Helvetica, sans-serif"><i>Creating XPCOM Components</i></font> is meant for C++ developers. Though you can create XPCOM components in JavaScript and other languages, and though you might be able to follow along as a C programmer, the component implementation code is written in C++, and much of the discussion of how to make your code <font  face="Verdana, Arial, Helvetica, sans-serif"><i>into</i></font> an XPCOM component starts from C++. You don't need to be a C++ expert, however. Although basic ideas such as inheritance and encapsulation should be familar to you, wherever possible they are explained in the book as they are used. Also many of the examples are in JavaScript, which is used in Mozilla to access XPCOM components as scriptable objects, and so familiarity with that language is useful as well.</font>
</p>


<p>
  <a name="1001448"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">XPCOM stands for the Cross Platform Component Object Model. As this name implies, XPCOM is similar to Microsoft COM. If you have any experience with this technology, much of it can be applied to XPCOM.  However, this book does not assume any prior knowledge of COM-all of the basic COM ideas will be introduced.</font>
</p>


<p>
  <a name="1001449"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">This book provides a tutorial about building an XPCOM component that controls browsing behavior. Although, XPCOM can be used in many environments which are unrelated to web browsing, XPCOM's main client is <font  face="Verdana, Arial, Helvetica, sans-serif"><i>Gecko</i></font>, an open source, standards compliant, embeddable web browser, where it's  easiest and most practical to illustrate XPCOM's functionality. A full description of the component in this tutorial can be found in the <a href="components.html#1008546">"What We'll Be Working On"</a> section of the tutorial.</font>
</p>


<h2>
  <a name="998282"> </a><font color="#003366"  face="Verdana, Arial, Helvetica, sans-serif">Organization of the Tutorial</font>
</h2>


<p>
  <a name="999647"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">The following list provides an overview of the steps that we will take to build an XPCOM component called <font  face="Verdana, Arial, Helvetica, sans-serif"><b>WebLock</b></font>, which provides site blocking functionality to Gecko-based browsers. Each one of these steps has its own chapter, in which a number of topics associated with the step are discussed.</font>
</p>

<ul>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001644"> </a>Create the generic module code for the component. </font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001693"> </a>Use C++ macros, special string classes and smart pointers to optimize your code. </font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001656"> </a>Define the functionality for the component; create an XPIDL interface for that functionality; create the implementation code specific to the <br>custom <font  face="Verdana, Arial, Helvetica, sans-serif"><b>WebLock</b></font> component interface.</font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001731"> </a>Finish implementing the <font  face="Verdana, Arial, Helvetica, sans-serif"><b>WebLock</b></font> component: nsIContentPolicy, file I/O, locking, etc.</font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001735"> </a>Creating the user interface for the <font  face="Verdana, Arial, Helvetica, sans-serif"><b>WebLock</b></font> component.</font>
  <font  face="Verdana, Arial, Helvetica, sans-serif"><li ><a name="1001736"> </a>Packaging <font  face="Verdana, Arial, Helvetica, sans-serif"><b>WebLock</b></font> for distribution and installation.</font>
</ul>

<h2>
  <a name="998256"> </a><font color="#003366"  face="Verdana, Arial, Helvetica, sans-serif">Following Along with the Examples</font>
</h2>


<p>
  <a name="998275"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">There are a couple of different ways to get XPCOM onto your machine so you can begin to create components. If you already have a Mozilla build or the source from Mozilla 1.2 or later, then you can use the XPCOM framework available there. If you don't already have the Mozilla source, then an even easier way to get and use XPCOM is to download the <font  face="Verdana, Arial, Helvetica, sans-serif"><i>Gecko SDK</i></font>, which is a collection of libraries and tools that features the XPCOM component framework.</font>
</p>


<p>
  <a name="1001059"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">Whether you compile your code in the Mozilla source tree or use the Gecko SDK, you can build your own components and which leverage components that already exist in Gecko. The <font  face="Verdana, Arial, Helvetica, sans-serif"><b>WebLock</b></font> component we describe in this tutorial is a practical (and, we hope, genuinely useful) addition to the browser. In order to build it, your Gecko SDK or Mozilla source tree needs to be <font  face="Verdana, Arial, Helvetica, sans-serif"><i>version 1.2 or later</i></font>. Releases prior to Mozilla 1.2 did not completely support XPCOM components with frozen interfaces, but changes since then have remedied this. </font>
</p>


<p>
  <a name="1001629"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">This book assumes you are using the SDK rather than compiling in a Mozilla source tree, though the difference between these two approaches is minimal. Details about downloading the SDK, building, and getting programmatic access to Gecko components are provided in the appendix to this book, <font  face="Verdana, Arial, Helvetica, sans-serif"><i>Setting up the Gecko Platform</i></font>.</font>
</p>


<h2>
  <a name="998482"> </a><font color="#003366"  face="Verdana, Arial, Helvetica, sans-serif">Conventions</font>
</h2>


<p>
  <a name="1001829"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">The formatting conventions listed in Table 1 are used to designate specific types of information in the book and make things easier to scan. The goal is to use as few formats as possible, but to distinguish the various different types of information  clearly. </font>
</p>


<a name="999674"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">

<table border="1" cellpadding="5" cellspacing="0">
  <caption><b><i><font face="Verdana, Arial, Helvetica, sans-serif"><a name="998589"> </a><font face="Times New Roman">TABLE 1.  Formatting Conventions Used in This Book</font></font></i></b></caption>
  <tr align="center" bgcolor="#CCCCCC">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><a name="998593"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">Format</font></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><a name="998595"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">Description</font></font></th>
  </tr>
  <tr>
    <td><font face="Verdana, Arial, Helvetica, sans-serif"><a name="998597"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">bold</font></font></td>
    <td><font face="Verdana, Arial, Helvetica, sans-serif"><a name="998599"> </a><font  face="Verdana, Arial, Helvetica, sans-serif"><font  face="Verdana, Arial, Helvetica, sans-serif"><b>component names</b></font> appear in bold in the text</font></font></td>
  </tr>
  <tr>
    <td><font face="Verdana, Arial, Helvetica, sans-serif">
<p>
  <a name="998640"> </a><font  face="Verdana, Arial, Helvetica, sans-serif"><font  face="Verdana, Arial, Helvetica, sans-serif">monospace</font></font>
</p>

</font></td>
    <td><font face="Verdana, Arial, Helvetica, sans-serif"><a name="998603"> </a><font  face="Verdana, Arial, Helvetica, sans-serif"><font  face="Verdana, Arial, Helvetica, sans-serif">code listings, interface names</font> and <font  face="Verdana, Arial, Helvetica, sans-serif">members </font>of interfaces (e.g., <font  face="Verdana, Arial, Helvetica, sans-serif">createInstance()</font>) appear in monospaced font. Longer code listings appear in gray boxes.</font></font></td>
  </tr>
  <tr>
    <td><font face="Verdana, Arial, Helvetica, sans-serif">
<p>
  <a name="998648"> </a><font  face="Verdana, Arial, Helvetica, sans-serif"><font  face="Verdana, Arial, Helvetica, sans-serif"><i>italic</i></font></font>
</p>

</font></td>
    <td><font face="Verdana, Arial, Helvetica, sans-serif"><a name="998607"> </a><font  face="Verdana, Arial, Helvetica, sans-serif"><font  face="Verdana, Arial, Helvetica, sans-serif"><i>variables, filenames</i></font> and <font  face="Verdana, Arial, Helvetica, sans-serif"><i>directory names</i></font> terms appear in italic. Important terms and new concepts are also italicized the first time they appear in the text. Those terms are either explained immediately after they are cited, or else the reader is referred to a section in the book where they are described in detail. References to other chapters (e.g., <font  face="Verdana, Arial, Helvetica, sans-serif"><i>Getting Social: Making Instances of Your Component Available</i></font>) are also italicized.</font></font></td>
  </tr>
  <tr>
    <td><font face="Verdana, Arial, Helvetica, sans-serif">
<p>
  <a name="1000945"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">"quoted"</font>
</p>

</font></td>
    <td><font face="Verdana, Arial, Helvetica, sans-serif"><a name="1000947"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">References to other sections are double-quoted (e.g. <a href="preface.html#998282">"Organization of the Tutorial"</a>).</font></font></td>
  </tr>
</table>



<br></font>


<h2>
  <a name="1001857"> </a><font color="#003366"  face="Verdana, Arial, Helvetica, sans-serif">Acknowledgements</font>
</h2>


<p>
  <a name="998484"> </a><font  face="Verdana, Arial, Helvetica, sans-serif">Thanks to Peter Lubczynski, John Gaunt, Ellen Evans, and Alec Flett for technical reviews. And a special thanks to Darin Fisher for his very acute observations, close reading, and attention to detail. </font>
</p>


<p>
  <a name="998323"> </a><font  face="Verdana, Arial, Helvetica, sans-serif"></font>
</p>
</blockquote>

<hr>

<table border="0" cellspacing="0" cellpadding="0">
  <tr>
  <td><font size="1"><font face="courier"> Copyright (c)
  2003 by Doug Turner and Ian Oeschger. This material may be
  distributed only subject to the terms and conditions set forth in
  the <a href="http://www.opencontent.org/openpub/">Open Publication
  License</a>, v1.02 or later. Distribution of substantively modified
  versions of this document is prohibited without the explicit
  permission of the copyright holder. Distribution of the work or
  derivative of the work in any standard (paper) book form is
  prohibited unless prior permission is obtained from the copyright
  holder.</td>
  </tr>
</table>

<table width="331" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td><a href="newbookTOC.html"><img src="images/navtoc.gif" width="84" height="23" border="0"
    alt="TOC"> </a></td>
    <td><a href="newbookTOC.html"><img src="images/navprev.gif" width="81" height="23" border="0"
    alt="PREV"> </a></td>
    <td><a href="quicktour2.html"><img src="images/navnext.gif" width="81" height="23" border="0"
    alt="NEXT"> </a></td>
    <td><a href="newbookIX.html"><img src="images/navidx.gif" width="85" height="23" border="0"
    alt="INDEX"> </a></td>
  </tr>
</table>

</body>
</html>
