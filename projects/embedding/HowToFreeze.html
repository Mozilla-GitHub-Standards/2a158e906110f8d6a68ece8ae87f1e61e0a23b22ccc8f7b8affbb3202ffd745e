<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <meta name="author" content="Chak Nanga">
  <title>How to Mark an Interface as Frozen</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">



  
   


<h2>How to Mark an Interface as Frozen</h2>
    <p>
    Please follow the guidelines below before marking
    an interface as frozen.
    <p>

    For starters, take a look at the <a
      href="http://www.mozilla.org/projects/xpcom/interface-rules.html">IDL
      interface rules</a> document. Follow the rules in that document
    and help us maintain consistency and correctness by sending your
    comments and/or additions to this document to the author or current
    maintainer.<br>
    <br>

    Here's a general outline of what an IDL file of a
    FROZEN interface should look like - specifically
    <br> what sections we'd like to have and their
    order: <br>
<ol>
      <li>The <a href="/MPL/">License</a> section (Use a <a
href="/MPL/boilerplate-1.1/">boilerplate</a> to make it easier)</li>

      <li><code>#include</code>'s of any other required IDL files&nbsp;</li>

      <li>Forward declarations of other interfaces referred to in the
methods of the current interface&nbsp;</li>
      <li>A general description
of the current interface's purpose/functionality
      <li> "@status FROZEN"
keyword in the section. <b><i> [Another important guideline to
remember here is the requirement of having one and only one interface
per IDL file]</i></b></li>
      <li>Descriptions of each of the
methods in the interface.  <br>
  </li>
</ol>
    <p>
      When writing descriptions for sections 5 and 6 above please
      follow the <a class="moz-txt-link-freetext"
      href="http://java.sun.com/j2se/javadoc/writingdoccomments/index.html">JavaDoc
      guidelines</a>.
    </p>
    <p>
      Here's a sample template which follows the guidelines set above:
    </p>
  <br>
    <pre>
/* ***** BEGIN LICENSE BLOCK *****
 * Version: MPL 1.1/GPL 2.0/LGPL 2.1
 *
 * The contents of this file are subject to the Mozilla Public License Version
 * 1.1 (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 * http://www.mozilla.org/MPL/
 *
 * Software distributed under the License is distributed on an "AS IS" basis,
 * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
 * for the specific language governing rights and limitations under the
 * License.
 *
 * The Original Code is mozilla.org code.
 *
 * The Initial Developer of the Original Code is
 * Netscape Communications Corp.
 * Portions created by the Initial Developer are Copyright (C) 2003
 * the Initial Developer. All Rights Reserved.
 *
 * Contributor(s):
    Adam Lock <a class="moz-txt-link-rfc2396E" href="mailto:adamlock@netscape.com"> &lt;adamlock@netscape.com&gt;</a>
 *
 * Alternatively, the contents of this file may be used under the terms of
 * either the GNU General Public License Version 2 or later (the "GPL"), or
 * the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
 * in which case the provisions of the GPL or the LGPL are applicable instead
 * of those above. If you wish to allow use of your version of this file only
 * under the terms of either the GPL or the LGPL, and not to allow others to
 * use your version of this file under the terms of the MPL, indicate your
 * decision by deleting the provisions above and replace them with the notice
 * and other provisions required by the GPL or the LGPL. If you do not delete
 * the provisions above, a recipient may use your version of this file under
 * the terms of any one of the MPL, the GPL or the LGPL.
 *
 * ***** END LICENSE BLOCK ***** */
  *  * Contributor(s):  
  */ 
  
  #include "nsISupports.idl" 
  
  interface nsIDOMNode; 
  
  /** 
  * An optional interface for embedding clients wishing  
to       receive 
  * notifications for when a tooltip should be displayed 
    or removed. 
  * The embedder implements this interface on the web  browser
        chrome 
  * object associated with the window that notifications 
    are required 
  * for. 
  * 
  * <font color="#cc0000">@status FROZEN</font>
  */ 
  [uuid(44b78386-1dd2-11b2-9ad2-e4eee2ca1916)] 
  interface nsITooltipListener : nsISupports 
  { 
     /** 
      * Called when a tooltip should be displayed.      
      * 
      * @param aXCoords The tooltip left edge X coordinate. 
      * @param aYCoords The tooltip top edge Y coordinate. 
      * @param aTipText The text to display in the tooltip, typically obtained 
      *         from the TITLE attribute of the node  (or containing parent) 
      *         over which the pointer has been positioned. 
      * 
      * @note 
      * Coordinates are specified in pixels, relative to the top-left 
      * corner of the browser area. 
      * 
      * @return NS_OK Tooltip was displayed.    
      * @return Other No tooltip was displayed.    
      */ 
     void onShowTooltip(in long aXCoords, in long  aYCoords, 
        in wstring aTipText); 
  
     /** 
      * Called when the tooltip should be hidden, either because the pointer 
      * has moved or the tooltip is to be hidden.      
      */ 
     void onHideTooltip(); 
  };</pre>  
<h2>How to mark a service/component as frozen</h2>
    <p>
      For each frozen service or public component create a 
      corresponding        header     file which has the following:
    </p>
    <ol>
      <li> #includes for each of the interfaces it supports. This
    allows  consumers   to simply include the 'component' header file when
    using      a component without having to explicitly include all of 
    the  interface   headers...
      <li> Definition of the Contract-id (and Class-id if 
necessary)   for  the component instance.
      <li> Documentation about the component [Please follow
 the  guidelines   in "How to mark an interface as frozen"
         mentioned above as applicable]
      <li> Any other component specific code and/or defines.
    </ol>
    
<a name="makechanges"></a>
<h2>Required Makefile.in Changes to support SDK</h2>
 <br>
 In order to maintain an up-to-date SDK, the build system provides a way
to export frozen interface, frozen headers, and binaries into an SDK directory
in dist. <br>
 The layout of this SDK is roughly the following: 
<pre>dist/sdk/module/idl<br>dist/sdk/module/include<br>dist/sdk/module/bin<br></pre>
 <br>
 If you would like to have this new frozen interface part of the sdk, the
following build variables will help you. There are three define supported
in gmake (Makefile.in) which aide in the construction of a SDK distribution. 
<br>
<br>
 <b>SDK_HEADERS</b> <br>
SDK_HEADERS extends the EXPORT define. In addition to exporting files listed
in SDK_HEADERS to dist/include/module, we create a directory dist/sdk/module/include
where these files are duplicated. This define is meant to only include headers
which are part of the SDK. You may use this define with the EXPORT define. 
 <br>
<br>
 <b>SDK_XPIDLSRCS</b> <br>
  SDK_XPIDLSRCS extends the XPIDLSRCS. In addition to exporting IDL to
dist/idl/module and building typelibs which are pushed in dist/bin, this
define makes copies of the IDL in dist/sdk/module/idl and copies of the type
lib in dist/sdk/module/bin. (Currently type libraries are NOT copied into
dist/sdk/. We need to get this fixed.). <br>
<br>
 <b>SDK_BINARY</b> <br>
SDK_BINARY exports files into dist/sdk/module/bin. These files are commonly
libraries and executables. <br>
<br>
 You can take a look at mozilla/xpcom as an example of usage. <br>


<h2>Announcements, Announcements, Announcements!</h2>

When you think that you are ready: <b> Communicate! </b> <br>
We have created a mailing list that is meant to be a low volume notification 
of API changes. Gecko embedders and component developers are encouraged to sign 
up so that they may receive these notifications. 
<br><br>
When you are in the process of 
freezing an interface you should have mail sent to this mailing list with the informmation
regarding the scope of the change, required modifications to exist code, ect. This is to keep 
people that are building software using Mozilla in the know. 
<br><br>
So, when you start thinking about 
freezing an inteface, send a mail. When you have frozen an interface, send a mail. 
<br><br>
To send mail to this mailing list, please contact <a href="mailto:dougt@netscape.com">Doug Turner</a>
 or <a href="jjmata@netscape.com">Juan Jose Mata</a>. You must include a bug numbers, 
and summary of changes. 




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified May  9,  2003</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/embedding/HowToFreeze.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
