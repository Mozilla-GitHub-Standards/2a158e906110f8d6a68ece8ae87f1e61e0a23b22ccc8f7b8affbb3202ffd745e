<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 6.0.5">
<meta name="TEMPLATEBASE" content="Dynamic HTML Professional Edition">
<meta name="LASTUPDATED" content="05/06/03 16:11:18">
<link rel="StyleSheet" href="document.css" type="text/css" media="screen">
<title>nsIPrefService</title>
<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel nomenu">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mBody" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">







<table width="331" border="0" align="right" cellpadding="0" cellspacing="0">
  <tr>
    <td><a href="embedapiTOC.html"><img src="images/navtoc.gif" width="84" height="23"
    border="0" alt="TOC"> </a></td>
    <td><a href="embedapi83.html"><img src="images/navprev.gif" width="81" height="23"
    border="0" alt="PREV"> </a></td>
    <td><a href="embedapi85.html"><img src="images/navnext.gif" width="81" height="23"
    border="0" alt="NEXT"> </a></td>
    <td><a href="embedapiIX.html"><img src="images/navidx.gif" width="85" height="23"
    border="0" alt="INDEX"> </a></td>
  </tr>
</table>

<p><img src="images/apilogo.gif" width="150" height="100" alt="Embedding Gecko API"></p>
<hr align="left">
<blockquote>
<h2 class="NewHTMLPage">
  <a name="1030300"> </a>nsIPrefService
</h2><hr>
<p class="Body">
  <a name="1038043"> </a>The interface is the main entry point into the back end preferences management library. The preference service is directly responsible for the management of the preferences files and also facilitates access to the preference branch object which allows the direct manipulation of the preferences themselves.This interface is scriptable.
</p>
<p class="Body">
  <a name="1042171"> </a><b>See also</b>: <a href="embedapi83.html#1027388"><code>nsIPrefBranch</code></a>
</p>
<div class="head3";>
<a name="1030346"> </a>Methods<br>
</div>
<div class="cellheading2">
<a name="1142366"> </a>readUserPrefs<br>
</div>
<p class="Body">
  <a name="1030365"> </a>Reads in the preferences specified in a user preference file.
</p>
<h3 class="Heading2">
  <a name="1013069"> </a>Syntax:
</h3>
<pre  class="Preformatted">
void nsIPrefService::readUserPrefs(in nsIFile aFile)<a name="1030376"> </a>
</pre>
<h3 class="Heading2">
  <a name="1030453"> </a>Parameters:
</h3>
<div class="attributedefinition">
<a name="1030544"> </a><code>aFile: </code>The file to be read.<br>
</div>
<p class="Body">
  <a name="1030546"> </a><b>Note:</b> If <code>nsnull</code> is passed in for the aFile parameter the default preferences file(s) [prefs.js, user.js] will be read and processed.
</p>
<h3 class="Heading2">
  <a name="1030511"> </a>nsresult:
</h3>
<div class="attributedefinition">
<a name="1030620"> </a><code>NS_OK</code> if file was read and processed.<br>
</div>
<div class="attributedefinition">
<a name="1030662"> </a>Other if file failed to read or contained invalid data.<br>
</div>
<p class="Body">
  <a name="1030701"> </a><b>See also:</b> <a href="embedapi46.html#1088819"><code>nsIFile</code></a><code>.</code>
</p>
<div class="cellheading2">
<a name="1142380"> </a>resetPrefs<br>
</div>
<p class="Body">
  <a name="1030744"> </a>Completely flushes the preferences system and then re-initializes it.
</p>
<h3 class="Heading2">
  <a name="1013066"> </a>Syntax:
</h3>
<pre  class="Preformatted">
void nsIPrefService::resetPrefs()<a name="1030786"> </a>
</pre>
<h3 class="Heading2">
  <a name="1030815"> </a>Parameters:
</h3>
<div class="attributedefinition">
<a name="1012815"> </a>None.<br>
</div>
<h3 class="Heading2">
  <a name="1030862"> </a>nsresult:
</h3>
<div class="attributedefinition">
<a name="1030874"> </a><code>NS_OK </code>if the preference service was re-initialized correctly.<br>
</div>
<div class="attributedefinition">
<a name="1030887"> </a>Other if the preference service failed to restart correctly.<br>
</div>
<div class="cellheading2">
<a name="1142394"> </a>resetUserPrefs<br>
</div>
<p class="Body">
  <a name="1030932"> </a>Resets all preferences with user-set values back to the application default values.
</p>
<h3 class="Heading2">
  <a name="1030933"> </a>Syntax:
</h3>
<pre  class="Preformatted">
void nsIPrefService::resetUserPrefs() <a name="1030938"> </a>
</pre>
<h3 class="Heading2">
  <a name="1030960"> </a>Parameters:
</h3>
<div class="attributedefinition">
<a name="1030964"> </a>None.<br>
</div>
<h3 class="Heading2">
  <a name="1030992"> </a>nsresult:
</h3>
<div class="attributedefinition">
<a name="1031013"> </a><code>NS_OK</code> always.<br>
</div>
<div class="cellheading2">
<a name="1142415"> </a>savePrefFile<br>
</div>
<p class="Body">
  <a name="1031176"> </a>Writes current preferences state to a file.
</p>
<h3 class="Heading2">
  <a name="1030934"> </a>Syntax:
</h3>
<pre  class="Preformatted">
void nsIPrefService::savePrefFile(in nsIFile aFile) <a name="1031225"> </a>
</pre>
<h3 class="Heading2">
  <a name="1031277"> </a>Parameters:
</h3>
<div class="attributedefinition">
<a name="1031297"> </a><code>aFile: </code>The file to be written.<br>
</div>
<p class="Body">
  <a name="1031361"> </a><b>Note: </b>If <code>nsnull</code> is passed in for the aFile parameter the preference data is written out to the current preferences file (usually prefs.js.)
</p>
<h3 class="Heading2">
  <a name="1031324"> </a>nsresult:
</h3>
<div class="attributedefinition">
<a name="1031336"> </a><code>NS_OK</code> if file was written<br>
</div>
<div class="attributedefinition">
<a name="1031384"> </a>Other if file failed to write.<br>
</div>
<p class="Body">
  <a name="1031382"> </a><b>See also: </b><a href="embedapi46.html#1088819"><code>nsIFile</code></a><code>e.</code>
</p>
<div class="cellheading2">
<a name="1142432"> </a>getBranch<br>
</div>
<p class="Body">
  <a name="1031413"> </a>Gets a Preferences "Branch" object which accesses user preference data. Using a Set method on this object will always create or set a user preference value. When using a Get method a user set value will be returned if one exists, otherwise a default value will be returned.
</p>
<h3 class="Heading2">
  <a name="1031031"> </a>Syntax:
</h3>
<pre  class="Preformatted">
nsIPrefBranch nsIPrefService::getBranch(
	in string aPrefRoot)<a name="1031494"> </a>
</pre>
<h3 class="Heading2">
  <a name="1031561"> </a>Parameters:
</h3>
<div class="attributedefinition">
<a name="1031581"> </a><code>aPrefRoot: </code>The preference "root" on which to base this "branch". For example, if the root "browser.startup." is used, the branch will be able to easily access the preferences "browser.startup.page", "browser.startup.homepage", or "browser.startup.homepage_override" by simply requesting "page", "homepage", or "homepage_override". <code>nsnull</code> or "" may be used to access to the entire preference "tree".<br>
</div>
<h3 class="Heading2">
  <a name="1031636"> </a>Returns::
</h3>
<div class="attributedefinition">
<a name="1031713"> </a>The <code>nsIPrefBranch</code> object representing the requested branch<br>
</div>
<p class="Body">
  <a name="1031736"> </a><b>See also:</b> <a href="embedapi83.html#1027388"><code>nsIPrefBranch</code></a><code>.</code>
</p>
<div class="cellheading2">
<a name="1142449"> </a>getDefaultBranch<br>
</div>
<p class="Body">
  <a name="1031766"> </a>Gets a Preferences "Branch" object which accesses only the default preference data. Using a Set method on this object will always create or set a default preference value. When using a Get method a default value will always be returned.
</p>
<h3 class="Heading2">
  <a name="1031788"> </a>Syntax:
</h3>
<pre  class="Preformatted">
nsIPrefBranch nsIPrefService::getDefaultBranch(
	in string aPrefRoot)<a name="1031795"> </a>
</pre>
<h3 class="Heading2">
  <a name="1031640"> </a>Parameters:
</h3>
<div class="attributedefinition">
<a name="1031825"> </a><code>aPrefRoot:</code> The preference "root" on which to base this "branch". For example, if the root "browser.startup." is used, the branch will be able to easily access the preferences "browser.startup.page", "browser.startup.homepage", or "browser.startup.homepage_override" by simply requesting "page", "homepage", or "homepage_override". <code>nsnull</code> or "" may be used to access to the entire preference "tree".<br>
</div>
<p class="Body">
  <a name="1031827"> </a><b>Note: </b>Few consumers will want to create default branch objects. Many of the branch methods do nothing on a default branch because the operations only make sense when applied to user set preferences.
</p>
<h3 class="Heading2">
  <a name="1031813"> </a>Returns:
</h3>
<div class="attributedefinition">
<a name="1031947"> </a>The <code>nsIPrefBranch</code> object representing the requested default branch.<br>
</div>
<p class="Body">
  <a name="1031916"> </a><b>See also: </b><a href="embedapi83.html#1027388"><code>nsIPrefBranch</code></a><b>.</b>
</p>
</blockquote>

<hr>
<table align="right" border="0" cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td align="right"><font size="1">     Written by:<a
 href="mailto:jeev@netscape.com">Ellen Evans</a> | Comments, questions, complaints? 
      <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=143387">Bug 143387</a><br>
        </font></td>
      </tr>
             
  </tbody>   
</table>


<table width="331" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td><a href="embedapiTOC.html"><img src="images/navtoc.gif" width="84" height="23" border="0"
    alt="TOC"> </a></td>
    <td><a href="embedapi83.html"><img src="images/navprev.gif" width="81" height="23" border="0"
    alt="PREV"> </a></td>
    <td><a href="embedapi85.html"><img src="images/navnext.gif" width="81" height="23" border="0"
    alt="NEXT"> </a></td>
    <td><a href="embedapiIX.html"><img src="images/navidx.gif" width="85" height="23" border="0"
    alt="INDEX"> </a></td>
  </tr>
</table>




<hr class="hide">
<hr class="hide">
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified May  7,  2003</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/embedding/embedapiref/embedapi84.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
