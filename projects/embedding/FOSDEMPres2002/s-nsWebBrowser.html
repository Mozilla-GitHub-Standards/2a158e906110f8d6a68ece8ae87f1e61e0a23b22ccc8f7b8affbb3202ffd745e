<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Creating a web browser</title>
    <link href="slide.css" rel="stylesheet" type="text/css">
    <link href="contents.html" rel="Contents">
    <link href="intro.html" rel="First">
    <link href="conclusion.html" rel="Last">
<link href="s-InitWindow.html" rel="Next"><link href="d-nsIBaseWindow.html" rel="Prev">  </head>
  <body>
    <table class="slide-table">
      <tr>
        <td class="slide-title">Creating a web browser</td>
        <td class="slide-nav">
           [&nbsp;
             <a accesskey="p" href="d-nsIBaseWindow.html">&lt;&lt; Previous</a>&nbsp;|&nbsp;
             <a href="contents.html">Contents</a>
             &nbsp;|&nbsp; <a accesskey="n" href="s-InitWindow.html">Next &gt;&gt;</a>
  &nbsp;]
        </td>
      </tr>
      <tr>
        <td colspan="2" class="slide-content">
          <span>
            <title>Creating a web browser</title>
This fragment instantiates a nsWebBrowser component and sets your window as the container for this nsWebBrowser.
<pre>
  // include core Mozilla system headers
  #include "nsComponentManager.h"

  // include pertinent embedding interfaces
  #include "nsIBaseWindow.h"
  #include "nsIWebBrowser.h"
  ...
  nsCOMPtr&lt;nsIBaseWindow&gt; baseWindow;
  nsCOMPtr&lt;nsIWebBrowser&gt; webBrowser;

  // Create a nsWebBrowser instance
  webBrowser = do_CreateInstance(NS_WEBBROWSER_CONTRACTID, &rv);
  if (NS_FAILED(rv)) return rv;

  // Register embedding component which implements the 
  // window level callback interface.
  rv = webBrowser->SetContainerWindow(
      NS_STATIC_CAST(nsIWebBrowserChrome*, this));
  if (NS_FAILED(rv)) return rv;
</pre>
          </span>
        </td>
      </tr>
    </table>
  </body>
</html>
