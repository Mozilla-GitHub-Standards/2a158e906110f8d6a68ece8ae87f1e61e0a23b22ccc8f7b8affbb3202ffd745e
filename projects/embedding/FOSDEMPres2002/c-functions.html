<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Intialisation and Shutdown</title>
    <link href="slide.css" rel="stylesheet" type="text/css">
    <link href="contents.html" rel="Contents">
    <link href="intro.html" rel="First">
    <link href="conclusion.html" rel="Last">
<link href="d-nsIWB.html" rel="Next"><link href="DOM-Embedding.html" rel="Prev">  </head>
  <body>
    <table class="slide-table">
      <tr>
        <td class="slide-title">Intialisation and Shutdown</td>
        <td class="slide-nav">
           [&nbsp;
             <a accesskey="p" href="DOM-Embedding.html">&lt;&lt; Previous</a>&nbsp;|&nbsp;
             <a href="contents.html">Contents</a>
             &nbsp;|&nbsp; <a accesskey="n" href="d-nsIWB.html">Next &gt;&gt;</a>
  &nbsp;]
        </td>
      </tr>
      <tr>
        <td colspan="2" class="slide-content">
          <span>
            <title>Intialisation and Shutdown</title>
There are general statup/shutdown/process event functions that you need to utilize.
<ul>
<li><b>Setup</b> <pre>extern nsresult NS_InitEmbedding(nsILocalFile *mozBinDirectory,
         nsIDirectoryServiceProvider *appFileLocProvider);</pre></li>
 <ul>
  <li>mozBinDirectory - location of your executable</li>
  <li>appFileLocProvider - a file location object that points Gecko to various, pre-defined files.</li>
  <li>Embedding APIs are <b>not</b> multi-threaded.</li>
 </ul>
<li><b>Teardown</b><pre>extern nsresult NS_TermEmbedding();</pre></li>
 <ul>
  <li>cleans up Gecko state and is called at app exit/shutdown.</li>
  <li>Mozilla is <b>not</b> un-loadable.</li>
 </ul>
<li><b>Event handling</b><pre>nsresult NS_DoIdleEmbeddingStuff()</pre></li>
 <ul>
  <li>currently windows only (timer firing)</li>
  <li>reserved for internal event handling activity</li>
 </ul>
</ul>
          </span>
        </td>
      </tr>
    </table>
  </body>
</html>
