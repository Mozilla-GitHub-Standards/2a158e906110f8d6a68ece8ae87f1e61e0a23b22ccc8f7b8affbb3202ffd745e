
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../../images/mozilla-16.png" type="image/png">

        <META NAME="keywords" CONTENT="electronic commerce, ecommerce, ebusiness, e-business, e-commerce, enterprise software, net economy, Netscape, Sun Microsystems, Sun-Netscape Alliance, iPlanet, internet software">
        <META NAME="description" CONTENT="The Sun-Netscape Alliance, a strategic alliance formed by America Online and Sun Microsystems, Inc., is delivering iPlanet e-commerce software and enterprise solutions that enable companies to compete successfully in the Net Economy">
	<META HTTP-EQUIV="Content-Type" content="text/html; charset=ISO-8859-1">
	<META NAME="TEMPLATEBASE" CONTENT="Authored in FrameMaker. Converted to HTML in WebWorks Publisher 2000. manual wdt 1.5">
	<META NAME="LASTUPDATED" CONTENT="05/18/01 16:06:04">
	<TITLE> NSPR Reference: Chapter&#32;25 System Information and Environment Variables</TITLE>
<script src="../../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">







<MAINCONTENT>

<NAVIGATIONCONTENT>
   <TABLE WIDTH="100%" BORDER="0" CELLSPACING="4">
      <TR>
         <TD VALIGN="TOP">
        
           
           <FONT SIZE="+1"><B>
             NSPR Reference</B></FONT><BR><FONT>  
<FONT SIZE="-1"><b><a href="prmwait.html">
<FONT SIZE="2">Previous</a></FONT>&nbsp;&nbsp;&nbsp;&nbsp;</b>
<a href="index.html">
<b><FONT SIZE="2">Contents</a></FONT></b>&nbsp;&nbsp;&nbsp;&nbsp;
<a href="prlog.html">
<b>
<FONT SIZE="2">
Next
</a>
</FONT>
</b>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
         </TD>
     </TR>

     
   </TABLE>
   <BR>
</NAVIGATIONCONTENT>

<BOOKCONTENT>
<HR>
      <center>
<A NAME="25096"> </A><A NAME=""> </A><h2>
Chapter&#32;25 
&nbsp;



<A NAME="25097"> </A><A NAME="System Information and Environment Variables"> </A>System Information and Environment Variables
</h2>
</center>
<A NAME="25098"> </A>This chapter describes the NSPR API for obtaining system information, such as the 
host name, system name, system release, and system page size. NSPR also 
provides a platform-independent accessor for environment variables.

<P>

<A NAME="25102"> </A><A HREF="prsystem.html#25106"  >System Information Types</A><br>
<A HREF="prsystem.html#25120"  >System Information and Environment Variable Functions</A>

<P>



<A NAME="25106"> </A>
<A NAME="System Information Types"> </A>
<h2>
System Information Types
</h2>


<A NAME="25110"> </A>The type <A HREF="prsystem.html#25112"  ><CODE>PRSysInfo</CODE></A> is defined to represent system information.

<P>

<A NAME="25112"> </A><A NAME="PRSysInfo"> </A><h4>
PRSysInfo
</h4>

<BR>
<A NAME="25113"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="25114"></A>typedef enum {<br>&nbsp;&nbsp;&nbsp;PR_SI_HOSTNAME,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* name of the host */<br>&nbsp;&nbsp;&nbsp;PR_SI_SYSNAME, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* name of the system */<br>&nbsp;&nbsp;&nbsp;PR_SI_RELEASE, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* release number of the system */<br>&nbsp;&nbsp;&nbsp;PR_SI_ARCHITECTURE &nbsp;&nbsp;/* architecture of the system */<br>} PRSysInfo;
</PRE>
<P>
<BR>
<A NAME="25115"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="25119"> </A>This structure defines the command argument for the <A HREF="prsystem.html#25138"  ><CODE>PR_GetSystemInfo</CODE></A> function. 

<P>



<A NAME="25120"> </A>
<A NAME="System Information and Environment Variable Functions"> </A>
<h2>
System Information and Environment Variable Functions
</h2>


<A NAME="25121"> </A>The system information functions are:

<P>

<A NAME="25125"> </A><A HREF="prsystem.html#25138"  ><CODE>PR_GetSystemInfo</CODE></A><CODE><br>
</CODE><A HREF="prsystem.html#25184"  ><CODE>PR_GetPageSize</CODE></A><CODE><br>
</CODE><A HREF="prsystem.html#25196"  ><CODE>PR_GetPageShift</CODE></A><CODE>
</CODE>
<P>

<A NAME="25132"> </A>The function for obtaining the values of environment variables is:

<P>

<A NAME="25136"> </A><A HREF="prsystem.html#25208"  ><CODE>PR_GetEnv</CODE></A><CODE>
</CODE>
<P>

<A NAME="25138"> </A><A NAME="PR_GetSystemInfo"> </A><h4>
PR_GetSystemInfo
</h4>

<A NAME="25139"> </A>Retrieves information about the system. 

<P>

<BR>
<A NAME="25140"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="25141"></A>#include &lt;prsystem.h&gt;
</PRE>
<P>
<PRE>
<A NAME="25142"></A>PRStatus PR_GetSystemInfo (<br>&nbsp;&nbsp;&nbsp;PRSysInfo cmd,<br>&nbsp;&nbsp;&nbsp;char *buf, <br>&nbsp;&nbsp;&nbsp;PRUint32 buflen);
</PRE>
<P>
<BR>
<A NAME="25143"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="25144"> </A>The function has the following parameters: 

<P>

<A NAME="25159"> </A><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="25147"> </A>cmd

<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25149"> </A>Specifies the system information required. Possible values are:

<P>

<A NAME="25150"> </A><CODE>&nbsp;PR_SI_HOSTNAME <br>
&nbsp;PR_SI_SYSNAME <br>
&nbsp;PR_SI_RELEASE <br>
&nbsp;PR_SI_ARCHITECTURE
</CODE>
<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="25152"> </A><CODE>buf
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25154"> </A>A pointer to a buffer to hold the <CODE>NULL</CODE>-terminated string containing 
the system information. This buffer must be pre-allocated by the 
caller.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="25156"> </A><CODE>buflen
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25158"> </A>The size of the buffer in bytes.

<P>
</TD>
  </TR>
</TABLE>



<P>

<BR>
<A NAME="25160"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="25161"> </A>If successful, <CODE>PR_SUCCESS</CODE>; otherwise, <CODE>PR_FAILURE</CODE>. 

<P>

<BR>
<A NAME="25162"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="25163"> </A>This function retrieves the system information specified by <CODE>cmd</CODE>. The type of 
information is as follows:

<P>

<P>
<A NAME="25181"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="25166"> </A><CODE>PR_SI_HOSTNAME 
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25168"> </A>Name of the host 

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="25170"> </A><CODE>PR_SI_SYSNAME
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25172"> </A>Name of the system

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="25174"> </A><CODE>PR_SI_RELEASE 
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25176"> </A>Release number of the system 

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="25178"> </A><CODE>PR_SI_ARCHITECTURE
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25180"> </A>Architecture of the system

<P>
</TD>
  </TR>
</TABLE>


<P>


<A NAME="25182"> </A>Upon a successful return the system information is contained in a <CODE>NULL</CODE>-terminated 
string in the specified buffer. The buffer must be pre-allocated by the caller and 
should be at least <CODE>SYS_INFO_BUFFER_LENGTH</CODE> bytes in length. 

<P>

<A NAME="25184"> </A><A NAME="PR_GetPageSize"> </A><h4>
PR_GetPageSize
</h4>

<A NAME="25185"> </A>Retrieves the system page size. 

<P>

<BR>
<A NAME="25186"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="25187"></A>#include &lt;prsystem.h&gt;
</PRE>
<P>
<PRE>
<A NAME="25188"></A>PRInt32 PR_GetPageSize(void);
</PRE>
<P>
<BR>
<A NAME="25189"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="25190"> </A>The function has no parameters.

<P>

<BR>
<A NAME="25191"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="25192"> </A>A 32-bit number of bytes.

<P>

<BR>
<A NAME="25193"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="25194"> </A>This function returns the number of bytes in a page on the system. 

<P>

<A NAME="25196"> </A><A NAME="PR_GetPageShift"> </A><h4>
PR_GetPageShift
</h4>

<A NAME="25197"> </A>Retrieves the log2 of the system page size. 

<P>

<BR>
<A NAME="25198"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="25199"></A>#include &lt;prsystem.h&gt;
</PRE>
<P>
<PRE>
<A NAME="25200"></A>PRInt32 PR_GetPageShift(void);
</PRE>
<P>
<BR>
<A NAME="25201"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="25202"> </A>The function has no parameters.

<P>

<BR>
<A NAME="25203"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="25204"> </A>A 32-bit number.

<P>

<BR>
<A NAME="25205"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="25206"> </A>This function returns the log2 value of the number of bytes in a page on the system. 

<P>

<A NAME="25208"> </A><A NAME="PR_GetEnv"> </A><h4>
PR_GetEnv
</h4>

<A NAME="25209"> </A>Retrieves the value of an environment variable. 

<P>

<BR>
<A NAME="25210"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="25211"></A>#include &lt;prenv.h
</PRE>
<P>
<PRE>
<A NAME="25212"></A>char* PR_GetEnv(const char *name);
</PRE>
<P>
<BR>
<A NAME="25213"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="25214"> </A>The function has the following parameter:

<P>

<P>
<A NAME="25220"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="25217"> </A><CODE>name
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="25219"> </A>A pointer to a <CODE>NULL</CODE>-terminated string containing the name of the 
environment variable.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="25221"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="25222"> </A>If the environment variable is defined, returns a pointer to its value; otherwise 
returns <CODE>NULL</CODE>. 

<P>

<BR>
<A NAME="25223"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="25224"> </A>This function searches the environment list for a string that contains the specified 
name, of the form <CODE>name=</CODE><FONT FACE="serif"><em>value</em></FONT>. If a match is found, the function returns a pointer to 
the value. If the environment variable is not defined, the function returns <CODE>NULL</CODE>.

<P>

<A NAME="25225"> </A><B>Caution:</B> The returned pointer should be treated as a <CODE>const char*</CODE>. 

<P>


<HR>
</BOOKCONTENT>

<FOOTERCONTENT>


            <b><a href="prmwait.html">
<FONT SIZE="2">Previous</a></FONT>&nbsp;&nbsp;&nbsp;&nbsp;</b>
<a href="index.html">
<b><FONT SIZE="2">Contents</a></FONT></b>&nbsp;&nbsp;&nbsp;&nbsp;
<a href="prlog.html">
<b>
<FONT SIZE="2">
Next
</a>
</FONT>
</b>&nbsp;&nbsp;&nbsp;&nbsp;
 

   <FONT SIZE="-2">
   <P ALIGN="RIGHT">Last Updated <B>May 18, 2001</B>
   </FONT>
   <BR>

</FOOTERCONTENT>

</MAINCONTENT>





<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../../sitemap.html">Site Map</a></li>
<li><a href="../../../../security/">Security Updates</a></li>
<li><a href="../../../../contact/">Contact Us</a></li>
<li><a href="../../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified May 18,  2001</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/nspr/reference/html/prsystem.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
