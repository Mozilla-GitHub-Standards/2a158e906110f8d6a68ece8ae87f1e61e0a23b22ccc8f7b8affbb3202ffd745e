<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">

<style type="text/css">
    pre * *  {
       margin: 0px;
    }

	pre li
    .tree {
        margin-left: 10px;
    } 
    
    .tree_jsfile {
    	color: gray;
    }
    
    .tree_xulfile {
    	color: green; font-weight: bold;
    }
    
    .tree_pane {
    	background-color: lightyellow;
    	border: 1px solid black;
    	padding-top: 1em;
    	padding-bottom: 1em;
    	padding-right: 1em;
    }
    
    .tree_xblbinding {
    	color: red;
    }
    
    .tree_handler_expand {
    	cursor: pointer;
    	color: gray;
    	list-style-image: url("images/up.png");
    }

    .tree_handler_expand a:hover {
   		background-color: blue;
   		color: yellow;
 	} 
     .tree_handler_collapse a:hover {
   		background-color: blue;
   		color: yellow;
 	} 
 		
    .tree_handler_collapse {
    	list-style-image: url("images/down.png");
    	color: gray;
      	cursor: pointer;
    }
    
    .tree_folder {
    	display: block;
    }
    
    .codecomments {
     	border: 1px solid #DDD;
     	color: gray;
     	font-family: Verdana, sans-serif;
     	padding: 3px;
     	font-size: 60%;
    }
     
    .warningnote {
     	border:1px solid #DDD;
     	color: #666;
     	font-family: Verdana, sans-serif;
     	padding: 3px;
     	font-size: 60%;
     	background-color: #FEE;
    }
    
    #minimo_jar_pane {
    	display: none;
    }
  </style>

<script type="text/javascript">
   
  	function flip(refId, refHandlerItem) {
  	
  	    if(document && document.getElementById) {
	  		refEl = document.getElementById(refId);
	
	  		if(refEl.style.display == "block") {
	  			refEl.style.display = "none";
	  			refHandlerItem.className = "tree_handler_expand";		
	  		} else {
	  		 	refEl.style.display = "block";
	  			refHandlerItem.className = "tree_handler_collapse";		
	  		}
		}
  	}
  	
  	function initflips() {
  	
  		flip('skin',document.getElementById('handler_skin'));
  		flip('locale',document.getElementById('handler_locale'));
  		flip('content',document.getElementById('handler_content'));
  		
  	}
  	
  	function showFolder() {

		if(document && document.getElementById) {
		
			var el = document.getElementById("minimo_jar_pane");
			el.style.display = "block";
                        el.scrollIntoView(true);
			// el.style.position = "absolute";
			// el.style.top = elRef.offsetTop;

		}
			
	}
	
	function closeFolder() {
		if(document && document.getElementById) {
			var el = document.getElementById("minimo_jar_pane");
			el.style.display = "none";			
		}
	}
  
  </script>

<title>Customizing Minimo - Mozilla Browser and Platform for Cellphones and Small Devices.</title>

<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">








<p class="crumbs"><em>You are here:</em> <a href="./">Minimo project page</a> &gt; <strong>Customizing Minimo</strong></p>

<h1>Customizing Minimo</h1>

<h2>Minimo UI Chrome - Overview</h2>	

<p>Most of the UI layer is provided in minimo.jar 
(<button type="button" onclick="showFolder();"> Show Minimo Chrome Structure </button>) 
which uses pre-defined XUL elements provided by the XUL Toolkit Layer.
There are many levels of customization ranging from visual style to 
layout functionality. The following index organizes the type of 
customization with the type of resource and how to information.</p> 
 
<p><img src="images/customization-layers.jpg" width="820" height="282" alt=""></p>

  <ul>
    <li>Minimo Preferences

      <ul>
        <li><a href="#customizing-pref-font">Default Font Setting</a>.</li>

        <li><a href="#customizing-pref-homepage">Default Home Page
        URL</a>.</li>

        <li><a href="#customizing-pref-font">Default Font Setting for Minimo's
        UI</a>.</li>

        <li>Special Hardware Keys Shortcuts.</li>

        <li><a href="#customizing-pref-more">More in Preferences</a>..</li>
      </ul>
    </li>

    <li>Customizing Skin

      <ul>
        <li>General Colors.</li>

        <li><a href="#customizing-style">Main Toolbar icons</a>.</li>

        <li>Context Menus.</li>
      </ul>
    </li>

    <li><a href="#customizing-ui">Customizing UI Elements</a>

      <ul>
        <li><a href="#customizing-ui-navbar">Main Toolbar</a>.</li>

        <li><a href="#customizing-ui-toolbars">Additional Toolbars</a>.</li>

        <li><a href="#customizing-ui-prefpanels">Adding Preferences</a>.</li>

        <li>Context Menus.</li>
      </ul>
    </li>

    <li>Customizing the Toolkit (XUL Elements)

      <ul>
        <li>New style to Scrollbar.</li>

        <li>Styling other items.</li>
      </ul>
    </li>

    <li>Additional Processes

      <ul>
        <li><a href="#customizing-xulrunner">Appendix 1: Running Minimo Chrome
        in the Desktop.</a></li>

        <li><a href="#customizing-package">Appendix 2: Packaging the
        Chrome</a></li>
      </ul>
    </li>
  </ul>

  <h2>Customization FAQ</h2>

  <h3>UI Skin Look and Feel</h3>

  <ul>
    <li>How do I change the look of the scroll bars?</li>

    <li>How do I set the color scheme?</li>

    <li>How do I embed logos?</li>
  </ul>

  <h3>UI Structural</h3>

  <ul>
    <li>How do I add custom buttons to the toolbar?</li>

    <li>How do I change the position of menu bars, scroll bars?</li>
  </ul>

  <h3>Behavioral and Extensions</h3>

  <ul>
    <li>How do I change how a menu bar behaves i.e. drop downs, tabs, etc</li>

    <li>How do I control how a button behaves?</li>

    <li>Can I lock down the look of certain elements, or will the user have the
    ability to change everything via a global CSS?</li>

    <li>Can I assign shortcuts for frequent tasks?</li>
  </ul>

<h2>Customizing Preferences</h2>

<p>In Minimo, part of the UI experience and functionality is associated 
to preference attributes. These values can be modified via the 
<code class="filename">all.js</code> preference file. Some of the 
preference items are exposed to end-users.</p>

<h3><a name="customizing-pref-font">Default Font Setting</a></h3>

<pre class="code">
pref("browser.display.zoomui", 10);  // This pref may be modified from Minimo. 
pref("browser.display.zoomcontent", 10);   
// This pref may be modified from Minimo. 
</pre>

<h3><a name="customizing-pref-homepage">Default Home Page</a></h3>

<pre class="code">
pref("browser.startup.homepage", "http://www.google.com/xhtml"); 
</pre>


<h3><a name="customizing-pref-more">Other preferences</a></h3>

<pre class="code">
pref("ssr.enabled", true); 
// Small Screen Settings - enables CSS for small screen. 
pref("ssr.site.enabled", true);

pref("config.wince.overrideHWKeys", false);
pref("skey.enabled", true);
</pre>

<p>
<a href="http://lxr.mozilla.org/mozilla/source/minimo/customization/all.js">Reference: all.js in LXR</a>
</p>


<h2>Customizing Skin</h2>

<p>The skin can be customized using CSS rules. The following rules are 
associated with XUL elements in Minimo.</p>

<h3><a name="customizing-style">Main Toolbar, URL bar input field 
and its image background.</a></h3>

<pre class="code">
#urlbar input {
	background-position: 0px 100%;
	background-repeat: no-repeat;
	background-image: url("chrome://minimo/skin/transfer.jpg");
	padding: 0px;
	margin: 0px;
 	border: 1px solid black;
}</pre>

<div class="warningnote">This section should be placed as the first rule - 
it's used by JavaScript code.</div>

<h3>Main Toolbar: Security Icon States</h3>

<pre class="code">
#lock-icon.security-na {
}

#lock-icon.security-broken {
    margin-left: 2px;
    list-style-image: url("chrome://minimo/skin/security-broken.png");
}

#lock-icon.security-notbroken {
    margin-left: 2px;
    list-style-image: url("chrome://minimo/skin/security-notbroken.png");
}</pre>

<h3>Main Toolbar Close Button</h3>

<pre class="code">
.tabs-closebutton-box{
    list-style-image: url("chrome://minimo/skin/close-11px.png");
}</pre>

<h3>Main Toolbar Close Button</h3>

<pre class="code">
.button-close {
  background: #CCC url("chrome://minimo/skin/close.png") no-repeat 50% 50%;
  margin-right: 4px !important;
  margin-top: 0px !important;
  border: 1px outset #bbbbbb;
}
</pre>

<h3>Main Toolbar : Navigation Buttons</h3>

<pre class="code">
#menu-button {
      background: url("chrome://minimo/skin/m.png") no-repeat 50% 50%;
      width: 20px !important;
      height: 12px !important;
}

#back-button
  {
	  list-style-image: url("chrome://minimo/skin/back.gif");
	  margin-left: 2px;
  }

#forward-button
  {
	  list-style-image: url("chrome://minimo/skin/forward.gif");
  }

#stop-button 
  {
	  list-style-image: url("chrome://minimo/skin/stop.gif");
  }

.menu-button
  {
    background: url("chrome://minimo/skin/m.png") no-repeat 50% 50%;
    width: 20px !important;
    height: 12px !important;
  }

.back-button
  {
	  list-style-image: url("chrome://minimo/skin/back.gif");
	  margin-left: 2px;
  }

.forward-button
  {
	  list-style-image: url("chrome://minimo/skin/forward.gif");
  }

.stop-button 
  {
	  list-style-image: url("chrome://minimo/skin/stop.gif");
  }

.reload-button 
  {
	  list-style-image: url("chrome://minimo/skin/reload.gif");
  }
}</pre>

<h3>UI Zoom Toolbar Icons</h3>

<pre class="code">
#uizoomplusitem {
  list-style-image: url("chrome://minimo/skin/up.png");
}

#uizoomminusitem {
  list-style-image: url("chrome://minimo/skin/down.png");
}

#zoomplusitem {
  list-style-image: url("chrome://minimo/skin/up.png");
}

#zoomminusitem {
  list-style-image: url("chrome://minimo/skin/down.png");
}</pre>

<h2><a name="customizing-ui" id="customizing-ui">Customizing UI Elements</a></h2>

<h3>General Overview - UI chrome</h3>

<p><button type="button" onclick="showFolder();"> Show minimo.jar's general structure</button>.</p>

<h3>General XUL extensions in Minimo</h3>

<p>UI elements can be customized via overlays ( 
<a href="http://developer.mozilla.org/en/docs/XUL_Overlays">XUL Overlays</a> 
) or directly editing the XUL files in minimo.jar. In future 
releases, Minimo Chrome should support an extension mechanism 
which aims to add more control to customization. Currently there 
is no registration mechanism, so additions to the XUL files are 
considered part of the Minimo Chrome core functionality. When 
editing XUL files directly, it's important to keep some of 
the controls. The following section (Main Navigation Toolbar) 
shows that <i>tabindex</i> attributes should be preserved. In further 
sections, you will see that each toolbar needs some additional 
accessibility tags defined.</p>

<h3><a name="customizing-ui-navbar">Main Navigation Toolbar ( 
minimo.jar/content/minimo.xul )</a></h3>

<p>It's possible to add new toolbar buttons or other elements in the toolbar. However it's important to preserve the accessibility attributes such as <i>accessrule</i> and the <i>tabindex</i> values.</p>

<pre class="code">
// Minimo.xul - main toolbar navigation bar. 
   
&lt;toolbar id="nav-bar" &gt;
   
    &lt;toolbarbutton tabindex="1" accessrule="focus_nav-bar" 
    id="menu-button" accesskey="m" command="cmd_BrowserMenu" /&gt;  
    &lt;toolbarbutton tabindex="2" accessrule="focus_nav-bar" 
    id="back-button" command="cmd_BrowserBack" /&gt;  
    &lt;toolbarbutton tabindex="3" accessrule="focus_nav-bar" 
    id="forward-button" command="cmd_BrowserForward" /&gt;  
    &lt;toolbarbutton tabindex="4" accessrule="focus_nav-bar" 
    id="reload-stop-button" class="reload-button" command="cmd_BrowserReload"/&gt;

    &lt;textbox tabindex="5" 
                 id="urlbar" 
                 flex="100%" 
                 type="autocomplete"
                 enablehistory="true"
                 autocompletesearch="history" 
                 completeselectedindex="true"
                 autocompletepopup="PopupAutoComplete"
                 onfocus="URLBarFocusHandler();"
                 ontextentered="return URLBarEntered();"&gt;
            &lt;hbox&gt;&lt;image id="lock-icon" 
            class="security-na" /&gt;&lt;/hbox&gt;
    &lt;/textbox&gt;

&lt;/toolbar&gt;
</pre>

<h3><a name="customizing-ui-toolbars">Adding Toolbars via XUL Overlays</a></h3>

<p>Browser Toolbars are organized in <b>~minimo.jar!/content/toolbars</b>. This 
section shows a case example, the Search Toolbar, that is included in Minimo. The 
same overlay mechanism can be used to provide an additional toolbar. The following 
link shows the source-code for the Search toolbar.</p>

<pre class="code">
<a href="http://lxr.mozilla.org/mozilla/source/minimo/chrome/content/toolbars/toolbar-search.xul">~minimo.jar/content/toolbars/toolbar-search.xul</a>
</pre>

<p>The Search Toolbar is defined via XUL Overlays. minimo.xul main 
UI has instructions to load this overlay:</p>

<p><img src="images/general-overlay.gif" width="1015" height="823" alt=""></p>

<p>When a new toolbar element is added (in the XUL itself or via 
overlay) it's important to maintain Minimo's accessibility function. 
The following section shows the <i>focusnavigation</i> element located 
in minimo.xul:</p>

<pre class="code">
&lt;focusnavigation&gt;           
   &lt;focushandler id="focus_tabcontent"     target="content" 
   accessfocus="#tabContent"  /&gt;
   &lt;focushandler id="focus_nav-bar"        target="nav-bar" 
   accessfocus="menu-button"   accessnextrule="focus_toolbar-view" 
   accessprevrule="focus_tabcontent" /&gt;
   &lt;focushandler id="focus_toolbar-view"   target="toolbar-view" 
   accessfocus="zoomplusitem"  accessnextrule="focus_toolbar-rss"
   accessprevrule="focus_nav-bar" /&gt;
   &lt;focushandler id="focus_toolbar-rss"    target="toolbar-rss"
   accessfocus="rss-close"     accessnextrule="focus_toolbar-search" 
   accessprevrule="focus_toolbar-view" /&gt;
   <b>&lt;focushandler id="focus_toolbar-search" target="toolbar-search"
   accessfocus="search-close"  accessnextrule="focus_content"
   accessprevrule="focus_toolbar-rss" /&gt;</b>
   &lt;focushandler id="focus_content"        target="content"
   accessfocus="#tabContainer" accessnextrule="focus_tabcontent"
   accessprevrule="focus_toolbar-search" /&gt;
&lt;/focusnavigation&gt;  
</pre>

<p>Each accessible element in <a href="http://lxr.mozilla.org/mozilla/source/minimo/chrome/content/toolbars/toolbar-search.xul">~minimo.jar/content/toolbars/toolbar-search.xul</a> has a <i>accessrule</i> attribute attached to it:</p>

<pre class="code">
// Example from ~minimo.jar!/content/toolbars/toolbar-search.xul
&lt;textbox tabindex="17" <b>accessrule="focus_toolbar-search"</b>  
id="toolbar-search-tag" flex="1" onchange="return DoBrowserSearch();"/&gt; 
</pre>

<p>Each focushandler element tells which is the next toolbar 
and the previous toolbar. This element supports Minimo's keyboard 
navigation.</p>

<h3><a name="customizing-ui-prefpanels">Adding Preference Panels</a></h3>

<p>Each new preference panel can be implemented using the same overlay 
pattern described previously. The main preferences navigation panel ( <a href="http://lxr.mozilla.org/mozilla/source/minimo/chrome/content/preferences/preferences.xul">~minimo.jar!/content/preferences/preferences.xul</a> ) is launched as a dialog window, which includes overlay definition to each inner panel.</p>

<pre class="code">
 
&lt;?xul-overlay href="chrome://minimo/content/preferences/pane-general.xul"?&gt;
&lt;?xul-overlay href="chrome://minimo/content/preferences/pane-advanced.xul"?&gt;
&lt;?xul-overlay href="chrome://minimo/content/preferences/pane-privacy.xul"?&gt;
&lt;?xul-overlay href="chrome://minimo/content/preferences/pane-connection.xul"?&gt;
 
</pre>

<div class="codecomments">Overlay section in <a href="http://lxr.mozilla.org/mozilla/source/minimo/chrome/content/preferences/preferences.xul">~minimo.jar!/content/preferences/preferences.xul</a>
</div>

<p>The next step is the panel implementation. <a href="http://lxr.mozilla.org/mozilla/source/minimo/chrome/content/preferences/pane-general.xul">Check out pane-general.xul example</a>. The following code snippet shows an inner panel that is part of pane-general.</p>

<pre class="code">
&lt;groupbox class='box-prefgroupitem' id='home-box'&gt; 
  &lt;caption label="Home Page"/&gt;
    &lt;box class="box-prefpadding"&gt;
      &lt;textbox id="<b>browserStartupHomepage</b>" keyup=""  tabindex="10" 
        style="margin:3px ! important;" flex="1"  onfocus="prefFocus('home-box')" 
        onblur="prefBlur('home-box')"
        onchange="syncPref(this)" <b>preference="browser.startup.homepage"</b> 
        preftype="string"/&gt;
    &lt;/box&gt;
&lt;/groupbox&gt;
</pre>

<h4>Important requisites:</h4>

<ul>
  <li>For each preference item element, add a <i><b>preference</b></i> 
attribute to it, with the preference name that maches the definition in 
<code class="filename">all.js</code></li>
  <li>Add an ID to this same element.</li>
  <li>In preferences/preferences.xul, register this ID-element, under 
the <b>preferenceset</b> section.</li>
</ul>

<pre class="code">
&lt;preferenceset id="prefsInstance" &gt;
   &lt;preferenceitem name="<b>browserStartupHomepage</b>" /&gt;
   &lt;preferenceitem name="enableImages" /&gt;
   &lt;preferenceitem name="ssr"/&gt;
   &lt;!-- ... --&gt;
&lt;/preferenceset&gt;
</pre>

<div class="codecomments">The preference item element is registered 
under preferenceset seection in preferences.xul</div>

<h2>Customizing Style in the Toolkit</h2>

<p><b>Work-in-progress note:</b> this whole section should be a 
link to existing documentation and leverage XUL tookit documentation. 
One examle should be provided to address the [How to Customize Scrollbars] 
question.</p>

<h4>classic.jar</h4>

<p>This resource represents the default theme for basic XUL elements 
defined by the XUL Toolkit. Defined the classic look for basic elements 
such as buttons, scrollbars, and more.
</p>

<ul>
  <li>Look and feel for scrollbar buttons. </li>
</ul>

<h4>toolkit.jar</h4>

<p>XUL Layer Toolkit. Contains actual implementation for the XUL 
elements such as Tabbed Browser. Usually customization happens in one 
of the above levels.
</p>

<h2><a name="customizing-chrome-framework">Appendix 1 - Running Minimo 
Chrome in the Desktop</a></h2>

<p>Minimo UI Chrome runs on top of a XUL Tookit Layer which is provided 
as part of Minimo's core functionality. The following picture 
illustrates the Mozilla Architecture and where Minimo Chrome fits. 
Because of this architecture it's possible to test and run the Minimo 
Chrome in the Desktop. Most of the UI definitions and customization 
settings can be tested on top of Firefox or XULRunner. To test Minimo 
in its full functionality, it's recommended to use a device emulator 
or simply to run in the device.</p>

<p><img src="images/architecture-and-minimo.jpg" width="676" height="764" alt=""></p>

<div class="codecomments">* XUL Runner: currently XUL Runner is not part 
of the Minimo's or Firefox build system. However, in the desktop, XULRunner 
can be used to test Minimo's Chrome Layer. </div>

<h3><a name="customizing-xulrunner">Environment and Minimo settings</a></h3>

<h4>Install XULRunner</h4>

<ul>
  <li>Download a <a 
href="http://wiki.mozilla.org/XUL:Xul_Runner#Pre-Built_Binaries">pre-built binary</a>. 
Unix/Linux builds are available from 
<a href="http://xulfr.org/download/XulRunner/">xulfr.org</a>.</li>
  <li>You may also consider using a recent 
<a href="http://www.getfirefox.com">Firefox browser</a>. </li>
</ul>

<h4>Minimo app Folder for XULRunner</h4>

<p>Minimo Chrome can be served from a directory instead using a .jar 
file. This should speed the up development time when customizing the 
user-inteface (XML and CSS content). XULRunner uses a file named 
application.ini to launch the application. Create a directory that 
represents Minimo, with the application.ini file in it and the following 
sub-directory structure:</p>

<pre class="code">
~xulrunner/minimo/
~xulrunner/minimo/chrome/
~xulrunner/minimo/defaults/
<a href="customization/xulrunner/minimo/application.ini.txt">~xulrunner/minimo/application.ini</a>
</pre>

<p>Under chrome directory unzip minimo.jar's contents:</p>

<pre class="code">
~xulrunner/minimo/chrome/content
~xulrunner/minimo/chrome/locale
~xulrunner/minimo/chrome/skin
</pre>

<p>And create ~xulrunner/minimo/chrome/chrome.manifest:</p>

<pre class="code">
content minimo             content/minimo/
locale  minimo en-US       locale/en-US/minimo/
skin    minimo classic/1.0 skin/classic/minimo/
</pre>

<p>Create <code class="filename">~xulrunner/minimo/defaults/preferences/minimo-prefs.js</code>:</p>

<pre class="code">
pref("toolkit.defaultChromeURI", "chrome://minimo/content/minimo.xul");
pref("general.useragent.extra.mybrowser", "Minimo/010");
</pre>

<p>And add the following minimo-specific preferences to it. This helps 
to improve compatibility with the device environment and allows the 
user to access more user interface flows. For example, when the 
Preference panel is displayed, it should load and save preferences 
and display the right values in the UI. Some of the actual device-specific 
behavior won't work. The file should look like the following:</p>

<pre class="code">
// XUL runner-specific prefs

pref("toolkit.defaultChromeURI", "chrome://minimo/content/minimo.xul");
pref("general.useragent.extra.mybrowser", "Minimo/010");

// Minimo specific prefs being used by the Preferences XUL 

pref("ssr.enabled", true);
pref("ssr.site.enabled", true);
pref("skey.enabled", true);
pref("browser.startup.homepage", "http://www.google.com/xhtml");
pref("browser.display.zoomui",10);
pref("browser.display.zoomcontent",10);
pref("snav.enabled", false);
pref("browser.formfill.enable", true);

</pre>

<div class="codecomments">The above list reflects some of the 
prefererences being used under the Preferences panel in Minimo 010.
</div>

<p>It can be executed calling xulrunner and passing pathto/application.ini 
as parameter:</p>

<pre class="code">
~\xulrunner\xulrunner.exe "minimo\application.ini"
</pre>

<h2><a name="customizing-package">Appendix 2 - Packaging minimo.jar</a></h2>

<p><button type="button" onclick="showFolder();">Show Minimo.jar content</button><br>
Minimo.jar is comprised of XUL, CSS, JavaScript, and other resources such 
as XML and images. In order to run in Minimo, this chrome folder has 
to be packaged using JAR format.</p>

<h3>Other customization processes</h3>


<p>It's also possible to dynamically customize settings and generate 
the package on-the-fly with a separated processes. As an example, 
server-side script could be used to dynamically update XML and 
package the directory structure as <b>minimo.jar</b>. Because 
XUL and Scripts can be executed in run-time, it's also possible 
to add synchronization mechanisms and offer remote customization 
or settings.</p>

<h2>Customizing Framework Feedback</h2>

<p>This document is work-in-progress. Please contact mgalli % mgalli.com 
with questions and feedback.</p>

<h2>Getting Involved</h2>

<p>Minimo is based on the same code that 
<a href="http://www.mozilla.com/firefox/">FireFox</a>,
<a href="http://www.mozilla.com/thunderbird/">Thunderbird</a>, and the 
<a href="http://www.mozilla.org/products/mozilla1.x/">Mozilla Suite</a> uses. 
The first place to start is understanding how to develop for this code base. 
There is a nice <a href="http://www.mozilla.org/developer/">Getting Started page</a>.</p>

<p>If you want to look at the Minimo application details, the code lives
here:</p>

<ul>
  <li>
<a href="http://lxr.mozilla.org/seamonkey/source/minimo">http://lxr.mozilla.org/seamonkey/source/minimo</a>
  </li>
</ul>

<p>Feedback and support is always desired. If you have any, please 
<a href="contact.html">contact</a> us.</p>

<div id="minimo_jar_pane">

<p><button type="button" onclick="closeFolder();">Hide minimo's jar general structure and content</button></p>

<p>Minimo.jar's general structure</p>

  <ul>
    <li id="handler_content" class="tree_handler_collapse" onclick=
    "flip('content', this)">
      <a>content</a>

      <ul id="content" class="tree_folder">
        <li onclick="flip('minimo', this)" class="tree_handler_collapse">
          <a>minimo</a>

          <ul id="minimo" class="tree_folder">
            <li id="bindings" class="tree_folder">bindings
              <ul>
                <li class="tree_xblbinding">preferences.css</li>

                <li class="tree_xblbinding">preferences.xml</li>
              </ul>
            </li>

            <li id="preferences" class="tree_folder">preferences
              <ul>
                <li class="tree_xulfile">pane-general.xul</li>

                <li class="tree_xulfile">pane-advanced.xul</li>

                <li class="tree_xulfile">pane-privacy.xul</li>

                <li class="tree_xulfile">pane-connection.xul</li>

                <li class="tree_xulfile">pane-okaycancel.xul</li>

                <li class="tree_jsfile">preferences.js</li>

                <li class="tree_xulfile">preferences.xul</li>
              </ul>
            </li>

            <li id="toolbars" class="tree_folder">toolbars
              <ul>
                <li class="tree_xulfile">toolbar-general.xul</li>

                <li class="tree_xulfile">toolbar-view.xul</li>

                <li class="tree_xulfile">toolbar-rss.xul</li>

                <li class="tree_xulfile">toolbar-search.xul</li>
              </ul>
            </li>

            <li id="rssview" class="tree_folder">rssview</li>

            <li class="tree_jsfile">minimo.js</li>

            <li class="tree_xulfile">minimo.xul</li>
          </ul>
        </li>
      </ul>
    </li>

    <li id="handler_locale" class="tree_handler_collapse" onclick=
    "flip('locale', this)">
      <a>locale</a>

      <ul id="locale" class="tree_folder">
        <li class="tree_handler_collapse" onclick="flip('en-US', this)">
          <a>en-US</a>

          <ul id="en-US" class="tree_folder">
            <li class="tree_handler_collapse" onclick=
            "flip('minimo-en-US', this)">
              <a>minimo</a>

              <ul id="minimo-en-US" class="tree_folder">
                <li class="tree_dtd">brand.dtd</li>

                <li class="tree_dtd">minimo.dtd</li>

                <li class="tree_dtd">preferences.dtd</li>

                <li class="tree_properties">brand.properties</li>

                <li class="tree_properties">minimo.properties</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>

    <li id="handler_skin" class="tree_handler_collapse" onclick=
    "flip('skin', this)">
      <a>skin</a>

      <ul id="skin" class="tree_folder">
        <li class="tree_handler_collapse" onclick="flip('classic', this)">
          <a>classic</a>

          <ul id="classic" class="tree_folder">
            <li class="tree_handler_collapse" onclick=
            "flip('minimo-classic', this)">
              <a>minimo</a>

              <ul id="minimo-classic" class="tree_folder">
                <li class="tree_css">minimo.css</li>

                <li class="tree_css">preferences.css</li>

                <li class="tree_image">back.gif</li>

                <li class="tree_image">forward.gif</li>

                <li class="tree_image">reload.gif</li>

                <li class="tree_image">stop.gif</li>

                <li class="tree_image">m.png</li>

                <li class="tree_image">rssfavicon.png</li>

                <li class="tree_image">transfer.jpg</li>

                <li class="tree_image">up.png</li>

                <li class="tree_image">down.png</li>

                <li class="tree_image">close.png</li>

                <li class="tree_image">security-broken.png</li>

                <li class="tree_image">security-na.png</li>

                <li class="tree_image">security-notbroken.png</li>

                <li class="tree_handler_collapse" onclick=
                "flip('preferences-classic', this)">
                  <a>preferences</a>

                  <ul id="preferences-classic" class="tree_folder">
                    <li class="tree_image">options.png</li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

<p><button type="button" onclick="closeFolder();">Hide minimo's jar general structure and content</button></p>

</div>

<script type="text/javascript">
// This initializes the minimo_jar_pane in its collapsed state.
initflips();
</script>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified October 14,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/minimo/customizing.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
