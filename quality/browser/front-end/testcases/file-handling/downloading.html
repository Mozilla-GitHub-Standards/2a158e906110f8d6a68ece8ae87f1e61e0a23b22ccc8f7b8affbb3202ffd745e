<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../../../images/mozilla-16.png" type="image/png">


  <meta name="generator" content=
  "HTML Tidy for Windows (vers 14 February 2006), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Style-Type" content="text/css">

  <title>Test documentation for downloading UI</title>

  <link rel="up" href="./" title="Browser/composer front-end test cases">

<link rel="section" href="#what" title="What's tested">
<link rel="section" href="#issues" title="Issues &amp; bug info">
<link rel="section" href="#coverage" title="Test coverage">

  <style type="text/css">
  span.c3 {font-style: italic; color: rgb(255, 0, 0);}
  span.c2 {color: red;}
  </style>

<script src="../../../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">







  <p class="crumbs"><em>You are here:</em> <a href="../">browser/composer
  front-end qa</a> &gt; <a href="./">front-end test cases</a> &gt; <strong>Test
  documentation for downloading UI</strong></p>

  <h1>Test Documentation for Downloading &amp; Saving UI</h1>

  <address class="author">
    Maintained by <a href="mailto:petersen@netscape.com">Chris Petersen</a>
  </address>

  <p><a name="top" id="top">This QA document covers front-end testing</a> for
  downloading from the browser (Navigator) application in Mozilla (or
  Netscape). There is a separate page for the <a href=
  "download-mgr.html">Download manager</a>.</p>

  <ul class="toc">
    <li><a href="#what">What will and will not be tested</a></li>

    <li><a href="#issues">Issues, references and bug information</a></li>

    <li><a href="#coverage">Test coverage and outline</a></li>
  </ul>

  <h3><a name="what" id="what">What will be tested</a></h3>

  <p>Test coverage will focus primarily on front-end (UI) features, and will
  include:</p>

  <ul>
    <li>How one can save files from the browser (access):

      <ul>
        <li>top-level menu: Save Page As, Save Frame As</li>

        <li>context menus: Save Link As, Save Image, Save Page As, Save Frame
        As</li>

        <li>clicking links that would initiate a download</li>

        <li>via the Helper Application (aka, "Downloading") dialog</li>
      </ul>
    </li>

    <li>File picker for saving</li>

    <li>Download progress dialog</li>

    <li>Test on the main platforms: Win32, Mac OS and Linux</li>

    <li>Overall look and feel:

      <ul>
        <li>Appearance, highlighting, navigation, modality: menu items and
        dialogs.</li>

        <li>Spelling, typos, grammar of any text/descriptions</li>
      </ul>
    </li>

    <li>Any front-end preferences?</li>
  </ul>

  <h3>What will <span class="c2">NOT</span> be tested</h3>

  <p>There are some other areas which are related to downloading UI, but they
  are either covered by other QA groups, or cannot be covered due to time
  constraints. In addition, there are some areas which might seem related (from
  an end-user perspective), but really aren't. I've listed the possible areas
  below -- along with relevant Bugzilla components which might help narrow down
  who works on what. (Unless otherwise noted, these components reside under the
  <em>Browser</em> product.)</p>

  <ul>
    <li>Back-end aspects of downloading/saving files. Some of these bugs would
    be in <em>File Handling</em>, but some might also be in the
    <em>Networking</em> components</li>

    <li>Helper applications, to launch other apps and open files. Refer to the
    <a href="helper-apps.html">helper application UI test page</a>. Many bugs,
    like downloading bugs, should go to <em>File Handling</em></li>

    <li>Actual bugs specific to the download manager now have their component,
    <em>Download Manager</em> and <a href="download-mgr.html">test
    page</a>.</li>

    <li>Files can be saved from mail. Bugs belong in either the <em>Mail Back
    End</em>, or <em>Mail Window Front End</em> components of the
    <em>MailNews</em> product</li>

    <li>File picker for opening</li>

    <li>Plug-ins (eg, QuickTime, Macromedia' Flash) and downloading plug-ins
    are a separate area and issues there belong in the <em>Plug-ins</em>
    component</li>
  </ul>

  <h3><a name="issues" id="issues">Issues, references &amp; bug
  information</a></h3>

  <p>There aren't any formal/approved UI/UE specifications for file
  downloading, but there is an engineering spec:</p>

  <ul>
    <li>Save Page options are covered under the "Save page with images" section
    at <a href=
    "../../../../../xpapps/MachVPlan/Context_Menu_Options.html">http://mozilla.org/xpapps/MachVPlan/Context_Menu_Options.html</a></li>
  </ul>

  <p>Once of the biggest issues that affects download UI is the fact that
  Mozilla starts downloading the file into a temporary location, rather than
  directly into the specified target location. This has resulted in a slew of
  behavioral and appearance issues.</p>

  <ul>
    <li>bug <a href=
    "https://bugzilla.mozilla.org/show_bug.cgi?id=55690">55690</a>: Spool file
    should be moved once the user picks a filename (saving a file creates a
    file before location is chosen)</li>

    <li>bug <a href=
    "https://bugzilla.mozilla.org/show_bug.cgi?id=129923">129923</a> (meta):
    Bugs related to pre-saving files to temp directory</li>
  </ul>

  <p>There might be some bugs in <em>XP Apps</em> or <em>XP Apps: GUI
  Features</em> (the original components), but most issues are filed within the
  <em>File Handling</em> component within <a href=
  "http://bugzilla.mozilla.org">Bugzilla</a>. Here are some handy queries:</p>

  <ul>
    <li>Currently <a href=
    "https://bugzilla.mozilla.org/buglist.cgi?bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;product=Core&amp;component=File+Handling">
    open bugs under <em>File Handling</em></a> (Unconfirmed, New, Assigned and
    Reopened)</li>

    <li>Currently <a href=
    "http://bugzilla.mozilla.org/buglist.cgi?bug_status=RESOLVED&amp;resolution=FIXED&amp;product=Core&amp;component=File+Handling">
    Resolved Fixed bugs under <em>File Handling</em></a> (but not yet
    Verified)</li>

    <li>Bugs otherwise <a href=
    "http://bugzilla.mozilla.org/buglist.cgi?bug_status=RESOLVED&amp;resolution=INVALID&amp;resolution=WONTFIX&amp;resolution=DUPLICATE&amp;resolution=WORKSFORME&amp;product=Core&amp;component=File+Handling">
    Resolved under <em>File Handling</em> as Duplicate, WorksForMe, Invalid or
    Won't Fix</a> (but not yet Verified)</li>
  </ul>

  <h3><a name="coverage" id="coverage">Test coverage &amp; outline</a></h3>

  <ul>
    <li><a href="#accept">Acceptance level</a> (baseline functionality)</li>

    <li><a href="#fxn">Functional level</a></li>

    <li><a href="#stress">Stress, boundary, negative, etc.</a></li>

    <li><a href="#adhoc">Ad hoc and regression testing</a></li>
  </ul>

  <p>The download manager has its own QA page <a href=
  "download-mgr.html">here</a>.</p>

  <p><span class="c3">Platform differences</span>. It's important to know that
  Mac OS handles files differently from Win32/Unix. When downloading a file via
  contextual-click (i.e., selecting "Save Link Target As" from the context
  menu), the download progress dialog <strong>closes automatically when
  done</strong>. By contrast, on Win32/Unix, you have the choice (by default)
  to <a href="#adhoc">toggle this behavior</a> on or off.</p>

  <h4><a name="accept" id="accept">Acceptance tests</a></h4>

  <p>Baseline testing of downloading covers a broad area, described in the
  outline below. In many cases, the file picker should appear so that you can
  designate where to save files. The file picker dialog should appear different
  than the one for opening files --in this case either its titlebar and/or
  default button has "save" rather than "open".</p>

  <ul>
    <li>Access to downloading:

      <ul>
        <li>Top-level menus: File &gt; Save Page As, File &gt; Save Frame As
        should both display the file picker.</li>

        <li>Context menus. The following context menu items should also, when
        selected, bring up the file picker:

          <ul>
            <li>Save Page As, Save Frame As</li>

            <li>Save Link As</li>

            <li>Save Image</li>
          </ul>
        </li>

        <li>The keyboard shortcut <kbd>Ctrl+S</kbd> (<kbd>Cmd+S</kbd> in Mac
        OS) should bring up the file picker.</li>

        <li>Downloadable links: Clicking some links can initiate downloading,
        often by first displaying the Helper Application dialog. <em>Whether or
        not this dialog appears after clicking such a link depends on your
        settings -- and, moreover, what its setting are depend on how your
        system is setup. Refer to the <a href="helper-apps.html">Helper
        Application test page</a> for more information</em> . However, regular
        file saving (rather than opening the file with an external application)
        from this dialog is done by clicking its Save button, which launches
        the file picker.

          <ul>
            <li>Example: Go to <a href=
            "http://www.mozilla.org/">http://mozilla.org</a> , and in the
            "Nightly Builds" section, click on any of the platform build
            links.</li>
          </ul>
        </li>

        <li>Shift+clicking a link in Win32 and Linux/unix should launch the
        file picker --behave the same way as selecting Save Link As from the
        context menu. On Mac OS, Option+clicking a link does the same
        thing.</li>
      </ul>
    </li>

    <li>File picker for saving. General appearance as of this writing:

      <ul>
        <li>Linux uses the <a href="img/linux-filepicker.png">XUL-based file
        picker</a></li>

        <li>Win32 uses its own native file picker</li>

        <li>Mac OS also uses its own native file picker on <a href=
        "img/macosx-filepicker.png">OS 10.x</a> and OS 9.x</li>

        <li>Basic usage (all): Make sure the Cancel and Save buttons work,
        respond fine.</li>
      </ul>
    </li>

    <li>Download progress dialog displays the progress of the download. It's a
    cross-platform feature, so <a href="img/download-progress.png">its
    appearance</a> is more or less the same across different OS's.</li>

    <li>Simple downloading test:

      <ol>
        <li>Open browser to <a class="moz-txt-link-freetext" href=
        "http://www.mozilla.org/mozorg.html">http://www.mozilla.org/mozorg.html</a></li>

        <li>From the toplevel menu, select File &gt; Save Page As</li>

        <li>In the resulting file picker, make sure "Web Page, complete" is
        selected.</li>

        <li>Choose a target directory (eg, your desktop or home
        directory).</li>

        <li>Click the Save button.</li>

        <li>After download has completed (the Cancel button in the download
        progress dialog will turn to Close), verify that the file mozorg.html
        is saved, as well as folder called 'mozorg_files' which contains 2
        items: the mozilla banner .gif file and the persistentstyle.css
        file.</li>

        <li>Test opening mozorg.html locally to make sure it looks the
        same.</li>
      </ol>
    </li>
  </ul>

  <h4><a name="fxn" id="fxn"></a>Functional tests</h4>

  <p>In addition to acceptance tests, there's quite a bit of testing needed at
  a deeper level. Steps for these are more or less the same as described for
  the acceptance tests.</p>

  <ul>
    <li>File picker for saving

      <ul>
        <li>Choosing download location

          <ul>
            <li>Change location: another directory, another drive/partition,
            etc.</li>

            <li>Create new directory</li>

            <li>Download into directory with different privs</li>
          </ul>
        </li>

        <li>Choosing download option. This depends on the download case (see
        below). For an HTML page you should see and test three options:

          <ul>
            <li>Web page, complete: Should save</li>

            <li>Web page, HTML only</li>

            <li>Text file</li>
          </ul>
        </li>

        <li>Default suggested file names, in order of precedence

          <ul>
            <li>Use name suggested by HTTP headers, eg,
            Content-disposition</li>

            <li>Use the actual file name, if present</li>

            <li>Use title of document</li>

            <li>Use link content (caller-provided name)</li>

            <li>Use hostname</li>
          </ul>
        </li>

        <li>Allow and respect user-specified file names</li>

        <li>Repeating the same downloads should:

          <ul>
            <li>Remember the last download location used</li>

            <li>Remember the last download option used</li>

            <li>When the file name is unchanged, should be prompted if you want
            to Replace or Cancel.</li>
          </ul>
        </li>
      </ul>
    </li>

    <li>Download progress dialog

      <ul>
        <li>Confirm that the following features work and appear as expected:

          <ul>
            <li>Saving From:</li>

            <li>To:</li>

            <li>Status:</li>

            <li>Time Left:</li>

            <li>Elapsed Time:</li>

            <li>Progress: and percentage</li>

            <li>Keep this window open after the download is complete
            checkbox</li>

            <li>Cancel/Close button</li>

            <li>Launch File

              <ul>
                <li>Doesn't work on Unix: Disabled there (<a href=
                "https://bugzilla.mozilla.org/show_bug.cgi?id=90008">90008</a>),
                pending fix of <a href=
                "https://bugzilla.mozilla.org/show_bug.cgi?id=67001">67001</a></li>
              </ul>
            </li>

            <li>Reveal Locaton</li>
          </ul>

          <ul>
            <li><span class="c3">ftp-only</span>. Pause/Resume button: Since
            the Pause/Resume feature is not implemented for http:// (bug
            <a href=
            "https://bugzilla.mozilla.org/show_bug.cgi?id=98288">98288</a>),
            that button will only appear for ftp:// downloads. Currently
            displays a minor paint problem, bug <a href=
            "https://bugzilla.mozilla.org/show_bug.cgi?id=117505">117505</a>.</li>
          </ul>
        </li>

        <li>Test cases for UI cleanliness (btw, these are all http://
        downloads):

          <ol>
            <li>View a plaintext page, then save as text (that's the only
            option).</li>

            <li>View a web page with image/etc content like <a href=
            "http://www.mozilla.org/">http://www.mozilla.org/</a>, then save as
            text.</li>

            <li>Like 2, but save as HTML only.</li>

            <li>Like 2, but save as complete.</li>

            <li>View a simple web page, with no external content, save as
            text.</li>

            <li>Like 5, but save as HTML only.</li>

            <li>Like 5, but save as complete.</li>

            <li>View http directory listing, save as text.</li>

            <li>Like 8, but save as HTML only.</li>

            <li>Like 8, but save as complete.</li>

            <li>View ftp listing, do save as (only have one option of
            All).</li>
          </ol>
        </li>
      </ul>
    </li>

    <li>Downloading cases: Test via top-level menu, context menu and/or Accel+S
    where applicable.

      <ul>
        <li>Simple HTML page, no images or links</li>

        <li>HTML page with images and/or other content</li>

        <li>Plaintext page</li>

        <li>FTP listing (ftp://)</li>

        <li>HTTP listing (http://)</li>

        <li>XUL file listing (file:///)</li>

        <li>Frameset and frames</li>

        <li>Image only</li>
      </ul>
    </li>

    <li>Downloading cases: Downloadable links which might trigger the Helper
    Application dialog (depending on individual user settings), after which
    "Save this file to disk" is selected.

      <ul>
        <li>HTTP download links</li>

        <li>FTP download links</li>

        <li><span class="c3">If time/setup permits</span>. Local file
        (file:///) download links</li>
      </ul>
    </li>
  </ul>

  <h4>Downloading tests</h4>

  <p>HTTP links. Click on the links below to start downloading. btw, files 3 -
  5 below are bogus --the extension should trip the appropriate dialog,
  however.</p>

  <ul>
    <li><a href="../xpapps-gui/files/test-ball1.tar">test-ball1.tar</a></li>

    <li><a href=
    "../xpapps-gui/files/test-ball2.tar.gz">test-ball2.tar.gz</a></li>

    <li><a href="../xpapps-gui/files/test-ball3.zip">test-ball3.zip</a></li>

    <li><a href="../xpapps-gui/files/test-ball4.bin">test-ball4.bin</a></li>

    <li><a href="../xpapps-gui/files/test-ball5.exe">test-ball5.exe</a></li>

    <li>To test a file which used to bring up the old Unknown File Type dialog
    [jar file]: <a href="../xpapps-gui/files/toolkit.jar">toolkit.jar</a></li>
  </ul>

  <p>FTP links. Click on the links below to start downloading. These are big
  files from the "latest" mozilla build directory --i tried to get the
  "smaller" ones. ;-)</p>

  <ul>
    <li><a href=
    "ftp://ftp.mozilla.org/pub/mozilla/nightly/latest/embed-i686-pc-linux-gnu.tar.gz">
    latest tar.gz ball</a></li>

    <li><a href=
    "ftp://ftp.mozilla.org/pub/mozilla/nightly/latest/mozilla-win32.zip">latest
    zip</a></li>

    <li><a href=
    "ftp://ftp.mozilla.org/pub/mozilla/nightly/latest/mozilla-mac-headers.sea.bin">
    latest bin</a></li>

    <li><a href=
    "ftp://ftp.mozilla.org/pub/mozilla/nightly/latest/mozilla-win32-installer.exe">
    latest exe</a></li>
  </ul>

  <h4><a name="stress" id="stress">Stress, boundary, negative, etc.</a></h4>

  <p>Stress and boundary testing will be covered as time permits, especially if
  issues are encountered during ad hoc testing.</p>

  <ul>
    <li>Files with very long names</li>

    <li>Having multiple downloads (dependent on download manager
    implementaton)</li>

    <li>Very large files</li>

    <li>Very small files</li>

    <li>Cached vs non-cached files</li>

    <li>? Saving file types inlined within the the browser. eg, Plug-in content
    like Flash, PDF (using the acrobat plugin, not helper application),
    QuickTime, etc.</li>

    <li>etc.</li>
  </ul>

  <h4><a name="adhoc" id="adhoc">Ad hoc &amp; regression testing</a></h4>

  <p>Ad hoc testing is covered by users in the Internet community, as well as
  casual use. Due to time constraints, regression testing will encompass:</p>

  <ul>
    <li>Verification of Resolved (Fixed ones get priority) bugs as they come
    in.</li>

    <li>Periodic verification (eg, milestone deadlines) of Big Issues to make
    sure they're still fixed. This would go hand in hand with the usual testing
    that occurs during those periods.</li>

    <li>Ad hoc testing with daily builds.</li>
  </ul>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../../../sitemap.html">Site Map</a></li>
<li><a href="../../../../../security/">Security Updates</a></li>
<li><a href="../../../../../contact/">Contact Us</a></li>
<li><a href="../../../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified November 25,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/browser/front-end/testcases/file-handling/downloading.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
