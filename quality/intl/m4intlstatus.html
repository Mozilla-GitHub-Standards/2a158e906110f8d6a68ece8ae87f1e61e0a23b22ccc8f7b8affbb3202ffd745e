<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Katsuhiko Momoi">
   <meta name="GENERATOR" content="Mozilla/4.6 [en] (WinNT; I) [Netscape]">
   <title>M4 Internaitonal Build &amp; Testing Status</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<center>
<h2>
<b><font color="#000000">M4 International features and testing hints</font></b></h2></center>

<center>by <a href="mailto:momoi@netscape.com">Katsuhiko Momoi</a>
<br>Last Update: 4/19/99</center>

<p><b>Note:</b> M4 is a stabilized build from the source of around 4/9
to 4/12/99. Its international features are described below.&nbsp; The next
Milestone (M5) features are now implemented gradually in the new builds
since that point. To learn what features have been added since this Milestone
release, go to the current status page below.
<p><b>For the current up-to-date status:</b> see <a href="intlstatus.html">here</a>:
<h2>
<b><font color="#FF0000"><font size=+1>International Highlights for M4:</font></font></b></h2>

<ul>
<li>
<b>Display many languages: </b>Many Unicode to/from native charsets converters
have been added. This makes it possible to view documents in Western, Central
European, Greek, Turkish, Japanese, Traditional Chinese, Simplified Chinese,
Korean and Unicode (UTF-8).</li>

<li>
<b>No font setting required: </b>We have implemented multi-font rendering
with Windows GFX. This will let us use multiple fonts to display characters.
If a character is not found in one font, Mozilla will search in other available
fonts to locate the character and use it. This eliminates&nbsp; restrictions
we had in Communicator 4.x which tied a font to a particular encoding.
Mac can display many languages as well to the limit of available fonts.
On Linux, though it uses multi-font rendering, the display is currently
limited to Latin 1 and Japanese.</li>

<li>
<b>prefs.js for Mail: </b>prefs.js was required for M3's font settings.
But this is no longer required. But prefs.js settings is still required
for mail server settings for those interested in running Mail.</li>

<li>
<b>Multilingual Mail headers: </b>With Mail, the thread pane now can display
non-ASCII headers such as Latin 1, Japanese, Korean, etc. as long as your
system has fonts containing the necessary characters.</li>

<li>
<b>Mail Body can show only Latin 1</b>: For M4, only Latin 1 message body
works OK. Japanese display is not enabled properly yet.</li>
</ul>
<b><font color="#FF0000"><font size=+1>Testing hints For M4: </font></font></b>(M4
binary build is <a href="ftp://ftp.mozilla.org/pub/mozilla/nightly/">here</a>.
Those who want to build from source should visit <a href="http://www.mozilla.org/source.html">here</a>.
A sample prefs.js for International Mail incorporating all the suggestions
below can be found <a href="http://www.mozilla.org/quality/intl/m4/">here</a>:)
<ul>
<li>
For Browser display, if the page is not in Latin 1, then it needs to have
a Meta charset tag in the document since there is no character set menu
to change the encoding setting for this build. Netscape CJK home pages
bear Meta Charset tags. (e.g. <a href="http://home.netscape.com/ja">Japan</a>,
<a href="http://home.netscape.com/ko">Korea</a>,
<a href="http://home.netscape.com/zh/tw">Hong
Kong/Taiwan</a>, <a href="http://home.netscape.com/zh/cn">China</a>)</li>

<li>
Although we now have mechanisms to utilize any font available to display
web pages, i.e. an encoding choice is not tied to a single font, Mac's
layout mechanism will be re-written extensively in M5. In this sense, there
is not much point in testing Mac's multilingual display at this point.
For now you might want to limit Mac browser testing to a minimum. Unix
currently displays only Western and Japanese. This too should be much improved
by M5.</li>

<li>
For Mail, the features which work half-way decent at this point are: 1)
Multi-lingual header display and 2) Sending Latin 1 Mail.</li>

<li>
For Mail testing, some entries in prefs.js for M4 have changed from M3.
Use the new template found below to create your own server and mail directory
settings:<br>
<BR></li>

<br><a href="http://www.mozilla.org/quality/intl/m4/">http://www.mozilla.org/quality/intl/m4/</a>&nbsp;
(A sample prefs.js can also be found in the M4 release notes referenced
below.)
<p>Also review the M4 Mail notes found in the M4 release notes here:
<p><a href="http://www.mozilla.org/projects/seamonkey/release-notes/m4.html">http://www.mozilla.org/projects/seamonkey/release-notes/m4.html</a>
<br>&nbsp;
<li>
Use Communicator 4.5x to send out messages with various language headers
for viewing with 5.0.</li>

<li>
For mail sending on Windows, it is important that there exists a line in
the prefs.js as follows -- this may not be clear from the note in M4 Release
notes:</li>

<p><br>user_pref("browser.download_directory", "C:\\tmp\\");
<p>This is where temporary mail files will be written before a message
is sent out. Without this line, no mail will go out.
<li>
To send out international mail (so far working well only for Latin 1),
you need to insert the following lines into the prefs.js:</li>

<p><br><tt>user_pref("intl.charactesr_set_name", "iso-8859-1");</tt>
<br><tt>user_pref("mail.strictly_mime_headers", 1);</tt>
<p><tt>Note the misspelling in the 1st line. Don't correct this! Mail will
not go out as iso-8859-1 otherwise.</tt>
<br>&nbsp;
<li>
To run various components:&nbsp; you can do this in one of 2 ways.</li>

<ul>
<li>
First bring up the browser window via 'apprunner'. Then choose Mail or
Editor component via the Task Menu.</li>

<li>
Alternatively you can use the command line prompt with an option: 1) apprunner
(-browser), 2) apprunner -mail, 3) apprunner -editor</li>
</ul>

<li>
If you need a multilingual font for non-CJK Windows 95/98/NT4 or for CJK
Windows 98/NT4, try the Bitstream Cyberbit font provided <a href="ftp://ftp.netscape.com/pub/communicator/extras/fonts/windows/Cyberbit.ZIP">here</a>:</li>
</ul>

<p><br><b><font size=+1>International Browser additions/changes for M4:</font></b>
<ul>
<li>
The list of converters to/from Unicode now include:</li>

<br>&nbsp;
<ul>
<li>
<b>Single Byte:</b> Western (ISO-8859-1, Windows-1252, MacRoman), Central
European (ISO-8859-2, Windows-1250, MacCE), Greek (<font color="#000000">ISO-8859-7,Windows-1253,
MacGreek</font>), Turkish (ISO-8859-9 aka Latin5, Windows-1254, MacTurkish)</li>

<ul>&nbsp;</ul>

<li>
<b>Multi Byte:</b> Japanese (Shift_JIS, EUC-JP,ISO-2022-JP), Traditional
Chinese (Big5, EUC-TW), Simplified Chinese (GB2312), Unicode (UTF-8), Korean
(EUC-KR)</li>

<ul>&nbsp;</ul>
</ul>

<li>
Windows GFX uses multiple fonts to render Unicode text. (Note: 5.0's rendering
is done after the text data is converted from native charset into Unicode.)
There is no longer need to use the M3-type font settings in <b>prefs.js</b>
file to view Japanese and other pages. The recommended method is eliminate
these font setting lines in case you're using <b>prefs.js</b> for mail
testing. In case you don't have a font required for display of characters
beyond your current Windows fonts, you can download a free Windows multilingual
font from the site below:</li>

<p><br><a href="ftp://ftp.netscape.com/pub/communicator/extras/fonts/windows/Cyberbit.ZIP">ftp://ftp.netscape.com/pub/communicator/extras/fonts/windows/Cyberbit.ZIP</a>
<p>Known problems:
<br>&nbsp;
<ul>
<li>
Crashes on Japanese Windows 95 with certain pages. There is a workaround
for this but it uses specific font setting for each character set effectively
nullifying multi-font rendering mentioned above.&nbsp; If you're plagued
by this problem, you can use the kind of font setting we did in prefs.js
as a temporary measure.&nbsp; (See bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=4800">4800</a>)</li>

<br>&nbsp;
<li>
Printing on Windows uses the wrong font (a sans serif font). (bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=4875">4875</a>)</li>

<br>&nbsp;
<li>
Certain characters such as euro are not displayed.</li>

<br>&nbsp;</ul>

<li>
Mac GFX uses ATSUI to render Unicode text. There are no major changes between
M3 and M4 in this area except that non-ASCII font names now can be used
in FONT face tag.</li>

<br>&nbsp;
<li>
Linux GFX uses multiple font to render Unicode text. Currently it takes
Latin-1 and Japanese (JISX0208) fonts only. Known problems:</li>

<br>&nbsp;
<ul>
<li>
Japanese fonts are large compared with Latin, causing overlap with lines
above. You can use an environment variable to alleviate this problem:</li>

<br><tt>setenv GECKO_FONT_SIZE_FACTOR 1.5</tt>
<br>&nbsp;
<li>
Windows CP 1252 characters such as smart quotes are taken from Japanese
font, which is often too large compared to Latin font.</li>

<br>&nbsp;</ul>

<li>
The following restrictions from M3 still apply:</li>

<br>&nbsp;
<ul>
<li>
In order to display (Non-Latin1) Page, they must have charset info in &lt;META>
tags. If you know good pages which have charset Meta tags for testing purposes
in the newsgroup, please post to: <a href="news://news.mozilla.org/netscape.public.mozilla.qa.i18n">netscape.public.mozilla.qa.i18n</a>.</li>

<br>&nbsp;
<li>
Need to click Reload to correctly display the first part of (a non-Latin1)
page. (bugs <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=2143">2143,</a><a href="http://bugzilla.mozilla.org/show_bug.cgi?id=3965">3965</a>,
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=4553">4553</a>)</li>

<br>&nbsp;</ul>

<li>
Line wrapping should work for all the alphabetic scripts, Japanese, Korean
and Chinese. There is a known bug about line wrapping between tags. (bug
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=4240">4240</a>)</li>

<br>&nbsp;
<li>
Non-Latin 1 HTML won't be displayed correctly in FRAME, even with the META
tag charset. (bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=3921">3921</a>)</li>
</ul>

<h4>
<font size=+1>International Editor: (early prototype)</font></h4>

<ul>
<li>
M4 provides limited support for Japanese input on Windows. Right now, we
only support Japanese input when a single editor window is open. All of
the application's other windows must be closed. The support does not include
the correct user interface elements, only data entry. This is a very early
prototype. Please do not submit bugs yet. But we welcome design/development
support. (<b>Note:</b> The easiest way to open the single Editor window
is to use: 'apprunner -editor' from the command line prompt.)</li>
</ul>

<h4>
<font size=+1>International Mail additions/changes for M4:</font></h4>

<ul>
<li>
Platforms: Win32 only.</li>

<br>&nbsp;
<li>
US Windows can display Latin 1 mail body as long as appropriate fonts are
present on the system.&nbsp; No special font settings are required for
Latin 1 display&nbsp; -- for Mail server settings,&nbsp; modify the prefs.js
file as mentioned above.</li>

<br>&nbsp;
<li>
M4 does not display Japanese message body. This is a regression from M3
because this area of the code has been rewritten. We will announce to the
mozilla.i18n newsgroup, when we have this working again. (bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=2671">2671</a>,
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=3889">3889</a>)</li>

<br>&nbsp;
<li>
The thread pane is enabled to see Japanese (ISO-2022-JP) and Latin (ISO-8859-1)
MIME-2 encoded headers (and also other languages such as Korean &amp; Chinese).&nbsp;
Non MIME-2 encoded headers won't be displayed correctly. You can see both
Latin1 and Japanese simultaneously -- an advancement over all previous
Netscape browsers! Again, there is no special font settings required as
long as proper fonts are on the system.</li>

<br>&nbsp;
<li>
Mail sending encodes ISO-8859-1 text in headers (To: CC: and Subject:)
into MIME-2 encoding. Put the following line into prefs.js to enable this
feature:</li>

<p><br><tt>user_pref("intl.charactesr_set_name", "iso-8859-1");</tt>
<br>Please notice a typo (an extra '<b><font size=+2>s</font></b>' ) is
in the key -- it should be "intl.characte<b><font size=+2>s</font></b>r_set_name",
but not "intl.character_set_name" for now. This problem will be fixed later.
(bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=4029">4029</a>)</ul>

<h4>
<font size=+1>Features that are not supported in M4:</font></h4>

<ul>
<li>
No CJK IME support on Mac and Linux.</li>

<li>
Linux can only view Latin and Japanese.</li>

<li>
"View|Character Set" menu is not functional. (bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=2341">2341</a>)</li>

<li>
No Japanese Auto-Detect.</li>

<li>
No Japanese mail composition (including forward and reply).</li>

<li>
No MIME-compliant Latin1 mail composition (M3 strips out 8-bit characters
in email).</li>

<li>
No posting non-ASCII forms data.</li>

<li>
No CJK printing on Linux.</li>

<br>HTTP charset won't be handled.</ul>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified April 19,  1999</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/intl/m4intlstatus.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
