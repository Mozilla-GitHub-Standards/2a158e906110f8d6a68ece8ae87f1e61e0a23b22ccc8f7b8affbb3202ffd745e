<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../../images/mozilla-16.png" type="image/png">


  <meta name="generator" content=
  "HTML Tidy for Windows (vers 14 June 2007), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="Author" content="Yuying Long">

  <title>Test Cases for Browser Charset Handling Part I</title>

  <link rel="up" href="../" title=
  "Browser International Quality Assurance Test Case index">
  <link rel="subsection" href="#deploy" title="Setup &amp; Deployment">
  <link rel="subsection" href="#platforms" title="Platform Combinations">
  <link rel="subsection" href="#testcases" title="Test Cases">
  <link rel="subsection" href="#charsetmenu" title="Charset menu">
  <link rel="subsection" href="#autodetectwithout" title=
  "Auto-Detect without charset meta">
  <link rel="subsection" href="#autodetectwith" title=
  "Auto-Detect with charset meta">

<script src="../../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">








  <p class="crumbs"><em>You are here:</em> <a href=
  "../">Browser <abbr title="International Quality Assurance">IQA</abbr>
  Test Case index</a> &gt;
  <strong>Test cases description for Charset Handling part I</strong></p>

  <h1>Test Cases for Browser Basic Charset Handling Part I:<br>
  Charset menu and Auto-Detect</h1>

  <address class="author">
    Updated by software engineer Yuying Long <!--ylong@netscape.com-->
  </address>

  <ul class="toc">
    <li><a href="#deploy">Setup and Deployment</a></li>

    <li><a href="#platforms">Platform Combinations</a></li>

    <li>
      <a href="#testcases">Test Cases</a>

      <ol>
        <li><a href="#charsetmenu">Charset menu</a></li>

        <li><a href="#autodetectwithout">Auto-Detect without charset meta
        tag pages</a></li>

        <li><a href="#autodetectwith">Auto-Detect with charset meta tag
        pages</a></li>
      </ol>
    </li>
  </ul>

  <h2><a name="deploy" id="deploy">Setup and Deployment</a></h2>

  <ol>
    <li>This is a basic <abbr title="internationalization">i18n</abbr>
    Browser feature. Fonts for i18n testing (e.g.
    Japanese fonts, Chinese fonts...etc.) are needed in order to run under
    the environment to display and input
    <abbr title="internationalization">i18n</abbr> data correctly.</li>

    <li>This document is only for testing Charset handling in Browser. It
    is not for testing in Composer, Mail/News...etc.</li>

    <li>Please go to <a href="testcase-CharsetHandlingII.html">Charset
    Handling Part II</a> to check the test cases for Charset priority and
    override.</li>

    <li>This document is for pages that without frame(s), please also go to
    Charset Handling Part II to check the test cases for those pages that
    has frame(s).</li>

    <li>This document is working for both mozilla and netscape products,
    create user's own test data might be needed for their own test
    purpose.</li>

    <li>If there is any problem has been found during the testing, please
    go to http://bugzilla.mozilla.org log a bug for Browser product and
    Internationalization for component.</li>

    <li>Any live web page in this document could be changed any time, so
    they may not contain the information mentioned here.</li>

    <li>Please report bugs in bugzilla.mozilla.org under Browser product
    with Internationalization component.</li>
  </ol>

  <h2><a name="platforms" id="platforms">Platform Combinations</a></h2>

  <h4>Platforms</h4>

  <p>PC and Macintosh</p>

  <h4>Operating Systems</h4>

  <ul>
    <li>Windows (XP, 2000, NT, ME, 98... etc.)</li>

    <li>Linux Red Hat 6.2, 7.1, 7.2, 7.3...etc.</li>

    <li>Mac OS X, 9.x</li>
  </ul>

  <h4>Charsets:</h4>

  <p>Here are some charset examples for some languages:</p>

  <ul>
    <li>Japanese (Shift-JIS, EUC-JP, ISO-2022-JP)</li>

    <li>Traditional Chinese (Big5, EUC-TW, Big5HKSCS)</li>

    <li>Simplified Chinese (GB2312, GBK, HZ, GB18030)</li>

    <li>Korean (EUC-KR, UHC, JOHAB, ISO-2022-KR)</li>

    <li>Western (ISO-8859-1, ISO-8859-15...)</li>

    <li>... etc.</li>
  </ul>

  <p class="note">Some charset could be represented differently, e.g.
  SHIIFT-JIS could be x-jis, Shift-jis, Big5 could be Big-5...etc.</p>

  <h2><a name="testcases" id="testcases">Test Cases</a></h2>

  <h3><a name="charsetmenu" id="charsetmenu">1. Charset Menu</a></h3>

  <p>This part focus on the menu appearance, for how the charset menu
  should be marked will going to discuss in other parts.</p>

  <table class="data">

    <col>
    <col>
    <col>
    <col>

    <thead>
      <tr>
        <th scope="col">Test Case #</th>

        <th scope="col">Objective</th>

        <th scope="col">Steps To Perform</th>

        <th scope="col">Expected Results</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td rowspan="2">1-1</td>

        <td rowspan="2">First Tier charset menu</td>

        <td valign="top">1). Launch browser, View | Character Coding:</td>

        <td>
          <ul>
            <li>There should be a solid line separator in the sub-menu of
            Character Coding.</li>

            <li>Above the separator line, there should be 3 items:<br>
             Auto-Detect, More, Customize...</li>

            <li>Below the separator line, there should be some specified
            charset(s) list there.</li>

            <li>There must be one marked charset.</li>

            <li>This is an example screen shot of Character Coding sub
            menu:
            <img src="menuA.jpeg" height="177" width="198" alt=""></li>
          </ul>
        </td>
      </tr>

      <tr>
        <td valign="top">2). Visit different charset pages by:
        <ol style="list-style-type: lower-alpha;">
        <li>Find some
        test pages of double byte, high ascii pages <a href=
        "../../intl_data/testpages.html">here</a>, or visit some other
        language web pages suitable for the test.</li>
        <li>Create some html files with different charsets.</li>
        </ol></td>

        <td valign="top">
          <ul>
            <li>Up to 5 items with recent encodings w/ most recent at top,
            we call this menu as dynamic charset menu.</li>

            <li>There should be no limit to how many static encoding items
            can appear here via Customize ... Pref Dialog. - see case 1-2.
            Windows resolution may need to be adjusted if you want to view
            a long charset list completely.</li>

            <li>The total encoding items should be: static encoding
            items + up to 5 recent encoding items which are
            not duplicates of static encoding items.</li>

            <li>The charset is marked for the current document.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td rowspan="4">1-2</td>

        <td rowspan="4">About Customized...</td>

        <td valign="top">1). Select menu item "Customize..." from View |
        Character Coding.<br>
        2). Bring up "Customize Character Coding" dialog.<br>
        3). Highlight a charset from "Available Character Codings" field,
        and click on "Add" button.<br>
        4). The charset will be added in "Active Character Codings"
        field.<br>
        5). Add more than one charset by repeating steps 3) and 4) or:<br>
        Press <kbd>Shift</kbd> or <kbd>Ctrl</kbd> key and highlight
        multiple charsets from "Available Character Codings" field, and
        click on "Add" button to add them into "Active Character Codings"
        field.</td>

        <td>
          <ul>
            <li>The target charset(s) should be added into the static
            encoding items of Character Coding menu.</li>

            <li>The encoding list order in Character Coding menu should
            follow the order of the charsets in "Active Character
            Codings".</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td>6). Highlight a charset, click on "Up" or "Down" button to move
        it up or down.</td>

        <td>User should be able to modify/customize the order of static
        encoding items.</td>
      </tr>

      <tr>
        <td>7). Press <kbd>Shift</kbd> or <kbd>Ctrl</kbd> key and highlight
        charset(s) and click on "Remove" button to remove charset(s) from
        "Active Character Coding".</td>

        <td>The charset(s) should be removed from the static encoding menu
        item.</td>
      </tr>

      <tr>
        <td>8). With this Customize Character Coding dialog, Click on
        "Cancel" button after any action.</td>

        <td>The change(s) should not effect of charset static menu.</td>
      </tr>

      <tr>
        <td>1-3</td>

        <td>Second tier charset menu: Auto-Detect</td>

        <td>See case 2 for "Auto-detect".</td>

        <td>See the details in case 2.</td>
      </tr>

      <tr>
        <td rowspan="2">1-4</td>

        <td rowspan="2">Second tier charset menu: "More"
        and entire charset/encoding list</td>

        <td valign="top">1). Launch browser, select menu item "More" from
        View | Character Coding.</td>

        <td valign="top">
          <ul>
            <li>There should be a solid line separator.</li>

            <li>Above the separator line, there should be 5 language group
            items:<br>
            West European, East European, East Asian, SE &amp; SW Asian and
            Middle Eastern.<br>
            Each one of the language groups should expand a sub menu for
            each encoding/charset.</li>

            <li>Below the separator line, there should be 3 items:<br>
            Unicode (UTF-8), Unicode (UTF-7) and User Define.<br>
            <span class="note">User Define is the charset that can be
            edited in Preferences for user own usage.</span></li>

            <li>This is the screen shot for sub-menu under "More":
            <img src="menuC.jpeg" alt="Sub-menu for &quot;More&quot;"
            height="136" width="135"></li>
          </ul>
        </td>
      </tr>

      <tr>
        <td valign="top">2). Click on each language encoding/charset group
        menu.</td>

        <td>
          <ul>
            <li>Under each language group, the language names should be
            sorted according to the OS you are using, except under the West
            European language group in which the "Western" language should
            always be on the top of the list.</li>

            <li>Within items that have the same language names (i.e.
            language names that have more than one encoding method), they
            are sorted by the encoding name according to the OS you are
            using.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td rowspan="2">1-5</td>

        <td rowspan="2">Add charset from "More" into first tier
        charset</td>

        <td valign="top">1). Select a charset from View | Character Coding
        | More.</td>

        <td>
          <ul>
            <li>If selected charset does not exist in the first tier
            charset menu before, then it will now appear in the first tier
            menu, and this charset will be marked.</li>

            <li>If selected charset already existed in the first tier
            character menu, then that charset will be marked. The same
            charset should not have 2 entries in the first tier menu.</li>

            <li>The page should be reloaded and should be displayed
            according to the selected charset.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td>2). Select some other charset(s) from View | Character Coding |
        More.</td>

        <td>
          <ul>
            <li>Up to 5 items of recent encodings will be displayed in the
            first tier menu, with the most recent one at the top.</li>

            <li>The charset that was selected last will be marked as the
            most recent selected one.</li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>

  <h3><a name="autodetectwithout" id="autodetectwithout">2. Auto-detect
  without charset meta-tag pages</a></h3>

  <table class="data">

    <col>
    <col>
    <col>
    <col>

    <thead>
      <tr>
        <th scope="col">Test Case #</th>

        <th scope="col">Objective</th>

        <th scope="col">Steps To Perform</th>

        <th scope="col">Expected Results</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>2-1</td>

        <td>Pages without charset meta-tag but with HTTP server or header
        charset info.</td>

        <td>Load pages that do not contain meta-charset, but have charset
        information in HTTP server or HTTP header, e.g.:<br>
        http://www.yahoo.co.jp. (<span class="note">this example web page is usable as
        of the test case's writing; it could be changed any time that
        caused different HTTP server information to be loaded</span>)</td>

        <td>Page(s) should always display properly, and the same
        charset/encoding should be marked consistently no matter how
        auto-detect options are set.</td>
      </tr>

      <tr>
        <td>2-2</td>

        <td>Load pages without charset meta-tag</td>

        <td valign="top">1). Launch browser, keep the Auto-detect OFF by
        default.<br>
        2). Visit some pages that DO NOT HAVE charset meta-tag (there is no
        charset information in page source Content-Type) by:
        <ol style="list-style-type: lower-alpha;">
        <li>Find some test pages <a href=
        "../../intl_data/testpages.html">here</a> or on the internet.</li>
        <li>Create an i18n html file without meta-charset.</li>
        </ol></td>

        <td>
          <ul>
            <li>The Charset/Encoding in Browser should be marked as the
            default charset that setting in Preferences | Navigator |
            Languages. e.g. Western (ISO-8859-1).</li>

            <li>If the page loaded has a different language/charset than
            the default language/charset, then the page should not be
            displayed properly.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td>2-3</td>

        <td>Auto-Detect Universal</td>

        <td>1). Edit | Preferences | Advanced | Cache, clear both memory
        and disk Cache.<br>
        2). View | Character Coding | Auto-Detect.<br>
        3). Select "Universal".</td>

        <td valign="top">
          <ul>
            <li>The "Universal" item of Auto-Detect option should be marked
            (a bullet next to "Universal").</li>

            <li>One charset should be marked if the charset already exists
            in the encoding menu; otherwise, the correct charset should be
            added into the encoding menu and marked, and all
            <abbr title="internationalization">i18n</abbr>
            characters and data should be displayed correctly.</li>

            <li>The marked language/charset should match the loaded web
            page's language/charset properly. e.g. Japanese (SHIFT-JIS) for
            Japanese page....etc. A Japanese page must not be marked as a
            Chinese charset even if the page is displayed fine.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td valign="top">2-4</td>

        <td valign="top">Auto-Detect a specified language name or language
        group</td>

        <td valign="top">1). Edit | Preferences | Advanced | Cache, clear
        both memory and disk Cache.<br>
        2). View | Character Coding | Auto-Detect.<br>
        3). Select a language group, e.g. Japanese, East Asian, Traditional
        Chinese, Russian...etc.</td>

        <td valign="top">
          <ul>
            <li>A language type (e.g. Japanese or Traditional
            Chinese...etc.) under the Auto-Detect option should be
            marked.</li>

            <li>Same result as in 2-2b and 2-2c.</li>

            <li>With same page, the charset will marked as the same one
            that in auto-detect Universal if the specified a properly
            auto-detect language.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td>2-5</td>

        <td>Reload without clearing Cache</td>

        <td>Click on Reload or View | Reload to reload the current
        page</td>

        <td>Regardless of whether auto-detect is "Off" or not, you should
        get the same results as in step 2-2 to 2-4.</td>
      </tr>

      <tr>
        <td>2-6</td>

        <td>Clearing Cache before reload</td>

        <td>1). Repeat steps 2-2 to 2-4.<br>
        2). Edit | Preferences | Advanced | Cache, clear both memory and
        disk Cache.<br>
        3). Click on Reload or View | Reload to reload the current
        page.</td>

        <td>Should get the same result as in step 2-2 to 2-4.</td>
      </tr>

      <tr>
        <td>2-7</td>

        <td>Reload by changing Auto-Detect to Off before clearing Cache
        first</td>

        <td>1). Repeat steps 2-2 to 2-4.<br>
        2). View | Character Coding | Auto-Detect.<br>
        3). Select "Off"<br>
        4). Edit | Preferences | Advanced | Cache, clear both memory and
        disk Cache.<br>
        5). Click on Reload or View | Reload to reload the current
        page.</td>

        <td>
          <ul>
            <li>After auto-detect is changed to "Off" but before the Cache
            is cleared, the page should still be displayed properly, and
            the proper charset and auto-detect "Off" should be marked.</li>

            <li>After reloading, you should get the same results as in step
            2-2 to 2-4.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td>2-8</td>

        <td>Reload by clearing the Cache first then changing Auto-Detect to
        Off</td>

        <td>1). Edit | Preferences | Advanced | Cache, clear both memory
        and disk Cache.<br>
        2). Reload the page in step 2-3 or 2-4</td>

        <td>Should get the same results as in step 2-2.</td>
      </tr>
    </tbody>
  </table>

  <h3><a name="autodetectwith" id="autodetectwith">3. Auto-Detect with
  charset meta-tag pages</a></h3>

  <p class="note">Browser should store the previous page charset
  information into Cache.</p>

  <table class="data">

    <col>
    <col>
    <col>
    <col>

    <thead>
      <tr>
        <th scope="col">Test Case #</th>

        <th scope="col">Objective</th>

        <th scope="col">Steps To Perform</th>

        <th scope="col">Expected Results</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>3-1</td>

        <td>Load pages with charsets</td>

        <td valign="top">1). Launch browser, keep the Auto-detect OFF by
        default.<br>
        2). Visit some pages that HAVE charset meta-tag (there is
        meta-charset information in page source Content-Type) by:
        <ol style="list-style-type: lower-alpha;">
        <li>Find some test pages <a href=
        "../../intl_data/testpages.html">here</a> or on the internet.</li>
        <li>Create an i18n html file with meta-charset.</li>
        </ol></td>

        <td>
          <ul>
            <li>The Charset/Encoding in Browser should mark the same
            encoding as the one that are specified in Page Source
            meta-charset.</li>

            <li>The page should be displayed following the charset.</li>
          </ul>
        </td>
      </tr>

      <tr>
        <td>3-2</td>

        <td>Auto-Detect Universal or as a specified language</td>

        <td valign="top">1). View | Character Coding | Auto-Detect.<br>
        2). Select "Universal" or some language group name.</td>

        <td>The Charset/Encoding in Browser should mark the same encoding
        as the one that are specified in Page Source meta-charset. It
        should act the same as when auto-detect was OFF.</td>
      </tr>

      <tr>
        <td>3-3</td>

        <td>Reload with or without clearing Cache</td>

        <td>1). Reload page(s) by clearing Cache:<br>
        Edit | Preferences | Advanced | Cache, clear both memory and disk
        Cache.<br>
        2). Or Reload page(s) without clearing Cache.</td>

        <td>Should get the same results as in step 3-1.</td>
      </tr>
    </tbody>
  </table>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../../sitemap.html">Site Map</a></li>
<li><a href="../../../../security/">Security Updates</a></li>
<li><a href="../../../../contact/">Contact Us</a></li>
<li><a href="../../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified July 15,  2007</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/intl/browser/charsethandling/testcase-CharsetHandlingI.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
