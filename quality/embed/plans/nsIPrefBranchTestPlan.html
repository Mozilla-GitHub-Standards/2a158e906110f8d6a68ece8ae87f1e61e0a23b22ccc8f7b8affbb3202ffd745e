<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Dharma Sirnapalli">
   <meta name="GENERATOR" content="Mozilla/4.76 [en] (WinNT; U) [Netscape]">
   <title>nsIPrefService</title>
<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<center><a NAME="Test Plan for nsIPrefBranch"></a><b><font size=+1>Test
Plan for nsIPrefBranch interface</font></b></center>

<p><br>
<br>
<p>&nbsp;&nbsp;&nbsp; The nsIPrefBranch interface provides access to users
preferences. In order to test the methods in nsIPrefBranch
<br>&nbsp;&nbsp;&nbsp; interface you need to first get an nsIPrefService
object and doing a getBranch on it will return a pointer to nsIPrefBranch.
<p>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj = Components.classes["@mozilla.org/preferences-service;1"].
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
getService(Components.interfaces.nsIPrefService);
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<p>&nbsp;&nbsp;&nbsp; Now you can call the methods using the nsIPrefBranchObj
object.
<p>&nbsp;&nbsp;&nbsp; To see the test cases click on the desired methods
or attributes below.
<p>&nbsp;&nbsp;&nbsp; <a href="http://lxr.mozilla.org/seamonkey/source/embedding/qa/jstests/nsIPrefBranchTest.txt">Click
here</a> to see the source code for the test case. If you download the
testcase rename it to .html before opening
<br>&nbsp;&nbsp;&nbsp; it in an embedding application.
<p>&nbsp;&nbsp;&nbsp; <i><u>attributes:</u></i>
<br>&nbsp;&nbsp;&nbsp; <a href="#root">root</a>
<p>&nbsp;&nbsp;&nbsp; <i><u>methods:</u></i>
<br>&nbsp;&nbsp;&nbsp; <a href="#getPrefType">getPrefType()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#getBoolPref">getBoolPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#setBoolPref">setBoolPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#getCharPref">getCharPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#setCharPref">setCharPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#getIntPref">getIntPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#setIntPref">setIntPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#getComplexValue">getComplexValue()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#setComplexValue">setComplexValue()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#clearUserPref">clearUserPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#lockPref">lockPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#prefIsLocked">prefIsLocked()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#unlockPref">unlockPref()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#deleteBranch">deleteBranch()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#getChildList">getChildList()</a>
<br>&nbsp;&nbsp;&nbsp; <a href="#resetBranch">resetBranch()</a>
<p><a NAME="root"></a><b>root</b>
<p>&nbsp;&nbsp;&nbsp; <i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; The root of this branch, such as "browser.startup.".
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch("browser.startup.");
<br>&nbsp;&nbsp;&nbsp; alert(nsIPrefBranchObj.root);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>The alert should display "browser.startup.".</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="getPrefType"></a><b>getPrefType()</b>
<p>&nbsp;&nbsp;&nbsp; <i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Each preference is a name value pair. This method
return a long value which represents the type of value
<br>&nbsp;&nbsp;&nbsp; the name holds. If the return value is 32 then the
value is string type. If the return value is 128 then the
<br>&nbsp;&nbsp;&nbsp; value is boolen type.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; <i><u>Variation1:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; var prefType = nsIPrefBranchObj.getPrefType("browser.startup.homepage");
<br>&nbsp;&nbsp;&nbsp; alert("prefType: " + prefType);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%" HEIGHT="100%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td WIDTH="10%" HEIGHT="100%">1</td>

<td>Check with the string argument "browser.startup.homepage" string.</td>

<td>Should bring up the alert dialog with prefType:32.</td>

<td>pass</td>

<td>Since "browser.startup.homepage" value is "www.mozilla.org" which is
string. prefType:32 represents string.</td>
</tr>

<tr>
<td WIDTH="10%">2</td>

<td>Check with the string argument "browser.display.screen_resolution"
string.</td>

<td>Should bring up the alert dialog with prefType:64.</td>

<td>pass</td>

<td>Since "browser.display.screen_resolution" value is 96 which is integer.
prefType:64 represents integer.</td>
</tr>

<tr>
<td>3</td>

<td>Check with the string argument "prefs.converted-to-utf8" string.</td>

<td>Should bring up the alert dialog with prefType:128.</td>

<td>pass</td>

<td>Since "prefs.converted-to-utf8" value is 128 which is boolean. prefType:128
represents boolean.</td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <i><u>Variation2:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch("capability.principal.");
<br>&nbsp;&nbsp;&nbsp; var prefType = nsIPrefBranchObj.getPrefType("codebase.p0.id");
<br>&nbsp;&nbsp;&nbsp; alert("prefType: " + prefType);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Check with the string argument "codebase.p0.id" string.</td>

<td>Should bring up the alert dialog with prefType:32.</td>

<td>pass</td>

<td>Since "capability.principal.codebase.p0.id" value is "file://" which
is string. prefType:32 represents string.</td>
</tr>

<tr>
<td>2</td>

<td>Check with the string argument "homepage" string.</td>

<td>Should bring up the alert dialog with prefType:0.</td>

<td>pass</td>

<td>Since "capability.principal.homepage" preference doesnot exist.prefType:0
means its invalid.</td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="getBoolPref"></a><b>getBoolPref()</b>
<p><b>&nbsp;&nbsp;&nbsp; </b><i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; If the preference value is boolean you should use
this method. This method returns the value of the preference.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; var boo = nsIPrefBranchObj.getBoolPref("prefs.converted-to-utf8");
<br>&nbsp;&nbsp;&nbsp; alert("boo: " + boo);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Check with the string argument "prefs.converted-to-utf8" string.</td>

<td>Should bring up the alert dialog with false if "prefs.converted-to-utf8"
is set to false in preferences file or with true if it was set to true.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="setBoolPref"></a><b>setBoolPref()</b>
<p>&nbsp;&nbsp;&nbsp; <i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; If the preference value is boolean you can use this
method. This method sets the specified value to the specified preference.
If you
<br>&nbsp;&nbsp;&nbsp; want to set to false use the value 0. If you want
to set to true use value 1.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; nsIPrefBranchObj.setBoolPref("browser.startup.homepage_override.1",
0);
<br>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj.savePrefFile(null);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps&nbsp;</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Check the preference file to see if it updates the preference "browser.startup.
<br>homepage_overide.1" to false.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="getCharPref"></a><b>getCharPref()</b>
<p><b>&nbsp;&nbsp;&nbsp; </b><i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; If the preference value is string you can use this
method. This method return the value of the preference.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; var result = nsIPrefBranchObj.getCharPref("browser.startup.homepage");
<br>&nbsp;&nbsp;&nbsp; alert(result);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Should bring up the alert dialog with the string "http://www.mozilla.org"
if the preference for "browser.startup.homepage" was set to "http://www.mozilla.org".</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="setCharPref"></a><b>setCharPref()</b>
<p><b>&nbsp;&nbsp;&nbsp; </b><i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; If the preference value is string you can use this
method. This method sets the specified value to the specified preference.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; nsIPrefBranchObj.setCharPref("browser.startup.homepage",
"http://bugzilla.mozilla.org")
<br>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj.savePrefFile(null);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Check the preference file to see if it updates the preference "browser.startup.homepage"
to "http://bugzilla.mozilla.org"</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="getIntPref"></a><b>getIntPref()</b>
<p><i>&nbsp;&nbsp;&nbsp; <u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; If the preference value is integer you can use this
method. This method return the value of the preference.
<p><i>&nbsp;&nbsp;&nbsp; <u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; var result = nsIPrefBranchObj.getIntPref("editor.table.delete_key");
<br>&nbsp;&nbsp;&nbsp; alert(result);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Should bring up the alert dialog with the integer value 1 if the preference
for "editor.table.delete_key" was set to 1.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="setIntPref"></a><b>setIntPref()</b>
<p><i>&nbsp;&nbsp;&nbsp; <u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; If the preference value is integer you can use this
method. This method sets the specified value to the specified preference.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; nsIPrefBranchObj.setIntPref("editor.table.delete_key",
0)
<br>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj.savePrefFile(null);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Check the preference file to see if it updates the preference "editor.table.delete_key"
<br>to value 0.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="clearUserPref"></a><b>clearUserPref()</b>
<p><i>&nbsp;&nbsp;&nbsp; <u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Resets a preference to the default value.
<p><i>&nbsp;&nbsp;&nbsp; <u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; nsIPrefBranchObj.clearUserPref("wallet.SchemaValueFileName");
<br>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj.savePrefFile(null);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>It should update the preference to default value.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="getComplexValue"></a><b>getComplexValue()</b>
<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="setComplexValue"></a><b>setComplexValue()</b>
<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="lockPref"></a><b>lockPref()</b>
<p><i>&nbsp;&nbsp;&nbsp; <u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Lock the preference. This method should be used
for manipulating the ability to change the state of a preference.
<p><i>&nbsp;&nbsp;&nbsp; <u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; nsIPrefBranchObj.lockPref("prefs.converted-to-utf8");
<br>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj.savePrefFile(null);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Try to use setBoolPref method and try to change the value of it.</td>

<td>It should not change the value of preference.</td>

<td>fail</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="prefIsLocked"></a><b>prefIsLocked()</b>
<p><i>&nbsp;&nbsp;&nbsp; <u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Checks whether the preference is Locked.
<p><i>&nbsp;&nbsp;&nbsp; <u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; var boo = nsIPrefBranchObj.prefIsLocked("prefs.converted-to-utf8");
<br>&nbsp;&nbsp;&nbsp; alert (boo);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Returns true if the preference is locked. Returns false if the preference
is unlocked.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p><b>&nbsp;&nbsp;&nbsp; </b><a href="#Test Plan for nsIPrefBranch">Back
To Top</a>
<p><a NAME="unlockPref"></a><b>unlockPref()</b>
<p>&nbsp;&nbsp;&nbsp; <i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Unlocks the preference if its locked.
<p><i>&nbsp;&nbsp;&nbsp; <u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch(null);
<br>&nbsp;&nbsp;&nbsp; nsIPrefBranchObj.unlockPref("prefs.converted-to-utf8");
<br>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj.savePrefFile(null);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Should unlock the preference.You can verify whether it is unlocked
by using the method prefIsLocked.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="deleteBranch"></a><b>deleteBranch()</b>
<p><i>&nbsp;&nbsp;&nbsp; <u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Removes all preferences starting at the given preference
prefix. Pass in null or "" to remove this branch.
<p><i>&nbsp;&nbsp;&nbsp; <u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch("font.");
<br>&nbsp;&nbsp;&nbsp; nsIPrefBranchObj.deleteBranch("size");
<br>&nbsp;&nbsp;&nbsp; nsIPrefServiceObj.savePrefFile(null);
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code.</td>

<td>Since the root is set "font." and "size" is passed, all of the preferences
related to "font.size" such as "font.size.fixed.x-western" and "font.size.variable.x-western"
will be manipulated.</td>

<td>pass</td>

<td></td>
</tr>

<tr>
<td>2</td>

<td>Pass null or "" to deleteBranch.</td>

<td>Since the root is set "font." and null is passed , all of the preferences
related to "font" such as "font.name.sans-serif.x-western", "font.size.fixed.x-western"
and "font.size.variable.x-western" will be manipulated(deleted).</td>

<td>fail</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="getChildList"></a><b>getChildList()</b>
<p>&nbsp;&nbsp;&nbsp; <i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Returns an array of strings representing the child
preferences of the branch root.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; var nsIPrefBranchObj = nsIPrefServiceObj.getBranch("capability.");
<br>&nbsp;&nbsp;&nbsp; var aCount = {value:0};
<br>&nbsp;&nbsp;&nbsp; var childArray = nsIPrefBranchObj.getChildList("principal"
, aCount);
<br>&nbsp;&nbsp;&nbsp; alert("aCount: " + aCount.value);
<br>&nbsp;&nbsp;&nbsp; alert("Array length: " + childArray.length);
<br>&nbsp;&nbsp;&nbsp; alert("Array content: " + childArray.toString());
<p>&nbsp;&nbsp;&nbsp; Say there are two preferences in this branch - capability.principal.codebase.p0.granted
and capability.principal.codebase.p0.id.
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Result</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td>Use the above code</td>

<td>aCount should show 2 since there are two elements in the array. Array
content should show two preferences capability.principal.codebase.p0.granted
and capability.principal.codebase.p0.id.</td>

<td>pass</td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p><a NAME="resetBranch"></a><b>resetBranch()</b>
<p><b>&nbsp;&nbsp;&nbsp; </b><i><u>Introduction:</u></i>
<br>&nbsp;&nbsp;&nbsp; Clears all user perferences (i.e. resets them to
their default values) starting at the give preference prefix. Pass in null
or "" to clear
<br>&nbsp;&nbsp;&nbsp; this&nbsp; branch.
<p>&nbsp;&nbsp;&nbsp; <i><u>How to use:</u></i>
<br>&nbsp;&nbsp;&nbsp; This method has not yet been implemented.
<br>&nbsp;
<center><table BORDER COLS=5 WIDTH="90%" >
<tr>
<td WIDTH="10%"><b>Case</b></td>

<td><b>Steps</b></td>

<td><b>Expected Results</b></td>

<td WIDTH="10%"><b>Pass/Fail</b></td>

<td><b>Comments</b></td>
</tr>

<tr>
<td>1</td>

<td></td>

<td></td>

<td></td>

<td></td>
</tr>
</table></center>

<p>&nbsp;&nbsp;&nbsp; <a href="#Test Plan for nsIPrefBranch">Back To Top</a>
<p>&nbsp;&nbsp;&nbsp; <b>Revision History:</b>
<br>&nbsp;&nbsp;&nbsp; Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Changed By&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Comments
<p><b>&nbsp;&nbsp;&nbsp; </b>05/12/01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
TestPlan written by Dharma.



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified July 17,  2001</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/embed/plans/nsIPrefBranchTestPlan.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
