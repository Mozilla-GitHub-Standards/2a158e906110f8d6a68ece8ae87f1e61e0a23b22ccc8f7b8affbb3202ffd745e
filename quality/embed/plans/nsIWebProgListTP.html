<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">

                                                                        
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
                                                                        
  <meta name="Author" content="David Epstein">
                                                                        
  <meta name="GENERATOR" content="Mozilla/4.77 [en]C-AOLNSCP  (WinNT; U) [Netscape]">
  <title>nsIWebProgressListener</title>
<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">



  
                                    
<table align="Center" width="95%">
                  <tbody>
                     <tr>
                  <td>                                                  
                                                                      
      <p align="Center"><a name="TestPlanForNsIWebProgressListener"></a>
                <b><font size="+1">Test Plan for NsIWebProgressListener interface</font></b></p>
                   <br>
                                                                        
                                                               
      <p>The NsIWebProgressListener interface has methods which listen for 
    events     which are triggered by url loads. They make callbacks and pass
    notification to calling interfaces. In order to test the Web Progress 
Listener    interface, you need to directly implement the web progress listener 
methods.     See <a href="http://lxr.mozilla.org/seamonkey/source/uriloader/base/nsIWebProgressListener.idl">
                 nsIWebProgressListener.idl</a>
         for more information. To see how the methods are implemented, go 
to        <a href="http://lxr.mozilla.org/seamonkey/source/embedding/qa/testembed/BrowserImplWebPrgrsLstnr.cpp">
                 BrowserImplWebPrgrsLstnr.cpp</a>
         in TestEmbed.&nbsp;</p>
                                                                        
                                                              
      <p>Note: To run these test cases, you need to add a web progress listener. 
        The way to do this is using a browser implementation object (qaBrowserImpl) 
        and web progress listener object (nsIWebProgressListener):</p>
                                                                        
                                                              
      <p>&nbsp;&nbsp;&nbsp; nsresult rv;<br>
                 &nbsp;&nbsp;&nbsp; nsWeakPtr weakling(<br>
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dont_AddRef(NS_GetWeakReference(NS_STATIC_CAST(nsIWebProgressListener*, 
        qaBrowserImpl))));<br>
                 &nbsp;&nbsp;&nbsp; rv = qaWebBrowser-&gt;AddWebBrowserListener(weakling, 
        NS_GET_IID(nsIWebProgressListener));</p>
                                                                        
                                                                 
      <p></p>
                                                                        
                                                               
      <p><a>To see the test cases click on the desired attributes &amp; methods 
        below.&nbsp;If using TestEmbed, logfile is located in C:\temp\TestOutput.txt</a>
                </p>
                                                                        
                                                                 
      <p><a>&nbsp;&nbsp;&nbsp; <i>methods:</i>&nbsp;</a>
             </p>
                                                               
      <p><a>         &nbsp;&nbsp;&nbsp; </a>
             <a href="#OnStateChange"> OnStateChange()</a>
             <a><br>
                 &nbsp;&nbsp;&nbsp;</a>
       		<a href="#OnProgressChange">   OnProgressChange()</a>
               <br>
                 &nbsp;&nbsp;&nbsp;  <a href="#OnLocationChange">OnLocationChange()</a>
                <br>
                 &nbsp;&nbsp;&nbsp; <a href="#OnStatusChange">OnStatusChange()</a>
                <br>
                 &nbsp;&nbsp;&nbsp; <a href="#OnSecurityChange">OnSecurityChange()</a>
               <br>
                 &nbsp;</p>
                                                                        
                                                                  
      <p>    </p>
                                                                        
                                                                  
      <p><a name="OnStateChange"></a>
          <b>OnStateChange() :</b></p>
                                                                        
                                                               
      <p><i>Introduction:</i> <br>
                 This method listens for web progress state changes of a
request    for a loaded URI. It currently accepts 4 parameter inputs:&nbsp;</p>
                                                               
      <pre><a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIWebProgress">nsIWebProgress</a> *progress, <a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIRequest">nsIRequest</a> *<a href="http://lxr.mozilla.org/seamonkey/ident?i=request">request</a>,&nbsp;<a href="http://lxr.mozilla.org/seamonkey/ident?i=PRInt32">PRInt32</a> progressStateFlags, <a href="http://lxr.mozilla.org/seamonkey/ident?i=PRUint32">PRUint32</a> <a href="http://lxr.mozilla.org/seamonkey/ident?i=status">status<br><br></a></pre>
                                                               
      <p>There are four types of requests to test: document, request, network,
    window.</p>
                                       
      <ol>
             <li>STATE_IS_DOCUMENT refers to the loading of an entire document,
 including  sub-docs, such as a url load or clicking on a link. Documents
can contain  many requests. The rule of thumb is that the transition states
of all requests  should be completed before the Stop state of the entire
document. The exception  is a frameset which is a document in itself. This
is handled recursively.</li>
             <li>STATE_IS_REQUEST is for inline content such as the loading
 of images,  linked stylesheets, linked JS, etc; anything with the form "src="
 in the html document.</li>
             <li>STATE_IS_NETWORK is for top level page load of a document.
 It doesn't  percolate up the hierarchy like a document.</li>
            <li>STATE_IS_WINDOW is a subset of network. Onload handlers event
 gets fired  when Network achieves Stop transition state.<br>
     </li>
                                       
      </ol>
                                                               
      <p> </p>
                                       
      <p>Also, there are 5 request transition states to test: start, redirecting,
    transfering, negotiating, and stop. The 3 basic ones are Start, Transfering,
    and Stop. These 3 will occur for ALL requests.</p>
                               
      <ol>
            <li>STATE_START refers to the beginning of a request.</li>
            <li>STATE_REDIRECT occurs when a request is redirected, such
as  a request for a url to another site. It usually would come before Transfering
  and occurs when the headers of requests are processed. The server returns
  a response; the response header contains the url for the new location.
The   embedding client will handle this header info and fire off a 2nd request
 for the redirect.</li>
            <li>STATE_TRANSFERRING refers to the actual transfering of data 
 across the network. It occurs when the bodies of requests are processed.</li>
            <li>STATE_NEGOTIATING occurs for https protocol handling (i.e.
 security  handshaking). The server asks for authorization (i.e. when a password
 dialog  appears) by firing off the Negotiating state.</li>
            <li>STATE_STOP refers to the end of a request.<br>
            </li>
                               
      </ol>
                                                               
      <p>    </p>
                                                                        
                                                               
      <p><i>How to use:</i></p>
                                                                        
                                                               
      <pre><i>   // first, turn on the web progress listener<br></i>   //&nbsp;use loadURI() from&nbsp;nsIWebNavigation<br>   char theUri[MAXLENGTH];<br>   const unsigned long theFlag =&nbsp;nsIWebNavigation::LOAD_FLAGS_NONE;<br><br>   strcpy(theUri, "http://www.netscape.com");<br>   rv = qaWebNav-&gt;LoadURI(NS_ConvertASCIItoUCS2(theUri).get(), <br>						theFlag, nsnull,nsnull,nsnull);<br><br>   // or click on a link in a page<br><br>   // this will call the event listener OnStateChange().<br>   // in your log file, track the request and the progress state flags. This will provide info<br>   // for verification of the transition states and request types.<br><br>   // for these tests, create sample pages with plenty of varying content, frame sets, etc.<br></pre>
                                                               
      <p>        </p>
                                                                        
                                                                  
      <center>                                                          
                                                            
      <table border="1" cols="5" width="90%">
                  <tbody>
                           <tr>
                  <td width="10%" height="100%"><b>Case</b></td>
                   <td><b>Steps</b></td>
                   <td><b>Expected Results</b></td>
                   <td width="10%"><b>Pass/Fail</b></td>
                   <td><b>Comments</b></td>
                  </tr>
                   <tr>
                    <td valign="Top">1<br>
                    </td>
                    <td valign="Top">Add Web Progress Listener (see above)<br>
                    </td>
                    <td valign="Top">This will enable listening of web progress 
   events<br>
                    </td>
                    <td valign="Top">pass<br>
                    </td>
                    <td valign="Top"><br>
                    </td>
                  </tr>
                  <tr>
                  <td width="10%" height="100%">2</td>
                   <td>Load a url using loadURI (or load in browser)</td>
                   <td><br>
                            </td>
                   <td>N/A<br>
              </td>
                   <td><br>
                            </td>
                  </tr>
                   <tr>
               <td valign="Top">2.1<br>
               </td>
               <td valign="Top">Test with all request types: document, request,
  network,   window. <br>
               </td>
               <td valign="Top">Return&nbsp;STATE_IS_DOCUMENT &nbsp;for loading
 of entire document. <br>
  Return STATE_IS_REQUEST for loading of content within a document.<br>
               </td>
               <td valign="Top">pass<br>
               </td>
               <td valign="Top">For each request type, verify url loads.
This  is captured in the log file <br>
               </td>
             </tr>
             <tr>
               <td valign="Top">2.2<br>
               </td>
               <td valign="Top">Initiate a network request<br>
               </td>
               <td valign="Top">Verify that "window" request is also activated<br>
               </td>
               <td valign="Top">pass<br>
               </td>
               <td valign="Top"><br>
               </td>
             </tr>
             <tr>
               <td valign="Top">2.3<br>
               </td>
               <td valign="Top">Test with different protocols (http, https, 
 ftp, file://, javascript:)<br>
               </td>
               <td valign="Top">For each protocol, verify the url loads and 
 the event is picked up by the listener method (step below)<br>
               </td>
               <td valign="Top"><br>
               </td>
               <td valign="Top"><br>
               </td>
             </tr>
             <tr>
                    <td valign="Top">3<br>
                    </td>
                    <td valign="Top">Verify event is picked up by the listener
   method<br>
                    </td>
                    <td valign="Top">OnStateChange()&nbsp; method is correctly
   called.  4 parameters passed to it should be correct<br>
                    </td>
                    <td valign="Top">pass<br>
                    </td>
                    <td valign="Top">Using embeddor's implementation of OnSChange().<br>
                    </td>
                  </tr>
                  <tr>
                  <td width="10%">4</td>
                   <td>Make sure the request is started</td>
                   <td>                                                 
                                                      
            <pre>STATE_START&nbsp;should return for the <br>progressStateFlag</pre>
                    </td>
                   <td>pass</td>
                   <td>capture this in log file<br>
                            </td>
                  </tr>
                   <tr>
                  <td>5</td>
                   <td>Monitor the progress and make sure the request transfers</td>
                   <td>                                                 
                                                      
            <pre>STATE_TRANSFERRING should return for<br>the progressStateFlag<br></pre>
                    </td>
                   <td>pass</td>
                   <td>capture this in log file<br>
                    </td>
                  </tr>
                    <tr>
                      <td valign="Top">6<br>
                      </td>
                      <td valign="Top">Make sure that request stops (completes)<br>
                      </td>
                      <td valign="Top">                                 
                                                                     
            <pre>STATE_STOP should return for the<br>progressStateFlag<br></pre>
                    <br>
                      </td>
                      <td valign="Top"><br>
          pass<br>
                      </td>
                      <td valign="Top">capture this in log file<br>
                      </td>
                    </tr>
                  <tr>
                    <td valign="Top">7<br>
                    </td>
                    <td valign="Top">For some requests, make sure it redirects
  (the server will return a url for redirection)<br>
                    </td>
                    <td valign="Top">                                   
                                                                    
            <pre>STATE_REDIRECTING should return for<br>the progressStateFlag<br></pre>
                    <br>
                    </td>
                    <td valign="Top"><br>
                    </td>
                    <td valign="Top">Test case: configure a server to redirect
  a url. Note: a meta refresh shouldn't fire off a redirect<br>
                    </td>
                  </tr>
                  <tr>
                    <td valign="Top">8<br>
                    </td>
                    <td valign="Top">For some requests, make sure it negotiates
  (e.g. for https urls). <br>
                    </td>
                    <td valign="Top">                                   
                                                                    
            <pre>STATE_NEGOTIATING should return for<br>the progressStateFlag. Password prompt<br>should display and fire Negotiate.<br></pre>
                    </td>
                    <td valign="Top"><br>
                    </td>
                    <td valign="Top">Test case: Display popup authentication 
 dialog and enter name &amp; psswd.<br>
                    </td>
                  </tr>
                  <tr>
                    <td valign="Top">9<br>
                    </td>
                    <td valign="Top">Verify that ALL requests return the
correct     order of transition states<br>
                    </td>
                    <td valign="Top">For each request, the basic order should 
  be:  Stop, Transfering, and Stop. <br>
                    </td>
                    <td valign="Top">pass<br>
                    </td>
                    <td valign="Top"><br>
                    </td>
                  </tr>
                  <tr>
                    <td valign="Top">10<br>
                    </td>
                    <td valign="Top">Try multiple requests. Correct states
 should    be associated with correct requests.<br>
                    </td>
                    <td valign="Top">Request 1: Stop 1, Transfer 1, Stop
1.<br>
        Request 2: Stop 2, Transfer 2, Stop 2. etc<br>
        There shouldn't be any disorientation between states and requests 
(i.e.    Request 3: Stop 1, Transfer 3, ...)<br>
                    </td>
                    <td valign="Top">pass</td>
                    <td valign="Top"><br>
                    </td>
                  </tr>
                                                                        
                                                                        
                         
        </tbody>                                                         
                                                             
      </table>
                       </center>
                                                                        
                                                                 
      <p> <a href="#TestPlanForNsIWebProgressListener">Back To Top</a>
             </p>
                                                               
      <p><a name="OnProgressChange"></a>
             <b>OnProgressChange()</b><b>    :</b></p>
                                                               
      <p><i>Introduction</i>: <br>
                 This method listens for web progress change of a request 
for   a  loaded URI.     It accepts 6 parameter inputs: &nbsp;</p>
                                                               
      <pre><a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIWebProgress">nsIWebProgress</a> *progress, <a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIRequest">nsIRequest</a> *<a href="http://lxr.mozilla.org/seamonkey/ident?i=request">request</a>,&nbsp;<a href="http://lxr.mozilla.org/seamonkey/ident?i=PRInt32">PRInt32</a> curSelfProgress, <a href="http://lxr.mozilla.org/seamonkey/ident?i=PRInt32">PRInt32</a> maxSelfProgress, <br><a href="http://lxr.mozilla.org/seamonkey/ident?i=PRInt32">PRInt32</a> curTotalProgress, <a href="http://lxr.mozilla.org/seamonkey/ident?i=PRInt32">PRInt32</a> maxTotalProgress<br><br>Progress is indicated with the above current progress integers. You can view progress in a progress dialog.<br></pre>
                                                               
      <p><i>How to use:</i></p>
                                                               
      <p><i></i></p>
                                                               
      <pre>   //&nbsp;use loadURI() from&nbsp;nsIWebNavigation<br>   char theUri[MAXLENGTH];<br>   const unsigned long theFlag =&nbsp;nsIWebNavigation::LOAD_FLAGS_NONE;<br><br>   strcpy(theUri, "http://www.netscape.com");<br>   rv = qaWebNav-&gt;LoadURI(NS_ConvertASCIItoUCS2(theUri).get(), <br>						theFlag, nsnull,nsnull,nsnull);<br><br>   // this will call the event listener OnProgressChange(). </pre>
                                            &nbsp; &nbsp; &nbsp; / / &nbsp; 
 note:    test this out with different requests types: document, request, 
network,   window<br>
        &nbsp; &nbsp; &nbsp; / /&nbsp; &nbsp;check the current progress of
 a  monitored   request, and also the total progress of all requests<br>
              <br>
                                                               
      <center>                                                        
      <table border="1" cols="5" width="90%">
                <tbody>
                  <tr>
                    <td width="10%" height="100%"><b>Case</b></td>
                    <td><b>Steps</b></td>
                    <td><b>Expected Results</b></td>
                    <td width="10%"><b>Pass/Fail</b></td>
                    <td><b>Comments</b></td>
                  </tr>
                  <tr>
                    <td width="10%">1</td>
                    <td>Load a url &nbsp;with loadURI() or load in your browser</td>
                    <td>Url loading should be received by the listener</td>
                    <td>pass</td>
                    <td>This should be done from inside a given window.<br>
                    </td>
                  </tr>
                  <tr>
                    <td>2<br>
                    </td>
                    <td>Verify event is picked up by the listener method<br>
                    </td>
                    <td>OnProgressChange()&nbsp; method is correctly called.
  6  parameters  passed to it should be correct<br>
                    </td>
                    <td>pass<br>
                    </td>
                    <td>Using embeddor's implementation of OnProgessChange().<br>
                    </td>
                  </tr>
                  <tr>
                    <td valign="Top">3<br>
                    </td>
                    <td valign="Top">Monitor the progress of a request. Verify
   current  prog.<br>
                    </td>
                    <td valign="Top">Current progress is indicated by <i>
curSelfProgress                 </i>value. Verify this amount increases during
progress updates.              </td>
                    <td valign="Top">pass<br>
                    </td>
                    <td valign="Top">Note: Since there will often be multiple 
  progress  updates, you don't need to track this amount each time. A few 
spot  checks  will suffice.<br>
                    </td>
                  </tr>
                  <tr>
                    <td valign="Top">4<br>
                    </td>
                    <td valign="Top">Monitor the total current progress of
 all   requests.<br>
                    </td>
                    <td valign="Top">Total current progress is indicated
by              <i>   curTotalProgress              </i>value. Verify this
amount  increases during progress updates. Also verify this amount is greater
than              <i>curSelfProgress                </i><br>
                    </td>
                    <td valign="Top">pass<br>
                    </td>
                    <td valign="Top">Note: Since there will often be multiple 
  progress  updates, you don't need to track this amount each time. A few 
spot  checks  will suffice.<br>
                    </td>
                  </tr>
                  <tr>
                    <td valign="Top">5<br>
                    </td>
                    <td valign="Top">Make sure that progress update completes
  (one request)<br>
                    </td>
                    <td valign="Top">Message should be indicated in log file.
 This occurs when&nbsp;<i>curSelfProgress                </i> = <i>maxSelfProgress</i><br>
                    </td>
                    <td valign="Top">pass<br>
                    </td>
                    <td valign="Top"><i>maxSelfProgress</i> = maximum amount
 for progress of an single request<br>
                    </td>
                  </tr>
            <tr>
              <td valign="Top">6</td>
              <td valign="Top">Make sure that progress update completes (multiple
 requests)<br>
              </td>
              <td valign="Top">Message should be indicated in log file. This
 occurs when <i>curTotalProgress </i>= <i>maxTotalProgress</i><br>
              </td>
              <td valign="Top"><br>
              </td>
              <td valign="Top"><i>curTotalProgress </i>= total progress of
 all requests. <i>maxTotalProgress</i> = max amt for progress of all requests.<br>
              </td>
            </tr>
                                                                        
      
        </tbody>                                                        
      </table>
              </center>
                                                               
      <p><a href="#TestPlanForNsIWebProgressListener">
        Back To Top</a>
             </p>
                                                               
      <p><a href="#TestPlanForNsIWebProgressListener"><br>
              </a>
           </p>
                                                                        
                                                                  
      <p><a name="OnLocationChange"></a>
          <b>OnLocationChange() :</b></p>
                                                                        
                                                               
      <p><i>Introduction:</i><br>
                 This method listens for a location change, in a certain
window,    of a request for a loaded URI. It  accepts 3 parameter inputs:&nbsp;</p>
                                                               
      <pre><a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIWebProgress">nsIWebProgress</a>* <a href="http://lxr.mozilla.org/seamonkey/ident?i=aWebProgress">aWebProgress</a>,&nbsp;<a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIRequest">nsIRequest</a>* <a href="http://lxr.mozilla.org/seamonkey/ident?i=aRequest">aRequest</a>, <a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIURI">nsIURI</a> *location</pre>
                                                               
      <p>    </p>
                                                                        
                                                      
      <p><i>How to use:</i></p>
                                                                        
                                                      
      <pre>   //&nbsp;Click on a link in an open window which changes the url location<br>   </pre>
                                                               
      <p>        </p>
                                                                        
                                                      
      <table border="1" cols="5" width="90%">
                        <tbody>
                          <tr>
                            <td width="10%" height="100%"><b>Case</b></td>
                            <td><b>Steps</b></td>
                            <td><b>Expected Results</b></td>
                            <td width="10%"><b>Pass/Fail</b></td>
                            <td><b>Comments</b></td>
                          </tr>
                          <tr>
                            <td width="10%" height="100%">1</td>
                            <td>Load a url using loadURI (or load in your 
browser)</td>
                            <td><br>
                            </td>
                            <td>N/A</td>
                            <td>From a given window<br>
                            </td>
                          </tr>
                                            <tr>
                            <td>2</td>
                            <td>Verify event is picked up by listener method</td>
                            <td>onLocationChange() method is called. 3 parameters 
    passed to it should be correct</td>
                            <td>fail</td>
                            <td>Using embeddor's implementation of OnLocationChange().
   One of the parameters causes a crash</td>
                          </tr>
                    <tr>
                      <td valign="Top">3<br>
                      </td>
                      <td valign="Top">Make sure the location changes<br>
                      </td>
                      <td valign="Top">url should be updated<br>
                      </td>
                      <td valign="Top">pass<br>
                      </td>
                     <td valign="Top"><br>
                      </td>
                    </tr>
                                                                        
                                                                        
             
        </tbody>                                                        
                                                       
      </table>
                                                                        
                                                                        
      <p> <a href="#TestPlanForNsIWebProgressListener">Back To Top</a>
           </p>
                                                                        
                                                                  
      <p><a name="OnStatusChange"></a>
          <b>OnStatusChange() :</b></p>
                                                                        
                                                               
      <p><i>Introduction</i>: <br>
                 This method listens for status change of a request for a 
loaded    URI. It  accepts 4 parameter inputs:&nbsp;</p>
                                                       
      <pre><a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIWebProgress">nsIWebProgress</a>* <a href="http://lxr.mozilla.org/seamonkey/ident?i=aWebProgress">aWebProgress</a>,&nbsp;<a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIRequest">nsIRequest</a>* <a href="http://lxr.mozilla.org/seamonkey/ident?i=aRequest">aRequest</a>,&nbsp;<a href="http://lxr.mozilla.org/seamonkey/ident?i=nsresult">nsresult</a> <a href="http://lxr.mozilla.org/seamonkey/ident?i=aStatus">aStatus</a>, const <a href="http://lxr.mozilla.org/seamonkey/ident?i=PRUnichar">PRUnichar</a>* <a href="http://lxr.mozilla.org/seamonkey/ident?i=aMessage">aMessage<br><br></a></pre>
                                               
      <p>You can view the status message in your browser's status bar.<br>
            </p>
                                                       
      <p>     </p>
                                                                        
                                                                 
      <p><i>How to use:</i></p>
                                                                        
                                                               
      <pre>   //&nbsp;Same as above<br><br>   // You can also create a table of status messages to test this out. Verify that correct status message<br>   // is returned for the triggered event.<br></pre>
                                                                        
                                                                        
                            
      <pre><nsiuri><br></nsiuri></pre>
                                                                        
                                                               
      <p></p>
                                                                        
                                                                 
      <center>                                                          
                                                            
      <table border="1" cols="5" width="90%">
                  <tbody>
                           <tr>
                  <td width="10%" height="100%"><b>Case</b></td>
                   <td><b>Steps</b></td>
                   <td><b>Expected Results</b></td>
                   <td width="10%"><b>Pass/Fail</b></td>
                   <td><b>Comments</b></td>
                  </tr>
                   <tr>
                  <td width="10%" height="100%">1</td>
                   <td>Enter a url in your browser</td>
                   <td><br>
                          </td>
                   <td>N/A</td>
                   <td><br>
                          </td>
                  </tr>
                                <tr>
              <td valign="Top">1.1<br>
              </td>
              <td valign="Top">Test with different hosts and servers<br>
              </td>
              <td valign="Top">Verify in the steps below work OK; correct 
host and server name is listed<br>
              </td>
              <td valign="Top"><br>
              </td>
              <td valign="Top"><br>
              </td>
            </tr>
            <tr>
                  <td>2</td>
                   <td>Verify event is picked up by the listener method</td>
                   <td>onStatusChange() method is called. 4 parameters  passed
   to it should be correct</td>
                          <td>pass</td>
                   <td>Using embeddor's implementation of OnStatusChange().</td>
                  </tr>
                    <tr>
                      <td valign="Top">3<br>
                      </td>
                      <td valign="Top">Make sure the correct status id is 
 returned<br>
                      </td>
                      <td valign="Top">This is the code ID indicated by aStatus.<br>
                      </td>
                      <td valign="Top"><br>
          ?<br>
                      </td>
                      <td valign="Top">Note: sprintf on the id will indicate
 %hostname<br>
                      <br>
                      </td>
                    </tr>
            <tr>
              <td valign="Top">4<br>
              </td>
              <td valign="Top">Make sure the correct message is returned<br>
              </td>
              <td valign="Top">Corresponding message entry to aStatus id.<br>
              </td>
              <td valign="Top"><br>
              </td>
              <td valign="Top"><br>
              </td>
            </tr>
            <tr>
              <td valign="Top">4.1<br>
              </td>
              <td valign="Top">Verification of message content<br>
              </td>
              <td valign="Top">Verify that each request has these messages:
 dns resolution, connect to the host, transfer to the host<br>
              </td>
              <td valign="Top"><br>
              </td>
              <td valign="Top"><br>
              </td>
            </tr>
                                                                        
                                                                        
            
        </tbody>                                                         
                                                             
      </table>
                       </center>
                                                                        
                                                                 
      <p><a href="#TestPlanForNsIWebProgressListener">Back To Top</a>
           </p>
                                                                        
                                                                  
      <p><a name="OnSecurityChange"></a>
                <b> OnSecurityChange()  :</b></p>
                                                                        
                                                               
      <p><i>Introduction</i>: <br>
                 This method listens for security progress of a request.
 It   accepts 3 parameter inputs:&nbsp;</p>
                                               
      <pre><a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIWebProgress">nsIWebProgress</a> *<a href="http://lxr.mozilla.org/seamonkey/ident?i=aWebProgress">aWebProgress</a>, <a href="http://lxr.mozilla.org/seamonkey/ident?i=nsIRequest">nsIRequest</a> *<a href="http://lxr.mozilla.org/seamonkey/ident?i=aRequest">aRequest</a>, <a href="http://lxr.mozilla.org/seamonkey/ident?i=PRInt32">PRInt32</a> <a href="http://lxr.mozilla.org/seamonkey/ident?i=state">state<br></a></pre>
                                               
      <p>You will need to install the appropriate security software to test
   this out (PSM).&nbsp;</p>
               
      <p>There are various security states which need to be tested:</p>
               
      <pre>STATE_IS_INSECURE.&nbsp;This occurs when no documents and subdocuments,&nbsp;or any in line content,&nbsp;use https. <br>STATE_IS_BROKEN. This occurs when some&nbsp;documents and subdocuments use https (mixed state).&nbsp;<br>STATE_IS_SECURE. This occurs when all documents and subdocuments, and all in line content, use https.&nbsp;       <br>&nbsp;<br>STATE_SECURE_HIGH<br>STATE_SECURE_MED<br>STATE_SECURE_LOW</pre>
                                               
      <p>     </p>
                                                                        
                                                                 
      <p><i>How to use:</i></p>
                                                                        
                                                               
      <pre>    //&nbsp;enter an https url<br><br>    // test out with various security states<br></pre>
                                                                        
                              
      <p><i>Note:</i> Again, make sure that nsISHistoryListener has already
        been added.:        </p>
                                                                        
                              
      <pre><br></pre>
                                                                        
                                                               
      <p></p>
                                                                        
                                                                 
      <center>                                                          
                                                            
      <table border="1" cols="5" width="90%">
                  <tbody>
                           <tr>
                  <td width="10%" height="100%"><b>Case</b></td>
                   <td><b>Steps</b></td>
                   <td><b>Expected Results</b></td>
                   <td width="10%"><b>Pass/Fail</b></td>
                   <td><b>Comments</b></td>
                  </tr>
                   <tr>
                  <td valign="Top">1<br>
                  </td>
                  <td valign="Top">Install PSM component<br>
                  </td>
                  <td valign="Top"><br>
                  </td>
                  <td valign="Top"><br>
                  </td>
                  <td valign="Top">necessary to test https urls<br>
                  </td>
                </tr>
                <tr>
                  <td width="10%" height="100%">2</td>
                   <td>Enter an https url</td>
                   <td><br>
             </td>
                   <td>pass</td>
                   <td><br>
                             </td>
                  </tr>
                   <tr>
                  <td width="10%">3</td>
                   <td>Verify event is picked up by the listener method</td>
                   <td>onSecurityChange() method is called. 3 parameters
 passed   to it should be correct</td>
                   <td><br>
                  </td>
                   <td>Using embeddor's implementation of OnSecurityChange().<br>
                             </td>
                  </tr>
                       <tr>
                         <td valign="Top">4<br>
                         </td>
                         <td valign="Top">Test for various states. Make sure
 correct state is  tracked<br>
                         </td>
                         <td valign="Top"><br>
                         </td>
                         <td valign="Top"><br>
                         </td>
                         <td valign="Top"><br>
                         </td>
                       </tr>
               <tr>
              <td valign="Top">4.1<br>
              </td>
              <td valign="Top">Load all docs &amp; subdocs with https (in 
html file)</td>
              <td valign="Top">Verify that STATE_IS_SECURE is returned <br>
              </td>
              <td valign="Top">pass<br>
              </td>
              <td valign="Top">track in logfile<br>
              </td>
            </tr>
            <tr>
              <td valign="Top">4.2<br>
              </td>
              <td valign="Top">Load some docs &amp; subdocs with https<br>
              </td>
              <td valign="Top">Verify that STATE_IS_BROKEN&nbsp; is returned
             <br>
              </td>
              <td valign="Top"><br>
              </td>
              <td valign="Top"><br>
              </td>
            </tr>
            <tr>
              <td valign="Top">4.3<br>
              </td>
              <td valign="Top">Load no docs or subdocs with https<br>
              </td>
              <td valign="Top">Verify that STATE_IS_INSECURE&nbsp; is returned
             <br>
              </td>
              <td valign="Top"><br>
              </td>
              <td valign="Top"><br>
              </td>
            </tr>
            <tr>
                 <td valign="Top">5<br>
                 </td>
                 <td valign="Top">Remove web progress listener<br>
                 </td>
                 <td valign="Top"><br>
                 </td>
                 <td valign="Top">fail<br>
                 </td>
                 <td valign="Top"><br>
                 </td>
               </tr>
                                                                        
                                                                        
                                       
        </tbody>                                                         
                                                             
      </table>
                       </center>
                                                                        
                                                                 
      <p><a href="#TestPlanForNsIWebProgressListener">Back To Top</a>
           </p>
                                                                        
                                                                  
      <p>   </p>
                                                                        
                                                                  
      <p><b>Revision History:</b></p>
                                                                        
                                                               
      <p> Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         Changed By&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         Comments </p>
                                                                        
                                                               
      <p>01/08/02 &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
     &nbsp;David Epstein &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     Test Plan created.<br>
  01/24/02&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
 &nbsp;David Epstein&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;
 Modified. Added cases for OnStateChange(), OnProgressChange(), and OnSecurityChange().
       </p>
                   </td>
                  </tr>
             <tr>
               <td valign="Top"><br>
               </td>
             </tr>
                                                                     
  </tbody>                 
</table>
                                   



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified June 27,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/embed/plans/nsIWebProgListTP.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
