<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">


  <meta name="generator" content=
  "HTML Tidy for Windows (vers 25 January 2008), see http://tidy.sourceforge.net/">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="author" content="Laurel Carlson">

  <title>Feature Test Specification: Filters: Custom Headers</title>

  <link rel="contents" href="./" title=
  "Mozilla MailNews Functional / UI Tests">
  <link rel="up" href="./" title="Mozilla MailNews Functional / UI Tests">
  <link rel="previous" href="machv-mn-prefill.html" title=
  "Feature test spec: Prefill Filters">
  <link rel="next" href="sea-mn-mail-importexport.html" title=
  "Feature test spec: Import Mail Settings">

  <style type="text/css">
  ol.uppCase {list-style-type: upper-alpha;}
  ol.lowCase {list-style-type: lower-alpha;}
  li.c1 {text-decoration: line-through;}
  </style>

<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">








  <p class="crumbs"><em>You are here:</em> <a href="./">Mozilla MailNews
  Functional / UI Tests</a> &gt; <strong>Message Filters: Custom
  Headers</strong></p>

  <h1>Feature Test Spec: Mail and News Component</h1>

  <h2>Mail and News Component: Message Filters: Custom Headers</h2>

  <address class="author">
    Written by <a href="mailto:laurel@netscape.com">Laurel Carlson</a>
  </address>

  <h3>Feature description</h3>

  <p>Simple user interface to allow users to search or filter based on any
  header. Feature currently not available for news.</p>

  <h3>References:</h3>

  <p>No current UI or design specs available on mozilla.org<br>
  Main Feature bug: https://bugzilla.mozilla.org/show_bug.cgi?id=16902</p>

  <p>Some of the <a href=
  "http://bugzilla.mozilla.org/buglist.cgi?bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;bug_status=RESOLVED&amp;bug_status=VERIFIED&amp;email1=naving&amp;emailtype1=substring&amp;emailassigned_to1=1&amp;email2=laurel&amp;emailtype2=substring&amp;emailqa_contact2=1&amp;bugidtype=include&amp;chfieldto=Now&amp;short_desc=custom&amp;short_desc_type=substring&amp;long_desc_type=substring&amp;bug_file_loc_type=substring&amp;status_whiteboard_type=substring&amp;keywords_type=allwords&amp;field0-0-0=noop&amp;type0-0-0=noop&amp;cmdtype=doit&amp;order=Reuse+same+sort+as+last+time">
  custom header bugs</a> reported in moz1.0/netscape7.0</p>

  <ol class="uppCase">
    <li>Custom Header Dialog - basic UI:

      <ol>
        <li>Accessible from criteria dropdown:

          <ol>
            <li>from Filter Rules dialog</li>

            <li>from Search Messages dialog</li>
          </ol>
        </li>

        <li>Add button</li>

        <li>Remove button</li>

        <li>Text field for header name</li>

        <li>List box for headers</li>

        <li>Tabbing/keyboard access to fields</li>

        <li>General Cancel/OK</li>
      </ol>
    </li>

    <li>Add header

      <ol>
        <li>single</li>

        <li>multiple</li>

        <li>limit for number of headers in list? <em>currently we have no
        limit, but greater than 50 will cause problems -- should warn. Ref:
        bug 104085</em></li>

        <li>headers with non alphabetic characters:

          <ol class="lowCase">
            <li>dashes ( like Reply-To)</li>
          </ol>
        </li>

        <li>invalid characters: <em>currently can cause problems, but no
        handling -- see bug 107620, 155496</em>

          <ol class="lowCase">
            <li>colon</li>

            <li>control characters</li>

            <li>spaces?</li>
          </ol>
        </li>

        <li>headers appear properly in Custom Headers dialog list

          <ol class="lowCase">
            <li>appears in custom headers dialog accessed through search
            ui</li>

            <li>appears in custom headers dialog when accessed through
            filter ui</li>

            <li>appears immediately</li>

            <li>changes to custom headers is written to prefs.js and/or
            rules.dat on confirm - if crash occurs, changes already written
            to file</li>

            <li>preserved through exit:

              <ul>
                <li>check the ui</li>

                <li>check the list in prefs.js
                (mailnews.customHeaders)</li>
              </ul>
            </li>
          </ol>
        </li>

        <li>headers appear in Filter Rules criteria dropdown after adding

          <ol class="lowCase">
            <li>for mail selection in filter dialog</li>

            <li>Not available for News - filtering not implemented for news
            (bug 17483, bug 16913)</li>
          </ol>
        </li>

        <li>headers appear in Search Messages criteria dropdown after
        adding</li>

        <li>cancel addition</li>

        <li>Add valid headers:</li>

        <li>Add invalid headers -- no error checking here</li>

        <li>add header doesn't disrupt existing criteria selection in
        Filter dialog

          <ol class="lowCase">
            <li>selected filter criteria is mail/not a custom header</li>

            <li>selected filter criteria is mail/custom header</li>
          </ol>
        </li>

        <li>add header doesn't disrupt existing criteria selection in
        Search dialog

          <ol class="lowCase">
            <li>selected search criteria is mail/not a custom header</li>

            <li>selected search criteria is mail/custom header</li>
          </ol>
        </li>
      </ol>
    </li>

    <li>Edit/replace existing header: current design provides for only
    Add/Remove, no Edit.</li>

    <li>Delete header

      <ol>
        <li>single</li>

        <li>multiple</li>

        <li>Delete last/only header in list</li>

        <li>Add one and delete it</li>

        <li>Deletions to custom headers list appear properly

          <ol class="lowCase">
            <li>change appears in custom headers dialog accessed through
            search ui</li>

            <li>change appears in custom headers dialog when accessed
            through filter ui</li>

            <li>change appears immediately</li>

            <li>change preserved through exit</li>
          </ol>
        </li>

        <li>cancel deletion</li>

        <li>delete a header which has an associated filter -- not sure of
        how we handle, make sure it's sensible</li>
      </ol>
    </li>

    <li>Filter for Custom Header

      <ol>
        <li>Filter folders various version mail servers

          <ol class="lowCase">
            <li>online</li>

            <li>offline</li>
          </ol>
        </li>

        <li>Filter for valid header</li>

        <li>Filter for invalid header -- simple no match, no validation of
        header/error checking</li>

        <li>Filter with valid matches</li>

        <li>Filter with no matches (valid header)</li>

        <li>Filter multiple headers

          <ol class="lowCase">
            <li>multiple AND</li>

            <li>multiple OR</li>

            <li>mix of custom header criteria and regular header
            criteria</li>
          </ol>
        </li>
      </ol>
    </li>

    <li>Search for Custom Header

      <ol>
        <li>Search various version mail servers

          <ol class="lowCase">
            <li>Search locally

              <ul>
                <li>online</li>

                <li>offline</li>
              </ul>
            </li>

            <li>Search server</li>
          </ol>
        </li>

        <li>Search for valid header</li>

        <li>Search for invalid header -- simple no match, no validation of
        header/error checking</li>

        <li>Search with valid matches</li>

        <li>Search with no matches (valid header)</li>

        <li>Search multiple headers

          <ol class="lowCase">
            <li>multiple AND</li>

            <li>multiple OR</li>

            <li>mix of custom header search criteria and regular search
            header criteria</li>
          </ol>
        </li>
      </ol>
    </li>

    <li>Other/Misc tests:

      <ol>
        <li>Try to edit custom header simultaneously accessed from filter
        and search dialog:

          <ol class="lowCase">
            <li>add</li>

            <li>delete</li>

            <li>edit/replace</li>
          </ol>
        </li>

        <li>Case where rules.dat has custom headers defined, but not
        defined in prefs.js (if someone has copied rules.dat from other
        profile) -- ref: bug 141354

          <ol class="lowCase">
            <li>the custom headers which are called in rules.dat should
            automatically be added to prefs.js</li>

            <li>adding new filters should not cause any rules.dat
            corruption</li>

            <li>custom headers should be retained in rules.dat, prefs.js,
            ui through exit</li>
          </ol>
        </li>

        <li>??? remember to bring up case for checking to see if header is
        even in a message when doing "doesn't contain". Not sure the design
        intention here, but in 4.5 (searching, maybe headers too) returns
        all messages in scope if doesn't contain is used. In other words,
        matches for the doesn't contain show in results even though those
        results/messages do not have the specified header.</li>
      </ol>
    </li>
  </ol>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 25,  2008</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/mailnews/tests/sea-mn-search-hdr.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
