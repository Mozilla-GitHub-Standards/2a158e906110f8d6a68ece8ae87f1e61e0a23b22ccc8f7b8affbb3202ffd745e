<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">


  <meta name="generator" content=
  "HTML Tidy for Windows (vers 25 January 2008), see http://tidy.sourceforge.net/">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="author" content="Sheela Ravindran">

  <title>Feature Test Specification: POP Account</title>

  <link rel="contents" href="./" title=
  "Mozilla MailNews Functional / UI Tests">
  <link rel="up" href="./" title="Mozilla MailNews Functional / UI Tests">
  <link rel="previous" href="sea-mn-socks-proxy.html" title=
  "Feature test spec: SOCKS Proxy">
  <link rel="next" href="mojo-offline-mail.html" title=
  "Feature test spec: Offline Basic functionality within mail">

  <style type="text/css">
  strong.c1 {text-decoration: underline;}
  </style>

<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">








  <p class="crumbs"><em>You are here:</em> <a href="./">Mozilla MailNews
  Functional / UI Tests</a> &gt; <strong>POP Account</strong></p>

  <h1>Feature Test Spec: Mail and News Component</h1>

  <h2>Mail and News Component: POP Account</h2>

  <address class="author">
    Written by <a href="mailto:sheelar@netscape.com">Sheela Ravindran</a>
  </address>

  <h3>References</h3>

  <h3>Description</h3>

  <p>This Test spec covers test cases specific to POP accounts and there
  preferences. POP account preferences are different from Imap accounts.
  Messages and folders are created and stored locally. POP3 Protocol is
  used to allow a workstation retrieve messages from the server. By
  default, once these messages are downloaded from the server they are
  deleted from the server and kept locally to that machine. However, there
  are preferences that can be used to leave a copy of the message on the
  server for future downloading in case of same accounts used on multiple
  machines.</p>

  <p class="note">The test cases in this document does not cover any
  prefrences with offilne Imap or POP accounts. Please refer to an offline
  test spec for more specific offline behavior.</p>

  <h3>POP3 Log File Setup</h3>

  <p>If you report problems which occur when using POP3 protocol, it is
  often useful to include a log attached to the bug report. Here are the
  instructions for capturing a log.</p>

  <p><strong>Windows 95/98</strong>: Create "c:\tmp" for the log file to
  reside in if the directory does not exist. Insert the following lines
  into your<br>
  autoexec.bat file:</p>

  <p>Set NSPR_LOG_MODULES=POP3<br>
  Set NSPR_LOG_FILE=c:\tmp\[filename]</p>

  <p>The filename can be defined by you. Reboot.<br>
  <strong>Unix</strong>: run the following commands before running mozilla,
  or add them to the proper rc file (like ~/.cshrc for csh)</p>

  <p>(for tcsh / csh):<br>
  setenv NSPR_LOG_MODULES POP3<br>
  setenv NSPR_LOG_FILE /tmp/[filename]<br>
  <strong>Mac</strong>: Create a text file that contains the desired
  commands in a text editor such as BBEdit:</p>

  <p>ARGS: -mail<br>
  ENV:NSPR_LOG_MODULES=POP3<br>
  ENV:NSPR_LOG_FILE=[filename]</p>

  <p>The filename can be defined by you. Save this file and drag and drop
  this file on the Netscape/Mozilla application<br>
  icon. The log file is created in the seamonkey folder.</p>

  <h3>POP Specific Preferences</h3>

  <h4>Edit|Accounts and Settings</h4>

  <p>Automatically download any new messages<br>
  Leave messages on the server<br>
  Delete messages on the server when they are deleted locally<br>
  Disk space:<br>
  a.Do not download messages locally that are larger than [50] KB</p>

  <p>Other related perferences which influence a different behavior of POP
  account</p>

  <p>Check for new mail at start up<br>
  Check for new messages every [10] minutes</p>

  <p><strong>Edit|Preferences</strong><br>
  Disk Space<br>
  b.Compact folders when it will save over [100] KB-Preference panel<br>
  Play a sound(when new message arrives)</p>

  <p><strong>Default Settings</strong><br>
  Below are the default settings of a POP account that is created in a new
  profile. They are as follows:<br></p>

  <table class="data">
    <thead>
      <tr>
        <th>Preferences</th>

        <th>Default Value</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>Automatically download any new messages</td>

        <td>Off</td>
      </tr>

      <tr>
        <td>Leave messages on the server</td>

        <td>Off</td>
      </tr>

      <tr>
        <td>Delete messages on the server when they aer deleted
        locally</td>

        <td>Off</td>
      </tr>

      <tr>
        <td>Do not download messages locally that are larger than N kb</td>

        <td>Off</td>
      </tr>

      <tr>
        <td>Compact folders when it will save over N kb</td>

        <td>Off</td>
      </tr>

      <tr>
        <td>Check for new mail at start up</td>

        <td>On</td>
      </tr>

      <tr>
        <td>Check for new messages ever N minutes</td>

        <td>On</td>
      </tr>

      <tr>
        <td>Play a sound</td>

        <td>On</td>
      </tr>
    </tbody>
  </table>

  <h3>POP Functionality Tests</h3>

  <h4>Automatically download any new messages</h4>

  <ul>
    <li>Verify this pref is unchecked by default with a new profile and new
    account

      <ul>
        <li>Verify when unchecked with Biff pref turned on, we only
        indicate with a Biff arrow at the account level</li>

        <li>Verify when Get Message button or menu item is used we download
        the message from the server.</li>

        <li>Also when creating a new profile with pop account and giving
        the password, we should not auto download messages without a
        explicit Get Message by the user.</li>
      </ul>
    </li>

    <li>Verify this pref is checked works according to the Biff interval
    perf-Check for new messages every [10] minutes

      <ul>
        <li>Verify that the specified time interval when there is a new
        message on the server the message should be dowloaded</li>

        <li>Also verify before the time limit and biff goes off if you do a
        Get Message, we still download the message from the server
        regardless of the Biff interval.</li>
      </ul>
    </li>

    <li>Verify creating a new profile and changing the pref to
    automatically download any new messages should retrieve messages after
    providing the correct password.</li>
  </ul>

  <h4>Leave messages on the server</h4>

  <ul>
    <li>Verify when this pref is checked there is a copy of every message
    that is downloaded left on the server</li>

    <li>Verify every new messsage received should leave a copy of that
    message on the server before the client retrieves that mail</li>

    <li>Verify when this pref is unchecked there are no messages left on
    the server. All messages are downloaded locally.</li>

    <li>Download messages from a single machine</li>

    <li>Download messages from multiple machines for the same account.</li>

    <li>Download messages from 2 different muliple POP accounts in a single
    profile</li>
  </ul>

  <p class="note">This pref only keeps track of messages in Inbox folder.
  This preference will not keep track of messages that are moved or stored
  in any of the local folders. This Pref will not keep track of any
  messages that is filtered and moved to another folder.</p>

  <h4>Delete messages on the server when they are deleted locally</h4>

  <p class="note">This preference works as stated only after user clicks on
  the Get message button or have Biff settings turned on. In which case
  there is a connection made to the server and messages will be removed
  from the server. This preference should be checked when you have left
  copies of messages on the server.</p>

  <ul>
    <li>Verify when this pref is checked the messages are deleted on the
    server when you remove them from the inbox on the machine. This can be
    verified by creating a new profile with the same account. The message
    that was deleted from the client should not reappear with the new
    download.</li>

    <li>Verify when this pref is checked and the message is moved from the
    inbox to any other folder, message gets deleted from the server. The
    message should be copied into the destination folder and then deleted
    from the inbox.</li>

    <li>Verify when this pref is unchecked the messages are not deleted on
    the server when they are deleted locally. This can verified by creating
    a new profile on the same machine or a new machine and downloading the
    messages. The message that was deleted locally should still be there on
    the server and downloaded with the new profile.</li>

    <li>Verify deleting a message followed by a Get message will delete the
    message on the server</li>

    <li>Verify deleting a message followed by a Biff interval will also
    delete the message on the server</li>
  </ul>

  <h4>Disk Space Preference</h4>

  <p>a. Do not download messages locally that are larger than [50] KB-
  Accounts and Sever settings panel</p>

  <ul>
    <li>Verify this perf is turned off by default</li>

    <li>Verify this pref has a default value as [50] kb size. Also verify
    that you can change the size in the text box.</li>

    <li>Verify this perf checked should not download message which exceeds
    the size specified in the brackets

      <ul>
        <li>Verify the message that exceeds the threshold shows the
        following when the message is displayed in the message pane: "
        <strong>Truncated</strong>! This message exceeded the Maximum
        Message Size set in Preferences, so we have only downloaded the
        first few lines from the mail server. Click <strong class=
        "c1">here</strong> to download the rest of the message".</li>

        <li>Verify by clicking the link" <strong class="c1">here</strong> "
        downloads the message completely. This should automatically select
        the message in the thread pane and also load the message pane with
        the complete message.</li>
      </ul>
    </li>
  </ul>

  <p>b. <strong>Compact folders</strong></p>

  <p>1. Pref: Compact folders when it will save over [100] KB</p>

  <ul>
    <li>Verify this perf is turned off by default</li>

    <li>Verify this pref has default value as [100]kb. Also verify that you
    can change the size in the text box.</li>

    <li>Verify this perf checked and reaches the threshold for cleanu
    displays the following dialog:</li>
  </ul>

  <ul>
    <li>"Do you wish to compact all local folders and offline folders to
    save disk space" "OK" "Cancel"</li>

    <li>Clicking "OK" should compact all local folders and the inbox where
    the space can be saved</li>

    <li>Verify when compaction is finished the file size of the folders
    that was compressed are changed to smaller size</li>

    <li>This can be verified using a file manager like Explorer etc. and
    looking into the profiles directory.</li>

    <li>Clicking "Cancel" should not compact any folders</li>
  </ul>

  <p>2. Menu Item: "Compact Folders"</p>

  <ul>
    <li>Verify from menu item " Compact Folders" does compact folders. This
    can be verified as stated above</li>

    <li>Verify even with the perf checked you can still start the
    compaction manually with the menu item</li>
  </ul>

  <p>3. Context Menu Item: "Compact this folder"</p>

  <ul>
    <li>Verify from context menu item when a folder is selected compacts
    only the selected folder</li>

    <li>Verify even with the pref checked you can still compact a single
    folder manually with the context menu item</li>
  </ul>

  <h4>Popstate.dat generated file which keeps track of message
  download</h4>

  <ul>
    <li>Keeps track of which message to remove after messages has been
    downloaded from the server</li>

    <li>Also keeps track of not downloading messages that have been already
    downloaded locally with leave messages on the server pref checked</li>

    <li>Interrupt message download of pop account by clicking " Stop"
    button should still not download messages twice. There should not be
    any duplicates when the message download is interrupted and continued
    by a " Get Message".</li>

    <li>Verify popstate.dat updates when deleting messages in the
    inbox.</li>
  </ul>

  <h4>Check new mail at start up</h4>

  <ul>
    <li>Verify this pref is checked by default on the first or default pop
    account</li>

    <li>Verify this perf checked should prompt the user with the password
    dialog to login</li>

    <li>Verify after authenticating successfully we check to see if there
    any new messages that needs to be downloaded by the user. This will be
    indicated by a Biff green arrow at the account level</li>

    <li>Verify messages are notwe do not download the messages untill the
    user clicks on Get Message button.</li>
  </ul>

  <h4>Check for new messages for every [N] minutes</h4>

  <ul>
    <li>Verify when only this pref is checked we just indicate with a green
    arrow at the account level</li>

    <li>Verify we do not download the message unless a Get message is
    executed OR Automatically download messages perf is checked.</li>
  </ul>

  <h4>Migration of a POP account from 4.x</h4>

  <ul>
    <li>Verify you can migrate a pop account from 4.x to 6.x</li>

    <li>Verify that when you migrate "Inbox" under " Local Mail" will now
    be under the its account name. Under the account name verify you have
    inbox, sent, drafts, template and trash folder created.</li>

    <li>Verify there is also a seperate account item called " Local
    Folders" which is different from the terminology "Local Mail" from 4.x.
    The Local Folders should consits of Unsent messages, sent, drafts,
    templates and trash folder. These folders under "Local Folders" are
    created once in a profile whether the account is migrated or created
    newly. Every profile includes one set of " Local Folders" with its
    respective folder as mentioned above regardless of how many different
    accounts you have in that profile</li>

    <li>Verify that drafts, templates from different accounts in a profile
    can be save to local folder's sent, drafts, templates etc.</li>

    <li>Change one of the preferences in a 4.x profile. Migrate that
    account to 6.x. Verify the preference that you changed in 4.x is
    carried over during migration.</li>

    <li>Verify migrated account is usable by composing a new message. Send
    and receive the message.</li>
  </ul>

  <h4>Visual /Feedback</h4>

  <ul>
    <li>Status bar indicating the message download. Example: Downloading
    message 1 of 100...</li>

    <li>Progress bar should show the total progress of message
    download.</li>

    <li>Show the status bar while building summary file. Example: Building
    summary file for inbox ..</li>
  </ul>

  <h4>Bug related and other scenarios for POP Testing</h4>

  <ul>
    <li>Message files stored locally- Verify the .msf file can be deleted
    and rebuilt automatically</li>

    <li>Interrupt Get messages with stop button and redownload messages

      <ul>
        <li>Verify there are no duplicate mails in the inbox</li>

        <li>Verify that it keeps track of number of messages already
        downloaded and should continue. Should not download messages from
        the beginning.</li>

        <li>Check the number of messages on the server prior to
        downloading. Also verify when interrupting and redownloading the
        messages are not lost.</li>

        <li>Verify the status bar and make sure that we keep track of the
        message download progress.</li>

        <li>Verify we do not dowload the message from the beginning.</li>
      </ul>
    </li>

    <li>Enter wrong password at the password dlg prompt. Verify the
    password dialog should reappear till the user clicks on "Cancel"
    button.</li>

    <li>Create a Brand new Profile with a default POP account

      <ul>
        <li>Verify this includes the local folders</li>

        <li>Verify this includes the default American Templates which are
        ready to use</li>
      </ul>
    </li>

    <li>Create more than one POP account in a profile

      <ul>
        <li>Verify you can log into both the accounts</li>

        <li>Verify the messages can be manually downloaded</li>

        <li>Verify messages can be downloaded using biff</li>

        <li>Verify sending messages works</li>
      </ul>
    </li>

    <li>Using POP account send messages later. Verify the messages are
    stored in the unsent message folder in the local folder</li>
  </ul>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 26,  2008</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/mailnews/tests/sea-mn-pop-account-functionality.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
