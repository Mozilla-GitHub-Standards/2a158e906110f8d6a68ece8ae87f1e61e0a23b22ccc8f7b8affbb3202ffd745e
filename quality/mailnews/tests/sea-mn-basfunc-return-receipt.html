<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">


  <meta name="generator" content=
  "HTML Tidy for Windows (vers 25 January 2008), see http://tidy.sourceforge.net/">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="authors" content="Peter Mock, Fenella Gor, Gary Chan">

  <title>Feature Test Specification: Return Receipt</title>

  <link rel="contents" href="./" title=
  "Mozilla MailNews Functional / UI Tests">
  <link rel="up" href="./" title="Mozilla MailNews Functional / UI Tests">
  <link rel="previous" href="sea-mn-reply.html" title=
  "Feature test spec: Reply">
  <link rel="next" href="sea-mn-saveas-msg.html" title=
  "Feature test spec: Save As">

  <style type="text/css">
  ol.uppCase {list-style-type: upper-alpha;}
  ol.lowCase {list-style-type: lower-alpha;}
  .specialNote {background-color: white; color: silver;}
  #MainList {list-style-type: upper-roman;}
  </style>

<script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">








  <p class="crumbs"><em>You are here:</em> <a href="./">Mozilla MailNews
  Functional / UI Tests</a> &gt; <strong>Return Receipt</strong></p>

  <h1>Feature Test Spec: Mail and News Component</h1>

  <h2>Mail and News Component: Return Receipt</h2>

  <address class="author">
    Written by Peter Mock<br>
    Updated by <a href="mailto:fenella@netscape.com">Fenella Gor</a> and
    <a href="mailto:gchan@netscape.com">Gary Chan</a>
  </address>

  <h3>References</h3>

  <p>5.0 Seamonkey:<br>
  Test case Management System: n/a</p>

  <p>This feature designed for Mail messages only and not designed for News
  messages. We can loosely describe MDN as a read receipt but this feature
  contain additional functionality.</p>

  <p>Description of feature from RFC: The MDN can be used to notify the
  sender of a message of any of several conditions that may occur after
  successful delivery, such as display of the message contents, printing of
  the message, deletion (without display) of the message, or the
  recipient's refusal to provide MDNs.</p>

  <p class="specialNote">The difference between a Return Receipt in
  Communicator 4.0 and a MDN in 5.0 is that a Return Receipt is generated
  from the Messenger Server and a MDN is generated from the client. A MDN
  is a short header returned and the original message is not attached to
  the MDN replied. The sender can "request" that a MDN message to be
  returned from the recipient. But the recipients has the option to send or
  ignore sending a MDN back to the sender.</p>

  <p>MDN is only currently being supported. Read receipts notify you that
  the recipient has opened your message. The recipient must have a mail
  program that uses the <dfn>Message Disposition Notification (MDN)</dfn> standard.
  <dfn>DSN (Delivery Service Notification)</dfn> is not being supported. DSN are
  delivery receipts that notify you that your message has arrived in the
  recipient's inbox on the mail server</p>

  <p>New feature is the ability to set your
  <abbr title="Message Disposition Notification">MDN</abbr> prefs
  globally or per mail account.</p>

  <p>Notation: <dfn>UA stands for User Agent</dfn><br>
  <dfn>MDN stands for Message Disposition Notification</dfn></p>

  <p>Pre setup information: Majority of tests will be performed in the
  Inbox folder.</p>

  <ol id="MainList">
    <li>Core MDN feature for Mails:

      <ol class="uppCase">
        <li>
          <strong>Global Preferences</strong>
          (Preferences|Mail&amp;Newsgroups|Return Receipts)

          <ol>
            <li>Default settings (Return receipts are off)

              <ol class="lowCase">
                <li>Unchecked: When Sending messages, always request a
                return receipt</li>

                <li>When a receipt arrives - Leave it in my inbox radio
                button is filled</li>

                <li>Allow return receipts for some messages</li>
              </ol>
            </li>

            <li>UI

              <ol class="lowCase">
                <li>Text is clear</li>

                <li>Spelling</li>

                <li>Text format within allotted space in panel</li>

                <li>Option(s) enable/disable appropriately</li>

                <li>Options stick through exit</li>

                <li>Cancel doesn't edit options</li>
              </ol>
            </li>
          </ol>
        </li>

        <li>
          <strong>Account Preferences</strong>

          <ol>
            <li>Default settings

              <ol class="lowCase">
                <li>Set to - Use my global return receipt preferences for
                this account.</li>

                <li>The rest of the prefs should be unchecked/grayed
                out</li>

                <li>If you change the pref to - Customize return receipts
                for this account - it should enable all checkboxes,
                comboboxes, and radio buttons for that particular account.
                And the radio button for global setting should
                disappear</li>

                <li>toggling between the global/customize radio buttons
                should have no adverse affects</li>
              </ol>
            </li>

            <li>UI

              <ol class="lowCase">
                <li>Text is clear</li>

                <li>Spelling</li>

                <li>Text format within allotted space in panel</li>

                <li>Option(s) enable/disable appropriately</li>

                <li>Options stick through exit</li>

                <li>Cancel doesn't edit options</li>
              </ol>
            </li>
          </ol>
        </li>

        <li>
          <strong>Sender</strong>:

          <ol>
            <li>Verify for both Global &amp; Account based prefs, that if
            you check the pref 'When sending messages, always request a
            return receipt'

              <ol class="lowCase">
                <li>A return receipt request is sent to the receiver</li>

                <li>In the compose message window, the file menu item:
                Options|Return Receipt is checked</li>

                <li>If the pref 'When sending messages, always request a
                return receipt', in the Global or Account pref, is
                unchecked, then the compose mesg window file menu item:
                Options|Return Receipt is unchecked</li>

                <li>Verify you can override either the Global or Account
                settings for requesting a return receipt by
                checking/unchecking the file menu in the compose mesg
                window: Options|Return Receipt</li>
              </ol>
            </li>

            <li>Verify checking the pref for "When a Receipt arrives":

              <ol class="lowCase">
                <li>Leave it in my Inbox- return receipt arrives in your
                inbox</li>

                <li>Move it to my Sent Mail Folder - return receipt arrives
                in your sent folder

                  <ol>
                    <li>Subset test is if the Sent folder is Under your
                    main account or under Local Folders (currently a
                    <a href=
                    "http://bugzilla.mozilla.org/show_bug.cgi?id=135987">bug</a>
                    with Sent folder under Local Folders)</li>
                  </ol>
                </li>
              </ol>
            </li>

            <li>Compose mesg

              <ol class="lowCase">
                <li>Verify Return receipts work with HTML Compose
                window</li>

                <li>Verify Return receipts work with Plain Text Compose
                window</li>

                <li>Verify Return receipts work with an attachment</li>
              </ol>
            </li>

            <li>Type of Mail messages to send

              <ol class="lowCase">
                <li>New Message (MDN is assumed to be sent to original
                sender)</li>

                <li>Replied</li>

                <li>Forwarded: Verify that when you forward an original
                message as attachment (the message contained a return
                receipt header) , the recipient, upon reading the message
                (based on their prefs), doesn't get prompted for return
                receipts (default). Check the 2 cases below:

                  <ol class="lowCase">
                    <li>In the compose window, <strong>check</strong>
                    Options | Return Receipt and forward the message.
                    Verify that when the recipient selects the message, and
                    if they acknowledge and send the receipt, that the
                    sender (you) receives a copy of the Return Receipt
                    notification.</li>

                    <li>In the compose window, make sure Options | Return
                    Receipt is <strong>unchecked</strong> and forward the
                    message. Verify that when the recipient selects the
                    message, they don't receive any prompt to acknowledge,
                    and nobody receives and Return Receipt
                    notifications.</li>
                  </ol>
                </li>
              </ol>
            </li>

            <li>Verify that you can override any Global Return receipt pref
            settings when you do Customize return receipts for this
            account</li>

            <li>Sender requesting a MDN has the following characteristics

              <ol class="lowCase">
                <li>Message ID is different from original message.</li>

                <li>MDN is NOT encrypted if the original message was
                encrypted.</li>

                <li>A MDN is sent even if you send yourself a message</li>

                <li>One MDN is sent per message</li>

                <li>Sender will receive a MDN from each platform where the
                receiver reads the message.</li>
              </ol>
            </li>
          </ol>
        </li>

        <li>
          <strong>Receiver</strong>:

          <ol>
            <li>Receiver: verify that the type of message sent is correctly
            displayed in the Returned Receipt.

              <ol class="lowCase">
                <li>HTML message</li>

                <li>Plain Text message</li>

                <li>Both HTML &amp; Plain Text message</li>
              </ol>
            </li>

            <li>Verify for Global prefs, Receiver selects the options from
            Preferences|Mail&amp;Newsgroups|Return Receipt and verifies
            that each of the options works according to your selections.

              <ol class="lowCase">
                <li>"When I receive a request for a return receipt "

                  <ol>
                    <li>Never send a receipt</li>

                    <li>Allow Return receipts for some messages</li>
                  </ol>
                </li>

                <li>Customizing return receipts

                  <ol>
                    <li>Send a return receipt (if I'm not in the To or CC
                    list of the message (such as when I am in the mailing
                    list alias only)):

                      <ul>
                        <li>Never Send</li>

                        <li>Automatically Send</li>

                        <li>Ask me</li>
                      </ul>
                    </li>

                    <li>Send a return receipt (If the sender is outside my
                    domain [ex. netscape.com])

                      <ul>
                        <li>Never Send</li>

                        <li>Automatically Send</li>

                        <li>Ask me</li>
                      </ul>
                    </li>

                    <li>Send a return receipt (in all other cases)

                      <ul>
                        <li>Never Send</li>

                        <li>Automatically Send</li>

                        <li>Ask me</li>
                      </ul>
                    </li>
                  </ol>
                </li>

                <li>When you have received a message with a Return Receipt
                and you click on it

                  <ol>
                    <li>Verify, if you have pref to "ask me", that the
                    confirmation window

                      <ul>
                        <li>"The sender of this message has asked to be
                        notified when you read this message. Do you wish to
                        notify this sender?"</li>

                        <li>text is clear and spelled correctly</li>

                        <li>click "ok button" sends the return receipt</li>

                        <li>click "cancel button" doesn't send a return
                        receipt back</li>
                      </ul>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>

            <li>Verify for Account based prefs, Receiver selects the
            options from Mail &amp;Newsgroup Account settings|Return
            Receipt and verifies that each of the options works according
            to your selections.

              <ol class="lowCase">
                <li>"When I receive a request for a return receipt "

                  <ol>
                    <li>Never send a receipt</li>

                    <li>Allow Return receipts for some messages</li>
                  </ol>
                </li>

                <li>Customizing return receipts

                  <ol>
                    <li>Send a return receipt (if I'm not in the To or CC
                    list of the message (such as when I am in the mailing
                    list alias only)):

                      <ul>
                        <li>Never Send</li>

                        <li>Automatically Send</li>

                        <li>Ask me</li>
                      </ul>
                    </li>

                    <li>Send a return receipt (If the sender is outside my
                    domain [ex. netscape.com])

                      <ul>
                        <li>Never Send</li>

                        <li>Automatically Send</li>

                        <li>Ask me</li>
                      </ul>
                    </li>

                    <li>Send a return receipt (in all other cases)

                      <ul>
                        <li>Never Send</li>

                        <li>Automatically Send</li>

                        <li>Ask me</li>
                      </ul>
                    </li>
                  </ol>
                </li>

                <li>When you have received a message with a Return Receipt
                and you click on it

                  <ol>
                    <li>Verify, if you have pref to "ask me", that the
                    confirmation window

                      <ul>
                        <li>"The sender of this message has asked to be
                        notified when you read this message. "Do you wish
                        to notify this sender?"</li>

                        <li>text is clear and spelled correctly</li>

                        <li>click "ok button" sends the return receipt</li>

                        <li>click "cancel button" doesn't send a return
                        receipt back</li>
                      </ul>
                    </li>
                  </ol>
                </li>

                <li>Verify that you can override any Global return receipt
                pref settings when you do 'Customize return receipts for
                this account'.</li>
              </ol>
            </li>

            <li>When receiver receives the message, a MDN message will
            trigger a MDN to be sent to the sender when:

              <ol class="lowCase">
                <li>Receiver reads the message with the Message pane
                open</li>
              </ol>
            </li>

            <li>Receive a message with a Return Receipt, in the 3 pane
            window, with the message pane closed (3rd pane)

              <ol class="lowCase">
                <li>verify that you will not be prompted for a return
                receipt if you click on the message in the thread pane</li>

                <li>verify you will be prompted for a return receipt if
                you, double click on the message (while mesg pane still
                closed) and open it in a new window</li>

                <li>verify you will be prompted for a return receipt if
                you, reopen the message pane, and click on the message in
                the thread pane</li>
              </ol>
            </li>
          </ol>
        </li>

        <li>
          <strong>Verifying MDN message</strong>:

          <ol>
            <li>Verify that when the Return Receipt message is sent back to
            the sender

              <ol class="lowCase">
                <li>Subject line contains: Return Receipt (Displayed) -
                &lt;original subject line&gt;</li>

                <li>Verify both in the message and the message source the
                following:

                  <ol>
                    <li>The first component of the multipart/report
                    contains a human-readable explanation of the MDN. The
                    general disclaimer that the mesg was displayed on the
                    recipient's computer but not necessarily
                    understood</li>

                    <li>The second component of the multipart/report is of
                    content-type message/disposition-notification. This
                    includes user agent string and the following:
                    "Disposition: manual-action/MDN-sent-manually;
                    displayed"</li>

                    <li>The third component of the multipart/report would
                    be the original message or portion of the original
                    message. In our case, the original header of the
                    message. Also included is the
                    "Disposition-Notification-To:" header.</li>
                  </ol>
                </li>

                <li>There are 2 additional attachments in the Return
                Receipt message:

                  <ol class="lowCase">
                    <li>MDNPart2.txt - 2nd component of the Return
                    Receipt</li>

                    <li>MDNPart3.txt - 3rd component of the Return
                    Receipt</li>

                    <li>Note: Known <a href=
                    "http://bugzilla.mozilla.org/show_bug.cgi?id=134114">bug</a>
                    that clicking on those attachments doesn't result in
                    them opening.</li>
                  </ol>
                </li>
              </ol>
            </li>

            <li class="specialNote">Use the View|Page Source to verify a
            MDN message the correct message/disposition-notification
            content-type, Original-Recipient field, and error state.

              <ol class="lowCase">
                <li class="specialNote">Type of MDN ( The type depends on
                what the user did with the message.)

                  <ol>
                    <li class="specialNote">Displayed (The message has been
                    displayed by the UA to someone reading the recipient's
                    mailbox. There is no guarantee that the content has
                    been read or understood.)</li>

                    <li class="specialNote">Dispatched (The message has
                    been sent somewhere manner (e.g., printed, faxed,
                    forwarded) without being displayed to the user. The
                    user may or may not see the message later.)</li>

                    <li class="specialNote">Processed (The message has been
                    processed in some manner (i.e., by some sort of rules
                    or server) without being displayed to the user. The
                    user may or may not see the message later, or there may
                    not even be a human user associated with the
                    mailbox.)</li>

                    <li class="specialNote">Deleted (The message has been
                    deleted. The recipient may or may not have seen the
                    message. The recipient might "undelete" the message at
                    a later time and read the message.)</li>

                    <li class="specialNote">Denied (The recipient does not
                    wish the sender to be informed of the message's
                    disposition. A UA may also silently ignore message
                    disposition requests in this situation.)</li>

                    <li class="specialNote">Failed (A failure occurred that
                    prevented the proper generation of an MDN.)</li>
                  </ol>
                </li>

                <li class="specialNote">MDN disposition modes

                  <ol class="lowCase">
                    <li class="specialNote">
                    Manual-action/MDN-sent-manually</li>

                    <li class="specialNote">Automatic
                    action/MDN-sent-automatically</li>
                  </ol>
                </li>
              </ol>
            </li>

            <li>Security

              <ol class="lowCase">
                <li>Requesting for MDN for a signed message</li>

                <li>Requesting for MDN for a encrypted message</li>

                <li>Requesting for MDN for a signed and encrypted
                message</li>
              </ol>
            </li>
          </ol>
        </li>

        <li>Different Mail accounts

          <ol>
            <li>Test both sending and receiving a return receipt with/from

              <ol class="lowCase">
                <li>imap mail account</li>

                <li>pop mail account</li>
              </ol>
            </li>
          </ol>
        </li>

        <li>Filters

          <ol>
            <li>Verify Return receipts work for filtered messages</li>
          </ol>
        </li>

        <li>Mail Lists/Alias

          <ol>
            <li>Verify Return Receipts works for

              <ol class="lowCase">
                <li>Mail lists in your addressbook</li>

                <li>Aliases</li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>

    <li class="specialNote">Core MDN feature for News:

      <ol class="uppCase">
        <li class="specialNote">Setting for requesting for a Return Receipt
        (from Edit|Preferences|Return Receipt):

          <ol>
            <li class="specialNote">DSN (A delivery receipt from the mail
            server, previous return receipt feature)</li>

            <li class="specialNote">MDN (A read receipt, notify me when
            recipients display the message)</li>

            <li class="specialNote">Both DSN and MDN</li>
          </ol>
        </li>

        <li class="specialNote">And verify that:

          <ol>
            <li class="specialNote">you will expect a return receipt (DSN)
            from the server</li>

            <li class="specialNote">you will not expect a MDN from the
            client</li>
          </ol>
        </li>
      </ol>
    </li>

    <li class="specialNote">Core DSN feature both Mail and News:

      <ol class="uppCase">
        <li class="specialNote">Select each of the following options from
        the Edit|Preferences|Return Receipt and send out a mail/news
        message:

          <ol>
            <li class="specialNote">DSN (A delivery receipt from the mail
            server, previous return receipt feature)</li>

            <li class="specialNote">Both DSN and MDN</li>
          </ol>
        </li>

        <li class="specialNote">Verifying DSN message

          <ol>
            <li class="specialNote">You will receive a Delivery receipt
            from the receiving server. (eg: Mail
            Administrator&lt;Postmaster@dredd.mcom.com)&gt; with the
            following message: This Message was delivered to the following
            recipients: Mailbox userid</li>

            <li class="specialNote">Check for server MTA(message transfer
            agent) information, sender and receiver id as well as content
            type.</li>
          </ol>
        </li>
      </ol>
    </li>

    <li>Inter Operability

      <ol class="uppCase">
        <li>Cross platform testing with other Communicator 4.x builds</li>

        <li>Testing 3rd party application that support MDN

          <ol>
            <li>Eudora 4.0</li>

            <li>Outlook</li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 17,  2008</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/mailnews/tests/sea-mn-basfunc-return-receipt.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
