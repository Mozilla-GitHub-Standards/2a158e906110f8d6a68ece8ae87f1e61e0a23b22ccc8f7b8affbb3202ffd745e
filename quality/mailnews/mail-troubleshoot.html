<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>Mail/News Troubleshoot Document</title>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<h1>Troubleshooting Mail/News</h1>
<p class="byline">by Lisa Chiang</p>

<p>These are tips on troubleshooting mail/news problems and suggestions on 
necessary information to include in a bug report if you are filing one. If 
you have more to add to this page, please email me!
<p><strong>Area:</strong><br>
<a href="#Compose">Compose</a> | <a href="#Send">Send</a> | 
<a href="#General">General</a> | <a href="#imap">IMAP</a>, 
<a href="#pop">POP</a>, <a href="#nntp">NNTP</a>, <a href="#smtp">SMTP</a> 
Protocol Logs</p>

<h2><a name="Compose">Compose</a></h2>
<p>When you encounter a bug in mail compose, try the following to narrow
down the bug further and include your findings in the bug report.</p>
<ul>
 <li>Does the problem occur in plain text compose? Does the problem occur 
  in HTML compose? You can change to a different compose window by bringing
  up the Account Setup dialog under the Edit menu.</li>
 <li>Does the problem occur in the Composer (outside of the mail application)?
  Mail compose uses most of the same code as the Composer. To use Composer,
  access it from the Tasks menu. If the problem occurs in Composer, file
  the bug under the "Browser" product in the "Editor" component.</li>
</ul>

<h2><a name="Send">Send</a></h2>
<p>If you have trouble sending a message, you may want to check your 
preference for authentication as described in  
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=47524">bug 47524</a></p>

<h2><a name="General">General</a></h2>
<p>Some general things to try before reporting a bug:</p>
<ul>
 <li>If you had migrated your profile and encounter a bug, try creating a 
  new account or a new profile to see if the bug occurs. If not, there may 
  be a preference that was not migrated over correctly.</li>
 <li>If you see a bug with a control (ie. drop-down list, pop-up menu, etc),
  try accessing a similar control in another area of the product. If the
  bug still exists, then file the bug under the "Browser" product in any
  of the appropriate "XP Toolkit" components.</li>
</ul>

<a NAME="imap"></a><a NAME="nntp"></a><a NAME="pop"></a><a NAME="smtp"></a>
<h2>IMAP, POP, NNTP, SMTP Protocol Logs</h2>
<p>If you report problems which occur when using these protocols, it's
often useful to include a log attached to the bug report you file. Here
are the instructions for capturing a log.<br>
<a name="protocol"><strong>For IMAP, POP, NNTP, or SMTP, replace 
<tt>protocol</tt> with <tt>IMAP</tt>, <tt>POP3</tt>, <tt>NNTP</tt>, or 
<tt>SMTP</tt> respectively</strong></a>.</p>

<p>Unless you really like to lose your logs, you should 
<em><strong>never</strong></em> set the variables in the system global 
environment. Doing so risks other applications accidentally honoring your 
request and destroying your logs. Note that you should 
<strong>rename</strong> your logs after mozilla quits, otherwise they
will be <strong>destroyed</strong> the next time you run mozilla.</p>

<h3>Windows:</h3>
<p>There are various ways to set the environment variables for logging 
mozilla. <strong>One</strong> is to create a batch file e.g. "runmozilla.bat"
with the following lines:</p>

<a name="win-lines"></a>
<pre>set NSPR_LOG_MODULES=<a href="#protocol">protocol</a>:<a href="#level">5</a>
set NSPR_LOG_FILE=<em>c:\tmp\</em><a href="#filename"><em>filename</em></a>
start mozilla</pre>

<p>Note that this will select mozilla based on your path or apppaths 
(registry). If you want to use a specific mozilla then you should enter 
the full path to it instead (put it in quotes). An easy way to get the 
full path to mozilla is to <a href="#win-prompt">start a command prompt</a>
and <em>drag and drop</em> <tt>mozilla.exe</tt> onto the command prompt. 
This is how I would do it:</p>

<pre>copy con runmozilla.bat
set NSPR_LOG_MODULES=<a href="#protocol">protocol</a>:<a href="#level">5</a>
set NSPR_LOG_FILE=%TEMP%\log.txt
start <em>drop mozilla.exe now</em>
<a title="Ctrl-Z/Control-Z">^Z</a></pre>

<p>When you want to run mozilla with logging, just run the batch file.
(You can double click it, create a shortcut to it, move it into your
start menu, or run it from a command prompt or the start>run dialog.)</p>

<p><a name="win-prompt"><strong>Another</strong> is to enter the same 
<a href="#win-lines">lines</a> in a command prompt:<br>
On Windows 9x: Start>Programs>MS DOS Prompt<br>
On Windows NT: Start>Programs>Command Prompt<br>
On Windows 2000, XP, 2003 Server: Start>Programs>Accessories>Command Prompt</a></p>

<h3>Mac:</h3>
<p>Create a text file that contains the desired commands in a text editor 
such as BBEdit:</p>
<pre>#!/bin/sh
export NSPR_LOG_MODULES=<a href="#protocol">protocol</a>:<a href="#level">5</a>
export NSPR_LOG_FILE=<a href="#filename"><a href="#filename"><em>filename</em></a></a>
/Applications/Thunderbird.app/Contents/MacOS/thunderbird-bin &amp;</pre>

<p>Save this file with a filename ending in <code>.command</code>, then double-click it.</p>

<h3>Unix:</h3>
<p>run the following commands before running mozilla, or add them to 
the proper rc file (like ~/.cshrc for csh)</p>
<pre># (for tcsh / csh):
setenv NSPR_LOG_MODULES <a href="#protocol">protocol</a>:<a href="#level">5</a>
setenv NSPR_LOG_FILE <em>/tmp/</em><a href="#filename"><em>filename</em></a>

#(for bsh):
export NSPR_LOG_MODULES=<a href="#protocol">protocol</a>:<a href="#level">5</a>
export NSPR_LOG_FILE=<em>/tmp/</em><a href="#filename"><em>filename</em></a></pre>

<p><strong>The <a name="filename"><em>filename</em></a> can be defined 
by you</strong></p>

<a name="level"></a><h3>Logging level</h3>
<p>The <strong>5</strong> in the first variable above specifies the level 
of logging you want - a lower number reduces the amount of information 
that is logged to the file.</p>

<p>The numbers are supposed to have the following meaning:</p>
<p>PR_LOG_NONE = <strong>0</strong></strong>, /* nothing */<br>
PR_LOG_ALWAYS = <strong>1</strong>, /* always printed */<br>
PR_LOG_ERROR = <strong>2</strong>, /* error messages */<br>
PR_LOG_WARNING = <strong>3</strong>, /* warning messages */<br>
PR_LOG_DEBUG = <strong>4</strong>, /* debug messages */</p>

<p>On all platforms, the log is written over every time you re-launch any
application which uses mozilla components.</p>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified December 21,  2005</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/quality/mailnews/mail-troubleshoot.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
