<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">

    <meta name="generator" content=
    "HTML Tidy for Windows (vers 14 February 2006), see www.w3.org">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta http-equiv="Content-Language" content="en">

    <meta name="DC.author" content="Chris Yeh">
    <meta name="DC.creator" content="Chris Yeh">
    <meta name="DC.title" content="Bonsai Tree Control">
    <meta name="DC.date.created" content="1998-11-10T15:43:03+11:00" scheme="W3CDTF">
    <meta name="DC.date.modified" content="2006-09-03T09:54:03+11:00" scheme="W3CDTF">

    <title>Bonsai Tree Control</title>
<script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">







    <h1>Hacking Mozilla With Bonsai</h1>


    <p>Bonsai was originally created to solve the problem of tree instability. The
    original Navigator code base had large sections that were shared across multiple
    platforms. Many times, code checked in would compile or run on a handful of
    platforms. Also, with as many as 100 engineers, it was very difficult to determine
    what happened in the tree that caused the instability. Bonsai was created to solve
    these problems.</p>


    <h2>The Process</h2>


    <ol>
        <li>Everyone who checks into the tree, joins a group called "the hook"</li>


        <li>At 8:00 AM PST every weekday morning, the source tree is closed.</li>


        <li>The build team will then pull the 8:00 AM tree, and build it on a subset of
        the platforms, Linux, Win32 &amp; MacPPC.</li>


        <li>At 10:00 AM, everyone who is on the hook is available in case the build
        breaks</li>


        <li>Eventually, the tree builds, and it is re-opened.</li>


        <li>There is a <a href="http://bonsai.mozilla.org/toplevel.cgi?treeid=newlayout">
            web page</a>, which records

            <ul>
                <li>If the tree is OPEN or CLOSED</li>


                <li>What the date stamp of the last known good tree is</li>


                <li>Who is on the hook for the current tree</li>
            </ul>
        </li>


        <li>Before the tree is opened, the list of checkins that happened when the tree
        was closed is reviewed to insure that only build related checkins took
        place.</li>


        <li>Before the tree is opened, there is a <strong>car pool lane</strong> where
        people who have been off on a branch and need a stable tip to merge in can pull
        the tip for their merge. These people, when they check in, will be "on the hook"
        for the next day's build. The <strong>car pool lane</strong> is only available to
        those who arrange access ahead of time with the release team.</li>


        <li>When the tree is re-opened, the web page is updated and the hook is
        cleared.</li>


        <li>Use the <a href=
        "http://bonsai.mozilla.org/cvsqueryform.cgi?cvsroot=/cvsroot">bonsai query
        tool</a> to see what's been checked in to the tree lately and to look at
        differences between versions. Read the <a href="../bonsai.html">introduction to
        bonsai</a> for more information about queries.</li>
    </ol>


    <h2>The rules</h2>


    <ol>
        <li>No checkins when the tree is closed unless you are fixing a build problem at
        the request of a build person.</li>


        <li>If you are on the hook, your top priority is to be available to the build
        team to fix bustages.</li>


        <li>If you are on the hook, you are findable. You are either at your desk, or
        pageable, checking e-mail constantly, or on IRC so that you can be found
        immediately and can respond to any problems in your code.</li>
    </ol>


    <h2>Helpful Attitudes</h2>


    <ol>
        <li>The build team are your friends. They are doing a not-so-fun job, so treat
        them with respect.</li>


        <li>People are "on the hook" collectively. Don't just blame a certain team and
        walk away.</li>
    </ol>


<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified September  3,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/hacking/bonsai.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
