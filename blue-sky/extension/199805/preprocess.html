
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../../images/mozilla-16.png" type="image/png">
<title>blue sky: extension</title><script src="../../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">


 
<br><center><font size="+3"><b><a href="../../">blue sky</a>:
<a href="../">extension</a></b></font></center>
 
<p><table border=0 cellspacing=0 cellpadding=5 width="100%">
 
<tr><td width="100%" bgcolor="#96cd96"><b>transformation services</b><br></td>
<td bgcolor="#96cd96">May&nbsp;22nd</td>
 
<tr><td colspan=2><font size="-1">Submitted by Pat Gunn
&lt;<a href="mailto:pgunn01@ibm.net">pgunn01@ibm.net</a>&gt;
to <a href="../">Extension</a>.</font></td>

</table>

The ability to create ways to preprocess pages before they display
would be a welcome addition to Mozilla's capabilities. This could
be made available for a variety of purposes, from providing a basis
for Machine Translation to having HTML filters. While it is true that
some of these features are already possible to some degree or another
by use of some of the undocumented tools in Mozilla, the adoption of
the TS services described in this document would provide for an easy,
flexible, and consistant means to do this.<p>

TS is based on the idea of a very simple, open API, and the use of
various modules which users may install and configure through the
preferences panels. These modules would receive the webpage
before it is fully parsed, and transform it as they are programmed, passing
the transformed webpage either to the next module (they may be
chained), or to the rendering/parsing engine. Naturally, users may want to
run more than one module at a time, perhaps one that acts as a
HTML filter to remove hostile tags (like BLINK and EMBED), and
another as a simple lingual translation engine. Similarly, users
may wish for modules to be applied to only some webpages,
perhaps those in a foreign language or with a hostile PICS rating,
and not other. Properly designed and integrated, such a system
should not slow browsing significantly, provided that the plugins
are not doing something highly computationally expensive (i.e.
lingual translation or PDF->HTML conversion).<p>

Plugins should be highly controllable using the preferences panel,
with the user being able to specify if the plugin should be active
for all pages, pages only in a certain language or PICS rating, or
only applied on command (perhaps using aurora or a menu). 
This naturally is a concern for time spent on the page before it
displays, as the browser may need to determine the language or
PICS rating of the page before it parses it fully. Furthermore, 
javascript generated pages are a major concern. Ideally, the
metacode for the browser receiving a webpage would be:<p>

<ul>
	<li>Retrieve page
	<li>Preparse:
	<ul>
		<li>Get PICS rating (if any)
		<li>Get Language declaration (if any)
		<li>Resolve Javascript's document.write(), staticising
			the pages (is this possible?)
	</ul>
	<li>Pass the page to TS Layer:
	<ul>
		<li>Pass through preferred ordering of modules,
		running any that are:
		<ul>
			<li>set to run for all PICS levels
			<li>set to run for this PICS level (if any)
			<li>set to run for all Languages
			<li>set to run for this Language
			<li>explicitly told by the user to run for this page
		</ul>
	</ul>
	<li>Pass the page to the parser
	<li>Pass the page to the display engine
</ul>

Considering that for the majority of users, the time for a webpage to
display is I/O bound, rather than CPU bound, for simple plugins the
impact of TS should not be a major performance concern.<p>

The API of TS should be as simple as possible, with the full HTML/XML
source being passed to the module. The module may set up a system
to preprocess and defer the handling of the webpages to another
piece of software, if the platform permits, or load files needed to
transform specific translation tasks. To point, on Unix and possibly
other systems, a module might pass the document to a perl or
shell script, and receive the resulting document back. Another
plugin might be a dejargonizing filter, and load a dictionary file
to do the translation. Yet another filter might prepare the document
in another format (RDF?) to prepare for advanced machine translation
between human languages, pass the prepared document to another
process, and receive the translated document back.<p>

Given these factors, it should be evident to the user, especially for
users of HTTPS, that they are not receiving the true page. Addition
of a third state to the lock logo in Mozilla, perhaps a red X, would
serve to indicate that a filter has been used in rendering the current
page.<p>

Because plugins could be written that allow the user to do almost
anything imaginable in any programming language to enchance
their web experience, and because the interface to that functionality
is so simple and lightweight, MT services in Mozilla would be a
popular and useful addition to Mozilla's already wide array of
capabilities. <p>


<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../../sitemap.html">Site Map</a></li>
<li><a href="../../../security/">Security Updates</a></li>
<li><a href="../../../contact/">Contact Us</a></li>
<li><a href="../../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified May 22,  1998</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/blue-sky/extension/199805/preprocess.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
