<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

 <title>Menu Bars and Menus</title>
 <link rel="content" href="./">
 <link rel="prev" href="xulintro.html">
 <link rel="next" href="toolbars.html">
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




 <h1>Menu Bars and Menus</h1>
 <address><a href="mailto:hyatt@netscape.com">David Hyatt</a>
  and <a href="mailto:oeschger@netscape.com">Ian Oeschger</a></address>
 <ul class="snav">
  <li><a href="xulintro.html">Previous: Introduction to a XUL Document</a>
  <li><a href="./">Table of Contents</a>
  <li><a href="toolbars.html">Next: Toolbars and Toolboxes</a>
 </ul>
 <dl>
  <dt>Feature Owners
  <dd><a href="mailto:saari@netscape.com">Chris Saari</a> (Mac Menus)
  <dd><a href="mailto:hyatt@netscape.com">David Hyatt</a> (XP Menus)
 </dl>
 <ul class="toc">
  <li><a href="#menubar">The Menu Bar</a>
  <li><a href="#menus">Menus</a>
  <li><a href="#menupopups">Menu Popups</a>
  <li><a href="#menuitems">Menu Items</a>
  <li><a href="#menutypes">Menu Types</a>
  <li><a href="#menustyles">Menu Styles</a>
 </ul>
 <h2 id="menubar">The Menu Bar</h2>
 <p>A XUL document can contain exactly one menu bar, specified using the
  <code>menubar</code>
  tag. As one might expect, this tag specifies the contents of the menu bar.
  This menu bar is either placed inside the window (on Windows and GTK) or
  is used as the menu bar when the window specified by the XUL file is the
  active window (on the Mac).
 <p>If the XUL document is not opened as a top-level window (see <a href="windows.html">Windows
  and Dialogs</a>), then the <code>menubar</code>
  tag is ignored.
 <p>The menubar tag contains <code>menu</code> tags as children. Each menu
  child represents one top-level menu on the menu bar.
 <pre class="code">&lt;menubar&gt;
  &lt;menu label="File"/&gt;
  &lt;menu label="Edit"/&gt;
  &lt;menu label="View"/&gt;
  &lt;menu label="Help"/&gt;
&lt;/menubar&gt;</pre>
 <div class="figure"><img src="menubar.gif" alt="Rendering example of above showed code"></div>
 <h2 id="menus">Menus</h2>
 <p>The <code>label</code> attribute on a <code>menu</code>
  is the display name that is used for that menu. Menus contain a <code>menupopup</code>
  tag that represents the popup view for a menu. In the menupopup, menu items
  are represented using the <code>menuitem</code>
  tag, and their display names are also set using the <code>label</code>
  attribute.Separators are represented using the <code>menuseparator</code>
  tag. This tag contains no children.
 <pre class="code">&lt;menu label="File"&gt;
  &lt;menupopup&gt;
    &lt;menuitem label="New..."/&gt;
    &lt;menuitem label="Close"/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Save"/&gt;
    &lt;menuitem label="Save As..."/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Exit"/&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;</pre>
 <div class="figure"><img src="menubar2.gif" alt="Rendering example of above showed code"></div>
 <h3>Submenus</h3>
 <p>The menu popup can contain menu items or additional menus as children,
  the distinction being that menus always have children, and menu items never
  have children. When a menu is a child of a menu, it is displayed as a <i>submenu</i>.
 <pre class="code">&lt;menu label="File"&gt;
  &lt;menupopup&gt;
    &lt;menuitem label="New..."/&gt;
    &lt;menu label="Open"&gt;
      &lt;menupopup&gt;
         &lt;menuitem label="Open with Composer" /&gt;
         &lt;menuitem label="Open with Navigator" /&gt;
         &lt;menuitem label="Open with NoteTab" /&gt;
      &lt;/menupopup&gt;
    &lt;/menu&gt;
    &lt;menuitem label="Close"/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Save" /&gt;
    &lt;menuitem label="Save As..."/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Exit"/&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;</pre>
 <div class="figure"><img src="submenu.gif" alt="Rendering example of above showed code"></div>
 <h2 id="menupopups">Menu Popups</h2>
 <p>Menu popups are the menu area displayed below the menu itself:
 <div class="figure"><img SRC="menu_and_popup.gif" alt="Example of popup menu"></div>
 <p>When menus do not contain popups as children, they cannot display menu
  content and appear only as labels in the menubar.
 <h3>Positioning popups</h3>
 <p>The <code>menupopup</code> element has a couple of attributes that make
  it possible to position it in various ways in relation to the menu itself.
  The <code>popupanchor</code> attribute specifies where the popup will be anchored
  on the menu when it pops up. The default value for menus in the menubar
  is <code>bottomleft</code>. Possible values are <code>bottomleft</code>, <code>bottomright</code>,
  <code>topright</code>,
  and <code>topleft</code>. <code>bottomleft</code> specifies that the popup will be
  displayed underneath the menu and flush on the left side. For menus in
  menu bars, all other values but <code>bottomleft</code> for popupanchor are ignored
  because of the space constraints typical of menu bars. The
  <code>popupalign</code>
  attribute describes the position of the popup rather than the menu. In
  the File menu below, the arrow is pointing to the anchor point of the menu
  and the alignment point of the popup.
 <div class="figure"><img src="popupanchor.gif" alt="More examples of popup menu"></div>
 <p>Together, these two attributes give you expert-level control overt
  the positioning of menus in your application. The menu buttons in the taskbar
  on the bottom of the navigator are an example of an instance where this
  sort of control might be necessary. The taskbar menus should pop UP rather
  than DOWN, since they're located at the bottom of the window.  In
  this case, a <code>popupanchor</code> of <code>topleft</code> and a <code>popupalign</code>
  of <code>bottomleft</code> should be used to display the menus clearly.
 <h2 id="menuitems">Menu Items</h2>
 <p>On platforms other than the Macintosh, menus and menu items may contain
  arbitrary HTML/XUL. If HTML/XUL is placed inside a menu item or menu, it
  will be used as the menu's look (rather than the display text and accelerator
  text used by default if no HTML/XUL children are specified). Be aware if
  you choose to do this that the Macintosh cannot display these tags. Always
  have a <code>label</code> attribute and an <code>oncommand</code> attribute on menu items to ensure
  interoperability with the Mac.
 <h3>Executing Menu Commands</h3>
 <p>The <code>oncommand</code> attribute can be used to invoke commands when particular
  menu items are chosen. In the following example, the window closes when
  the Close menu item is chosen from the File menu.
 <pre class="code">&lt;menu label="File"/&gt;
  &lt;menuitem label="New..."/&gt;
  &lt;menuitem label="Close" <strong>oncommand="window.close()</strong>"/&gt;
  &lt;menuseparator/&gt;
  &lt;menuitem label="Save"/&gt;
  &lt;menuitem label="Save As..."/&gt;
  &lt;menuseparator/&gt;
  &lt;menuitem label="Exit"/&gt;
&lt;/menu&gt;</pre>
 <p>The <code>command</code> event is executed whenever
  a menu item is invoked. This event can be added through script (via the
  <code>addEventListener</code>
  AOM API), or an <code>oncommand</code> attribute
  can be placed on the <code>menuitem</code>
  tag, as in the example above.
 <p>Command event listeners can also be placed on menus and menu bars. Command
  events that occur on menu items, if not handled by the items, will bubble
  up to their parent menus, to the menu bar, and then up into the document.
 <pre class="code">&lt;menu label="File" accesskey="f" <strong>oncommand="MotherOfCmds()"</strong>/&gt;
  &lt;menuitem label="New..." /&gt;
   &lt;menuitem label="Close"/&gt;
   &lt;menuseparator/&gt;
   &lt;menuitem label="Save" /&gt;
   &lt;menuitem label="Save As..." /&gt;
   &lt;menuseparator/&gt;
   &lt;menuitem label="Exit"/&gt;
 &lt;/menu&gt;</pre>
 <h3>Keyboard Shortcuts and Accelerators</h3>
 <p>Menus can also have shortcut keys and accelerators defined. The shortcut
  key is a single letter that can be used (on some platforms) to quickly
  access the menu in combination with another key (e.g., ALT). The attribute
  for specifying this key is <code>accesskey</code>.
 <p>Accelerators are key combinations that represent the same command that
  would be invoked if the menu item were selected. An accelerator is made
  up of an access key and a modifier. For example, the combination Ctrl +
  O, represented in a key binding set as <code>&lt;key id="open" key="0" command="true"/&gt;</code>,
  can be defined to invoke the Open command when. This means that Ctrl
  + O can be pressed as an alternative to selecting Open from the File menu.
 <p>There is a single attribute
  <code>key</code>
  whose value represents the ID of a <code>key</code>
  element in the key binding set. (See <a href="keybinding.html">Key Binding</a>
  for details.) You can also just specify the accelerator text directly using
  the <code>acceltext</code> attribute.
 <pre class="code">&lt;menu label="File" accesskey="f"/&gt;
  &lt;menuitem label="New..." accesskey="n" key="newKey"/&gt;
  &lt;menuitem label="Close" accesskey="c" key="closeKey"/&gt;
  &lt;menuseparator/&gt;
  &lt;menuitem label="Save" accesskey="s" key="saveKey"/&gt;
  &lt;menuitem label="Save As..." accesskey="a" key="saveAsKey"/&gt;
  &lt;menuseparator/&gt;
  &lt;menuitem label="Exit" accesskey="x" key="exitKey"/&gt;
&lt;/menu&gt;</pre>
 <h3>Disabling and Checking Menuitems</h3>
 <p>Menus can be enabled or disabled. The <code>disabled</code>
  attribute, if set to
  <code>true</code>, indicates that
  the menu item is disabled.
 <pre class="code">&lt;menu label="File"&gt;
  &lt;menupopup&gt;
    &lt;menuitem label="New..."/&gt;
    &lt;menu label="Open"/&gt;
    &lt;menuitem label="Close"/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Save" <strong>disabled="true"</strong>/&gt;
    &lt;menuitem label="Save As..."/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Exit"/&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;</pre>
 <div class="figure"><img src="menu_disabled.gif" alt="Rendering example of above showed code"></div>
 <p>The <code>setAttribute</code> and <code>unsetAttribute</code>
  AOM methods can be used on the menu or menu item element to set and clear
  this attribute dynamically. Doing so will cause the menu or menu item to
  enable/disable when the command it represents is not possible given the
  current context.
 <p>Menus can also be checked (or unchecked). The <code>checked</code>
  attribute, if set to <code>true</code>, indicates that
  the menu item is checked. As with the <code>disabled</code>
  attribute, the AOM APIs can be used to check or uncheck the menu by setting
  or unsetting this attribute.
 <pre class="code">&lt;menu label="File"&gt;
  &lt;menupopup&gt;
    &lt;menuitem label="New..."/&gt;
    &lt;menu label="Open"/&gt;
    &lt;menuitem label="Close"/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Save" disabled="true"/&gt;
    &lt;menuitem label="Save As..." <strong>checked="true"</strong>/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Exit"/&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;</pre>
 <div class="figure"><img src="menu_checked.gif" alt="Rendering example of above showed code"></div>
 <h2 id="menutypes">Menu Types</h2>
 <p>XUL also supports different types of menu. In addition to the default menu
  type, which has no check marks or other indicators, you can also use the
  <code>type</code> attribute to specify menuitems of type <code>radio</code>
  and <code>checkbox</code>.
  Type, in this case, is a function of the menuitems and not the menu itself.
 <p>A <code>radio</code> menu allows the user to check only a single menuitem
  at any time. When an item is selected from the radio menu, that item is
  checked, and any other item that was checked before is cleared. This functionality
  requires that all menuitems participating in this group be given the same
  <strong>name</strong>.
 <pre class="code">&lt;menu label="Wash"&gt;
  &lt;menupopup&gt;
    &lt;menuitem disabled="true" label="Special Wax" /&gt;
    &lt;menuseparator /&gt;
    &lt;menuitem type="radio" name="w1" label="Disinfect" /&gt;
    &lt;menuitem type="radio" name="w1" label="Scrub" /&gt;
    &lt;menuitem type="radio" name="w1" label="Hose Down" /&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;</pre>
 <div class="figure"><img src="menu_radio1.gif" alt="Rendering example of above showed code"></div>
 <div class="figure"><img src="menu_radio2.gif" alt="Rendering example of above showed code"></div>
 <p>Note that the first menuitem is not part of the radio set. When the
  user chooses "Scrub" from the Wash menu, the Disinfect item that was previously
  selected is deselected. In this scenario, the user can choose only one
  type of wash at a time.
 <p>A <code>checkbox</code> menu type also uses checks to indicate selected items,
  but it does not prohibit the selection of multiple items. When the example
  menu above is specified as a checkbox menu, the user can choose to activate
  a group of items.
 <pre class="code">&lt;menu label="Wash"&gt;
  &lt;menupopup&gt;
    &lt;menuitem disabled="true" label="Special Wax" /&gt;
    &lt;menuseparator /&gt;
    &lt;menuitem type="checkbox" label="Disinfect" /&gt;
    &lt;menuitem type="checkbox" label="Scrub" /&gt;
    &lt;menuitem type="checkbox" label="Hose Down" /&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;</pre>
 <div class="figure"><img src="menu_radio1.gif" alt="Rendering example of above showed code"></div>
 <div class="figure"><img SRC="menu_radio3.gif" alt="Rendering example of above showed code"></div>
 <p>Note that names are not necessary for checkbox menuitems, because the
  toggling of each item functions independently of the others.
 <h2 id="menustyles">Menu Styles</h2>
 <p>Menus support the use of anonymous classes for custom styling. Style selectors
  such as <code>.menu-text</code>, appearing without a base selector before a
  style definiton, will apply to all menu elements of that class. For example,
  the following style description will apply to both the <code>&lt;menu class="menu-text"&gt;</code>
  and <code>&lt;menuitem class="menu-text"/&gt;</code> elements:
 <pre class="code">.menu-text{
 color:inherit;
 padding:0;
 border:0;
 margin-top:0;
 margin-bottom:0;
 margin-right: 2px;
}</pre>
 <p>The classes that can be used in this way are arbitrary, but commonly
  used style classes include:
 <ul>
  <li>.menu-text
  <li>.menu-icon
  <li>.menu-left
  <li>.menu-right
 </ul>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 19,  2005</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/xpfe/xptoolkit/menus.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
