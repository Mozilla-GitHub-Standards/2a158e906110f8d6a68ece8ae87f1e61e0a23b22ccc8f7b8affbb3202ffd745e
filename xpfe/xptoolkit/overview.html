<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

 <title>Overview of a Package</title>
 <link rel="content" href="./">
 <link rel="prev" href="introduction.html">
 <link rel="next" href="xulintro.html">
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




 <h1>Overview of a Package</h1>
 <ul class="snav">
  <li><a href="introduction.html">Previous: Introduction</a>
  <li><a href="./">Table of Contents</a>
  <li><a href="xulintro.html">Next: Introduction to a XUL Document</a>
 </ul>
 <p>A hunk of UI machinery (including the description of its structure, appearance, behavior, and localizable
  strings) is called a <dfn>package</dfn>. Sample packages in the Communicator product
  include Navigator, Messenger, Preferences, Bookmarks
  and Composer.  Packages can communicate with one another and may share functionality (which can
  be abstracted into a common package).
 <p>The contents of a package can be divided into five primary components.
 <h2>1. Content</h2>
 <p>An XML-based description of the UI structure. This XML description will typically make
  use of two namespaces to define the UI.  The first is <a href="http://www.w3.org/MarkUp/">HTML</a>,
  as defined in the <a href="http://www.w3.org/TR/xhtml1/">XHTML working draft</a>.  The second namespace
  is called XUL.  XUL stands for XML-based User Interface Language, and this namespace provides
  additional widgets, features, and capabilities above and beyond what is available in HTML (e.g.,
  menubars, tab widgets, toolbars, etc.).
 <div class="figure"><img src="../aom/dialog_tree.gif" alt="A dialog has a (DOM) content tree" height="286" width="572"></div>
 <p>When Gecko's layout engine walks over this content tree, it instantiates widgets that correspond
  to the given tags (e.g., Gecko knows to make a menubar when it sees the tag "menubar").  In Gecko,
  these widgets are referred to as <i>frames</i> (not to be confused with the HTML frames found in
  framesets).
  These frames own pixels (and other presentation facilities, e.g., sound channels).
  They are the building blocks from which user interfaces are constructed.
  A radio-button is a widget,
  as is a menu, or a scrollbar.
  Widgets hook into the underlying document object model (DOM) and can use JavaScript
  to communicate with services when actions are performed on the widgets.
  E.g., a button (which is a widget) labeled "Print",
  might be configured to call the <i>printPage</i> method of
  an underlying browser service.
 <p>XPToolkit provides a cross-platform implementation for all of the XUL tags.  It is the intent that
  one day these implementations will be pluggable, so that a third party will be able to
  drop in a completely
  different implementation of a given widget, but for now that is not the case.
 <p>Widgets can be simple or complex.
  They can even be composed of other widgets.
  A toolbar-widget, for example,
  can contain several button widgets.
 <div class="figure"><img src="../aom/two_layers.gif" alt="Widgets are a `layer' above content tree" height="462" width="563"></div>
 <h2>2. Appearance</h2>
 <p>The appearance of the content can be customized using
  <a href="http://www.w3.org/Style/CSS/">Cascading Style Sheets</a>.  Just as style can be applied to
  HTML content, it can also be applied to XUL content.  The individual widgets defined in XUL are
  responsive to CSS1 (and even some CSS2) properties, and their
  appearance is therefore highly customizable.
 <h2>3. Behavior</h2>
 <p>The behavior of the package is defined using JavaScript, services, and
  the application object model.
 <h3>The Application Object Model</h3>
 <p>The XPToolkit is a collection of facilities
  that cooperate through a shared model of their environment.
  Much as the <a href="http://www.w3.org/DOM/">Document Object Model</a> defines a shared
  environment that can be assumed by any script or service that wants to work with a document,
  the Application Object Model (AOM) defines the environment assumed by components of the
  XPToolkit.
  This is a major part of the overall XPToolkit architecture.
 <p>The AOM defines (some of) the objects and relationships
  that compose the UI and related services of an application built on the XPToolkit.
  This object model is a super-set of the DOM, as a running app is expected to have one or more
  documents whose content is accessed through a strictly DOM compliant API.
  In the same way that we provide access to the DOM API both internally,
  e.g., to compiled C or C++,
  and externally,
  e.g., to a Java applet or to a hunk of JavaScript,
  the AOM is the primary mechanism for working with the XPToolkit,
  for both compiled code and scripts.
 <h3>Services</h3>
 <p>Services are the work-horses of an application.
  Services perform actual application-specific tasks,
  such as printing, fetching a the data at the other end of a URL, or sequencing some DNA.
  Services are controlled and directed with messages,
  usually sent by widgets,
  e.g., when the user pushes the "Print" button.
 <p>The implementation of a service is typically ignorant of the details
  of its own user interface, if it even has one
  (e.g., it might be `faceless').
  It merely exposes functions that enable messages to be sent to the service.
  In fact, the same service may be exploited by different UIs, even at the same time.
 <p>It is permissible of course for a service to know how to operate on a certain type of widget,
  e.g., a service might know how to populate a listbox with some data, but it is bad form for
  the service to contain any hardcoded knowledge of a content tree's internal structure (e.g.,
  a service shouldn't assume that it is operating on the second frame in a window's frames
  array).
 <p>A service can be written entirely in JavaScript or it can be a mixture of JavaScript and
  C++. The service permits access to its C++ code by exposing a scriptable interface using
  <a href="http://www.mozilla.org/scriptable/">XPIDL and XPConnect</a>.
  The service can therefore be instantiated and used entirely from JavaScript, even
  though the bulk of its implementation might be in C++.
 <div class="figure"><img src="../aom/all_layers.gif" alt="Services are a layer code below the content tree" height="535" width="565"></div>
 <h2>4. Locale</h2>
 <p>The fourth component of the package is that of locale.  The locale component
  includes all localizable strings as well as other information necessary to supply the
  appropriate appearance and behavior for the package.
 <p>Locale therefore overlaps with
  the previous three components, as it may overlay content, appearance, and behavior as
  necessary to ensure that the package conforms to a specific locale.
 <p>String resources are maintained in an external DTD, which allows the strings to be referenced using
  entities in XML. By separating the locale information from the rest of the package components, it
  becomes easier to switch between different locales without having to alter the other
  components of the package.
 <h2>5. Platform</h2>
 <p>The final component of a package is platform-specific information.  Like
  the locale component, this component overlaps with the first three, as it may be necessary to
  overlay different content, appearance, and behavior on top of the rest of the package components
  in order to ensure that the UI conforms to the desired look and feel on a given platform.
 <h2>The Whole Package</h2>
 <p>Together, all five of these components make up a complete package. By enforcing this separation
  among the components of the package, it becomes possible to swap out individual pieces of the
  package.  For example, new "skins" can be applied to an existing package by swapping out its
  appearance component with another.  Platform looks and feels can be swapped out by replacing
  the platform component. Different behavior can even be defined for the same content.



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January 16,  2005</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/xpfe/xptoolkit/overview.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
