<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

  <title>Collected Address Book</title>
                 
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
     
  <meta name="author" content="Scott MacGregor">
     
  <meta name="description" content="Proposed CAB Modifications">
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<h2>Collected Address Book&nbsp;</h2>
<a href="mailto:mscott@netscape.com">Scott MacGregor</a><br>
<br>
I'd like to propose a set of changes to email address collection in mozilla.
Currently, when you view a message, we add the sender's email address to a
'collected address book'. The idea was to make it easier for the user to send
messages by having an auto complete widget smart enough to complete against
these collected addresses. The user would no longer have to use their Inbox
as an address book when sending mail. Things would just work for them. In
addition, if the user typed in a new address while sending an outgoing message,
we would collect that address as well. In short, a well constructed CAB makes
for a more powerful auto complete experience when sending mail.<br>
<h3>Problems</h3>
When we first started down this path, it worked great. However, we are now
noticing that the CAB has become 'corrupted' with spam addresses. I believe
many users click on a message then hit the delete button to remove it. As
a result, spam addresses are getting inside the CAB. This makes it less effective
since it is no longer an address book of people you know. <br>
<br>
The CAB doesn't meet the needs of several key initiatives we would like to
pursue in the next version of the product. But these initiatives depend on
a strong automated collection mechanism in order to be effective.<br>
<br>
As part of our spam control improvements, we want to incorporate white listing
based on entries in the user's address books. A strong white list of email
addresses which constitute people the user knows, can be a powerful spam
prevention tool. Due to how addresses have been added to the CAB, it cannot
serve as the foundation for a white list. If we did, we would be providing
easy access for spammers to get into the user's white list. And once they
are in the white list, they would bypass much of our spam detection code.
So the CAB can't be used as part of the white list.<br>
<br>
We are attempting to introduce a new way of viewing mail based on how the
user categorizes each piece of mail. You will be able to view just new mail,
or the mail categorized as 'work',&nbsp; 'good mail', etc. One of these views
is based on 'People I Know'. The idea is to only show mail from people in
your address book(s). Again, since the CAB has become corrupted with junk
mail addresses, the People I Know view is not very valuable if the CAB is
included. At the same time, if we rely on the user to manually enter email
addresses into local address books to build the People I Know view, then it
still is not as valuable. <br>
<br>
The success of features like viewing mail by People I Know and building strong
white lists for spam prevention rely on automatically building up good address
data that really corresponds to addresses the user is interested in.<br>
<h4>Where to Go Next</h4>
We are already in a state where the CAB has been 'tainted'. Almost half the
entries in my CAB are from spammers. Unfortunately we allow the user to modify
or add entries to the CAB. We can't just delete it and start building it
over again in a safer fashion. Users will probably complain about data loss
if we delete changes they made to entries in their CAB. <br>
<br>
Here's what I propose:<br>
<ul>
  <li>Stop collecting addresses from incoming mail messages. Remove this
option from the preferences UI. The holes in that model outweigh any gains</li>
  <li>Since the CAB is tainted, we can't really use it for white listing
or 'People I Know' views. However for these features to be effective, we
need an automated way to build them up. Start collecting addresses for outgoing
new mail (not replies). If I send a new message to someone, I think it's
reasonable to assume that person is a contact and if they aren't already
in my PAB, just add them. This will make our new features more effective.
If we have to, we could allow the user to select an address book to be used
for collection and default it to the PAB in the prefs UI.&nbsp;</li>
  <li>Don't use the CAB for anything, with the exception of maybe auto complete.
We can't delete the CAB, but that doesn't mean we have to actually use it
for anything.&nbsp;</li>
  <li>In some ways I'm tempted to say remove all the UI for collection and
just make it work behind the scenes but that may be a bit draconian.&nbsp;</li>
</ul>
<br>
<span style="font-weight: bold;">Update (from sspitzer@mozilla.org)<br>
</span><br>
Here's what we implemented (see bugs #<a
 href="http://bugzilla.mozilla.org/show_bug.cgi?id=157186">157186</a>, #<a
 href="http://bugzilla.mozilla.org/show_bug.cgi?id=167571">167571</a>and
#<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=168269">168269</a>)
<br>
<ul>
  <li>collect outgoing messages by default, but can be disabled in the addressing
pref panel. &nbsp;(collecting incoming and collecting from news posts are
off by default, but are still hidden prefs.)</li>
  <li>when collecting outgoing, if we don't have a display name, don't set
it to be the username (from the email address) like we used to. &nbsp;Instead,
when reading incoming messages, auto collect the display name for exiting
cards that don't have display names</li>
  <li>UI added to addressing pref panel to allow the user to pick the local
address book, but by default, collect into the PAB</li>
  <li>still use existing CAB for autocomplete</li>
  <li>if emails addresses are also aim screennames (foo@aol.com, bar@cs.com,
baz@netscape.net), auto collect screennames (see <a
 href="./buddyicons.html">"Buddy Icons"</a> for why we want this.)</li>
  <li>remove prefs and code to limit size of collected addressbook</li>
</ul>
<br>
<br>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified September  6,  2003</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/mailnews/arch/cab.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
