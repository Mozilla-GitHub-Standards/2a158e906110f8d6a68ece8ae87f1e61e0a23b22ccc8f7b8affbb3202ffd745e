<HTML>
<!--This file created 4/19/01 12:14 PM by Claris Home Page version 3.0-->
<HEAD>
   <TITLE>CodeName: Mail: Get Msg and Logon at Startup Behavior</TITLE>
   <META NAME=GENERATOR CONTENT="Claris Home Page 3.0">
   <X-CLARIS-WINDOW TOP=42 BOTTOM=757 LEFT=4 RIGHT=534>
   <X-CLARIS-TAGVIEW MODE=minimal>
<!doctype html public "-//w3c//dtd html 4.0 transitional//en"><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<P><TABLE BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
   <TR>
      <TD VALIGN=bottom>
         <P><FONT SIZE="+1">Codename/Mozilla: Mail: Get Message
         Behavior</FONT></P>
      </TD>
      <TD VALIGN=bottom>
         <P><div align=right><FONT SIZE="+1">UI Proposal</FONT></div></P>
      </TD>
   </TR>
   <TR BGCOLOR="#66CCCC">
      <TD>
         <P><FONT SIZE="+3"><B>Get Message &amp; Check for new mail
         at Startup</B></FONT></P>
      </TD>
      <TD>
         <P><div align=right><FONT SIZE="-1"><B>Last
         Modification:&nbsp;</B></FONT><SCRIPT LANGUAGE=JavaScript>document.write(document.lastModified);</SCRIPT>
</div></P>
      </TD>
   </TR>
</TABLE>
 <TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><B>Author:</B> Jennifer Glick<BR>
         <B>Creation Date:</B> 5 January 2001&nbsp;</P>
      </TD>
      <TD VALIGN=top>
         <P><B>Status:</B> Mostly Complete</P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><B>Quicklinks:</B></P>
         
         <P>&nbsp;&nbsp;&nbsp;&nbsp; <A HREF="#Log">Check for new
         mail at Startup</A><BR>
         &nbsp;&nbsp;&nbsp;&nbsp; <A HREF="#Get">"Get Msg" Button
         Behavior</A><BR>
         &nbsp;&nbsp;&nbsp;&nbsp; <A HREF="#File">"File" Menu</A><BR>
         &nbsp;&nbsp;&nbsp;&nbsp; <A HREF="#Context">Context Menu for
         Folder Pane</A><BR>
         &nbsp;&nbsp;&nbsp;&nbsp; <A HREF="#Fetch">Fetching
         Mail</A><BR>
         &nbsp;&nbsp;&nbsp;&nbsp; <A HREF="#Biff">BIFF When Not
         Logged into Account</A></P>
      </TD>
      <TD VALIGN=top>
         <P><B>Feature Team</B></P>
         
         <BLOCKQUOTE>&nbsp;
            <TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0>
               <TR>
                  <TD VALIGN=top WIDTH=84>
                     <P><FONT SIZE="-1">Engineering:</FONT></P>
                  </TD>
                  <TD WIDTH=152>
                     <P><FONT SIZE="-1">&nbsp;Scott
                     Putterman,&nbsp;Bhuvan Racham</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=84 HEIGHT=15>
                     <P><FONT SIZE="-1">Marketing Lead</FONT></P>
                  </TD>
                  <TD WIDTH=152 HEIGHT=15>
                     <P><A HREF="mailto:sol"><FONT SIZE="-1">&nbsp;</FONT></A><FONT SIZE="-1">Kevin
                     Murray</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=84 HEIGHT=15>
                     <P><FONT SIZE="-1">QA</FONT></P>
                  </TD>
                  <TD WIDTH=152 HEIGHT=15>
                     <P><FONT SIZE="-1">&nbsp;Ninoschka
                     Baca</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=84 HEIGHT=15>
                     <P><FONT SIZE="-1">Docs</FONT></P>
                  </TD>
                  <TD WIDTH=152 HEIGHT=15>
                     <P><FONT SIZE="-1">&nbsp;Robin Foster
                     Clark</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=84 HEIGHT=15>
                     <P><FONT SIZE="-1">UE</FONT></P>
                  </TD>
                  <TD WIDTH=152 HEIGHT=15>
                     <P><FONT SIZE="-1">&nbsp;Jennifer
                     Glick</FONT></P>
                  </TD>
               </TR>
            </TABLE>
         </BLOCKQUOTE>
      </TD>
   </TR>
</TABLE>
</P>

<H2>Open Issues</H2>

<OL>
   <LI>Change "Get Msg" and "New Msg" to "Get Msgs" and
   "Compose"?</LI>
   
   <LI>Netscape only.&nbsp; Are AOL and Netscape WebMail accounts
   special cases in which the pref setting for "Log in to this
   account at startup" is turned on by default.?&nbsp; Depends on
   Bugscape 2978 (if AOL and WebMail accounts can be assessed at the
   same time as an ISP account).</LI>
</OL>

<P>&nbsp;</P>

<H2>Related Bugs</H2>

<OL>
   <LI>14301 - UI: missing Log in to this account at startup setting.
   <FONT COLOR="#008080">nsbeta1+</FONT>.</LI>
   
   <LI>37559- Prefs dialog: add Get Msg options and descriptive text.
   <FONT COLOR="#008080">nsbeta1+</FONT>.</LI>
   
   <LI>50865 - Unclear and Unreadable Button Labels.</LI>
</OL>

<P><BR>

<HR SIZE=4 WIDTH="60%" ALIGN=left color="#000000">

</P>

<H2><A NAME=Log></A> 1. Check for new mail at Startup</H2>

<OL>
   <LI>In the Mail/News Account Settings: Server screen for IMAP and
   POP accounts, there will be a preference for each account to
   "Check for new mail at startup". This checks for new mail, instead
   of getting new mail.</LI>
   
   <LI>When the option is checked, biff is enabled to check for new
   mail. For IMAP accounts, message headers are loaded and biff icons
   are shown.&nbsp; For POP accounts, biff icons are shown if new
   messages are on the server, but headers are not loaded. New
   messages on POP accounts are not downloaded until "Get Msg" is
   selected.&nbsp;</LI>
   
   <LI>The default account (the account setup first or the account
   migrated first or an existing default account from a build prior
   to this feature being implemented) will have the setting turned on
   by default (IMAP and POP).&nbsp; Additional accounts set up will
   have this setting turned off by default.&nbsp; If a user changes
   the default account, we do not change the state of the "Check for
   new mail at startup" preference.&nbsp;</LI>
   
   <LI>When Mail starts, it will attempt to check for new mail for
   the default account, plus any additional accounts for which the
   user has turned on the preference, displaying a password dialog
   for authentication (for each account) as necessary. Hence,
   multiple password dialogs may open when mail is started. Users can
   choose to use Password Manager if they desire.&nbsp;</LI>
   
   <LI>At startup, the default account is expanded and the Inbox
   selected.&nbsp; If the "Check for new mail at startup" preference
   has been turned off, the Account Level is selected instead of the
   Inbox.</LI>
   
   <LI>There is no "Remember my password" option in Account Settings.
   Users must use the Password Manager feature from the Password
   Dialog.</LI>
   
   <LI>Once authenticated, new messages are retrieved either:
   
   <BLOCKQUOTE><UL>
         <LI>automatically according to the biff settings for the
         account</LI>
         
         <LI>using the "Get Message" feature described below</LI>
      </UL>
   </BLOCKQUOTE></LI>
</OL>

<P><BR>
</P>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left color="#000000">

</P>

<H2><B><A NAME=Get></A>2 - "Get Msg" Button Behavior</B></H2>

<OL>
   <LI>After Mail starts, the user can retrieve new messages by using
   the "Get Msg" button on the toolbar or menu items (in addition to
   automatic biff settings).</LI>
   
   <LI>Clicking on the "Get Msg" toolbar button will retrieve
   messages for the selected Mail account or newsgroup only.</LI>
   
   <LI>There is NOT a preference for changing the default behavior of
   "Get Msg" button.</LI>
   
   <LI>To the right of the "Get Msg" toolbar button is a dropdown
   menu widget.</LI>
   
   <LI>Clicking the "Get Msg" dropdown menu displays a drop down menu
   with the following items:
   
   <BLOCKQUOTE><UL>
         <LI>"Get All New Messages" (retrieves messages for all MAIL
         accounts to which the user is currently authenticated).</LI>
         
         <LI>Separator Line</LI>
         
         <LI>"&lt;acct1&gt;" (Mail retrieved for this account only.
         Prompted for password as necessary).</LI>
         
         <LI>"&lt;acct2&gt;"</LI>
         
         <LI>"&lt;acct3&gt;"</LI>
         
         <LI>etc.</LI>
      </UL>
   </BLOCKQUOTE></LI>
   
   <LI>When a MAIL account is selected, the "Get Msg" dropdown menu
   only shows MAIL accounts, not News accounts.&nbsp; (You don't get
   messages from a news account, you get them from a newsgroup.
   Showing all the newsgroups a user is subscribed to in the menu
   would make it very long.)</LI>
   
   <LI>When a NEWSGROUP is selected, the "Get Msg" dropdown menu
   shows Mail accounts and the currently selected newsgroup.</LI>
   
   <LI>If user selects an account for which they are not currently
   logged onto, and clicks "Get Msg", they are prompted with a
   password dialog.</LI>
   
   <LI>If a Newsgroup is selected,&nbsp; the "Get Msg" button
   retrieves new messages for the selected newsgroup only.</LI>
   
   <LI>If a Newsgroup is selected, the "Get All News Messages" menu
   items gets messages for the selected newsgroup and all the Mail
   accounts to which the user is currently authenticated.</LI>
   
   <LI><FONT COLOR="#000000">If a Newsgroup is selected and a Mail
   account is selected from the "Get Msg" dropdown, then messages are
   retrieved for both the newsgroup and the mail account. Focus will
   remain on the newsgroup.</FONT></LI>
   
   <LI><FONT COLOR="#000000">If a News Server is selected, the "Get
   Msg" button updates message counts.</FONT></LI>
   
   <LI><FONT COLOR="#000000">If "Local Folders" (or one if the
   folders themselves) or an Imported Account or Nothing is selected,
   the "Get Msg" button will retrieve messages for the default mail
   account.</FONT></LI>
   
   <LI><I>Some scenarios</I>: User has 3 mail accounts and 1 news
   account. Only &lt;acct1&gt; (Default) and &lt;acct2&gt; are set to
   logon at startup:
   
   <UL>
      <LI>If &lt;acct1&gt; is selected in the folder pane, clicking
      on the "Get Msg" button will retrieve messages for
      &lt;acct1&gt; only and the focus will remain on
      &lt;acct1&gt;.</LI>
      
      <LI><FONT COLOR="#000000">If &lt;acct1&gt; is selected in the
      folder pane and &lt;acct2&gt; is selected from the "Get Msg"
      dropdown then messages are retrieved for &lt;acct2&gt; only and
      focus remains on &lt;acct1&gt;. In general, focus remains on
      the account selected.</FONT></LI>
      
      <LI>If &lt;acct3&gt; is selected, and is not currently
      authenticated, then selecting the "Get Msg" button will display
      a password dialog. When the user enters their password and is
      authenticated then the messages for &lt;acct3&gt; are retrieved
      and focus will remain on &lt;acct3&gt;.</LI>
      
      <LI>Now &lt;acct1&gt;, &lt;acct2&gt; and &lt;acct3&gt; are all
      authenticated. User selects "Get all new messages" option from
      dropdown menu and retrieves messages for all mail
      accounts.</LI>
      
      <LI>User exits and restarts Mail. &lt;acct1&gt; and
      &lt;acct2&gt; are the only accounts that have the "Logon to
      account at startup" preference selected. Mail will try to
      authenticate these two accounts only. User selects "Get all new
      messages", mail is retrieved for &lt;acct1&gt; and
      &lt;acct2&gt;.</LI>
      
      <LI>User selects a newsgroup and selects "Get all new
      messages". Messages are retrieved for the selected newsgroup
      plus any mail accounts to which the user is currently
      authenticated.
      
      <UL>
         <LI><BR>
         &nbsp;</LI>
      </UL>
      </LI>
   </UL>
   </LI>
</OL>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left color="#000000">

</P>

<H2><B><A NAME=File></A>3 - The "File" Menu</B></H2>

<OL>
   <LI>When a Mail account has focus, the File menu has:
   
   <UL>
      <LI>&nbsp;"Get New Messages&nbsp; --- <B>Ctrl+T </B>" (performs
      the same action as the "Get Msg" toolbar button).</LI>
      
      <LI>"Get New Messages for ---&gt;"<BR>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      "Get All New Messages --- <B>Ctrl+Shift+T </B>"<BR>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ------------------------<BR>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      "&lt;acct1&gt;"<BR>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      "&lt;acct2&gt;"<BR>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      etc.</LI>
   </UL>
   </LI>
   
   <LI>When a Newsgroup has focus, the File menu has the menu items
   above (#1) plus "Get Next X Messages" and "Update Message
   Count".</LI>
   
   <LI>Menu items should work the same as their counter parts in
   section 2 above.</LI>
   
   <LI>If a News server is selected, "Get New Messages" is
   disabled.</LI>
</OL>

<P><BR>
&nbsp;

<HR SIZE=4 WIDTH="50%" ALIGN=left color="#000000">

</P>

<H2><FONT COLOR="#000000"><A NAME=Context></A>4 - Context Menu for
Folder Pane</FONT></H2>

<OL>
   <LI>If a Mail Account,&nbsp; Inbox or Newsgroup is selected "Get
   New Messages" appears in the context menu.</LI>
   
   <LI>If a News server is selected, "Update Message Counts" appears
   in the context menu?</LI>
</OL>

<P>&nbsp;

<HR SIZE=4 WIDTH="50%" ALIGN=left color="#000000">

</P>

<H2><FONT COLOR="#000000"><A NAME=Fetch></A>5 - Fetching
Mail</FONT></H2>

<OL>
   <LI><FONT COLOR="#000000">IMAP. When the user first starts up Mail
   and clicks on the Inbox, mail is automatically retrieved from the
   server (Password dialog as necessary).</FONT></LI>
   
   <LI><FONT COLOR="#000000">POP.&nbsp; In 4.x,&nbsp; a user
   authenticates to a server but still has to click "Get Msg" to
   initially receive their mail.&nbsp; In this release, if a user has
   the "Log in to account at startup" pref set for an account, we
   will automatically fetch new messages once they authenticate to
   the server.</FONT></LI>
</OL>

<P><BR>
<FONT COLOR="#000000">&nbsp;</FONT>

<HR SIZE=4 WIDTH="50%" ALIGN=left color="#000000">

</P>

<H2><A NAME=Biff></A>6 - BIFF When Not Logged into Account</H2>

<P>The next release will add the feature of BIFF running when the
user is not logged into an account (only works if the user's password
has been saved).&nbsp; This feature is only available for those
accounts that have the "Log in to this account at startup" preference
turned on (for which the password is saved).</P>

<P>Note: BIFF is turned on by default for IMAP and POP accounts and
off for News accounts.</P>

<P>&nbsp;</P>

<P>

<HR ALIGN=left color="#000000">

</P>

<H1>Issues</H1>

<OL>
   <LI>"Log in to this account at startup" is the correct
   wording.</LI>
   
   <LI>Do we want a pref for setting what "Get all new messages"
   does?&nbsp; Either gets mail for currently authenticated accounts
   (default) or attempts to get mail for all accounts (opening
   Password dialogs as necessary)?&nbsp; <I>Issues Meeting
   1/12/01.</I></LI>
</OL>

<P>&nbsp;</P>

<H1>Future Ideas</H1>

<OL>
   <LI>Advanced users could use the Ctrl key to select TWO accounts
   and then click the "Get Msg" button. Mail for both accounts is
   retrieved.&nbsp; Thread pane is empty until only ONE account is
   selected.</LI>
</OL>

<P>&nbsp;</P>
</BODY>
</HTML>
