<HTML>
<!--This file created 12/21/01 12:51 PM by Claris Home Page version 3.0-->
<HEAD>
   <TITLE>Mail:&nbsp; Auto Complete</TITLE>
   <META NAME=GENERATOR CONTENT="Claris Home Page 3.0">
   <X-CLARIS-WINDOW TOP=26 BOTTOM=596 LEFT=4 RIGHT=728>
   <X-CLARIS-TAGVIEW MODE=minimal>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"><!--This file created 7/20/98 10:33 PM by Claris Home Page version 3.0-->
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<P><TABLE BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
   <TR>
      <TD VALIGN=bottom>
         <P><FONT SIZE="+1">MachV/Mozilla: Mail &amp; News</FONT></P>
      </TD>
      <TD VALIGN=bottom>
         <P><DIV ALIGN=right><FONT SIZE="+1">UI Specification</FONT></DIV></P>
      </TD>
   </TR>
   <TR BGCOLOR="#66CCCC">
      <TD>
         <P><FONT SIZE="+3"><B>Autocomplete Addressing</B></FONT></P>
      </TD>
      <TD>
         <P><DIV ALIGN=right><FONT SIZE="-1"><B><I>Last
         Modification:&nbsp;</I></B></FONT><I><SCRIPT LANGUAGE=JavaScript>document.write(document.lastModified);</SCRIPT></I></DIV></P>
      </TD>
   </TR>
</TABLE>
 <TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><FONT SIZE="-1"><B>Author:</B> Jennifer Glick&nbsp;<BR>
         <B>Creation Date:</B> September 10, 2001</FONT></P>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1"><B>Status: </B>Draft<BR>
         </FONT></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><FONT SIZE="-1"><B>Quicklinks:</B></FONT></P>
         
         <BLOCKQUOTE><A HREF="#Details"><FONT SIZE="-1">Design
            Details<BR>
            </FONT> </A><FONT SIZE="-1">&nbsp;&nbsp;&nbsp;
            </FONT><A HREF="#Type"><FONT SIZE="-1">Types of
            Matches</FONT></A><FONT SIZE="-1"><BR>
            &nbsp;&nbsp;&nbsp; </FONT><A HREF="#LDAP"><FONT SIZE="-1">LDAP
            Searches</FONT></A><FONT SIZE="-1"><BR>
            &nbsp;&nbsp;&nbsp; </FONT><A HREF="#List"><FONT SIZE="-1">Mailing
            Lists</FONT></A><FONT SIZE="-1"><BR>
            &nbsp;&nbsp;&nbsp; </FONT><A HREF="#News"><FONT SIZE="-1">Newsgroups<BR>
            </FONT></A><FONT SIZE="-1">&nbsp;&nbsp;&nbsp;
            </FONT><A HREF="#NoEmail"><FONT SIZE="-1">Address Book
            Entry with No Email Address</FONT></A><FONT SIZE="-1">
            </FONT><A HREF="#Details"><FONT SIZE="-1"><BR>
            </FONT></A><FONT SIZE="-1">&nbsp;&nbsp;&nbsp;&nbsp;
            </FONT><A HREF="#Prefs"><FONT SIZE="-1">Preferences</FONT></A><FONT SIZE="-1">
            </FONT></BLOCKQUOTE>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1"><B>Feature Team</B></FONT></P>
         
         <BLOCKQUOTE><TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0>
               <TR>
                  <TD VALIGN=top>
                     <P><FONT SIZE="-1">Engineering&nbsp;</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Jean-Francois Ducarroz,
                     Scott Putterman, Dan Mosedale (LDAP)</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">Marketing</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Kevin Murray</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">QA</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Esther Goes, N
                     Baca</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">Docs</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Robin Foster
                     Clark</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">UE</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Jennifer
                     Glick</FONT></P>
                  </TD>
               </TR>
            </TABLE>
         </BLOCKQUOTE>
      </TD>
   </TR>
</TABLE>
 &nbsp;</P>

<P><I>Items in italics are not yet implemented.</I></P>

<H1>Open Issues</H1>

<OL>
   <LI><BR>
   </LI>
</OL>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H1>Summary</H1>

<P>This document describes how automatic name completion (a.k.a.
Pinpoint Addressing) will work in the Addressing Pane of the Mail
Compose window.</P>

<H2>Goals</H2>

<P>Provide a method for users to easily address mail and news
messages against local address books, LDAP directories and
newsgroups.<BR>
</P>

<H2>User Tasks</H2>

<P><TABLE BORDER=1 BGCOLOR="#FFFFFF" CELLSPACING=0 CELLPADDING=3>
   <TR>
      <TD VALIGN=top BGCOLOR="#F0F0F0">
         <P><B>Fundamental Tasks</B></P>
      </TD>
      <TD VALIGN=top>
         <UL>
            <LI>Autocomplete on individual entries in your address
            books</LI>
         </UL>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top BGCOLOR="#F0F0F0">
         <P><B>Intermediate Tasks</B></P>
      </TD>
      <TD VALIGN=top>
         <UL>
            <LI>Autocomplete against one or more LDAP
            directories</LI>
         </UL>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top BGCOLOR="#F0F0F0">
         <P><B>Advanced Tasks</B></P>
      </TD>
      <TD VALIGN=top>
         <UL>
            <LI>&nbsp;</LI>
         </UL>
      </TD>
   </TR>
</TABLE>
</P>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H1><A NAME=Details></A> Design Details</H1>

<H2>A. Overview</H2>

<P>Address autocompletion in the Mail Compose addressing area makes
it easy for users to quickly address messages without having to
remember the email address of recipients.&nbsp; Names typed into the
addressing pane of the mail compose window are compared with names in
local address books and a specified LDAP directory (multiple LDAP
directories to be available in the future).&nbsp;</P>

<P><IMG SRC="images/Auto1.gif" WIDTH=523 HEIGHT=140 BORDER=0 ALIGN=bottom></P>

<P>By default the address autocompletion feature is enabled. Using
the Addressing Preference Panel, users can disable the feature. The
examples below assume that the feature is enabled.&nbsp;</P>

<P>If there are multiple matches, a dropdown list of possible matches
is displayed.&nbsp;The list of matches is dynamically updated as the
user types the address. The list of matches is scrollable. The up and
down arrow keys can also be used to navigate the list.</P>

<P><IMG SRC="images/Auto3.gif" WIDTH=518 HEIGHT=141 BORDER=0 ALIGN=bottom></P>

<P>Pressing return will accept the address and move the cursor to the
next line. Pressing tab will accept the address and move the cursor
to the Subject field. Typing additional characters or backspace will
cancel the current completion and reset the cycle.</P>

<P>Autocomplete does not occur until after the user has stopped
typing and about 300 ms have passed. The user can accelerate this
search by pressing tab/return.&nbsp;</P>

<P>Forward Delete or Backspace will erase the completion string. The
End and Right Arrow keys will accept the completion string and move
the insertion point to the end of the current line.&nbsp;</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=Type></A>B. Types of Matches</H2>

<P>There are three possible types of results:&nbsp; a unique match,
no match, and multiple matches. A match can be based on either a
Pretty Name, Nickname or an Email address.</P>

<H3>1. A Unique Match</H3>

<P>1. If there is one exact match, autocomplete on the match. The
dropdown menu list is not shown. The completion string displays the
name of the person (if available) and the email address. Pressing
return will accept the address and move the cursor to the next line.
Pressing tab will accept the address and move the cursor to the
Subject field. Typing additional characters or backspace will cancel
the current completion and reset the cycle.</P>

<P><IMG SRC="images/Auto5.gif" WIDTH=522 HEIGHT=139 BORDER=0 ALIGN=bottom></P>

<P>(Future Enhancement - use green colored text as an additional
clue)&nbsp;&nbsp;</P>

<P><IMG SRC="images/Auto5b.gif" WIDTH=522 HEIGHT=139 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<H2>2. No Match</H2>

<P>If there are no exact matches and the user selects Enter/Return
take what they have typed and add the completion string
"@&lt;default-domain&gt;". The dropdown is displayed to show the user
there are no other matches.</P>

<P><IMG SRC="images/Auto6.gif" WIDTH=527 HEIGHT=140 BORDER=0 ALIGN=bottom></P>

<P>(Future Enhancement - use red colored text and &lt;No match
found&gt; instead of the dropdown)</P>

<P><IMG SRC="images/Auto6b.gif" WIDTH=527 HEIGHT=140 BORDER=0 ALIGN=bottom></P>

<P><I>If there are no matches to what the user has typed, the
completion string will vary based on the text typed:&nbsp;<BR>
<BR>
Example 1, I type "Droopy" and pause: Droopy@netscape.com &lt;No
match found&gt;.<BR>
<BR>
Example 2, I type "Droopy Dog" and pause: Droopy Dog
droopy@netscape.com, dog@netscape.com &lt;No match found&gt;.<BR>
<BR>
Pressing return will cause the text to complete to droopy@default.com
or to </I><A HREF="mailto:droopy@default.com"><I>droopy@default.com</I></A><I>,
dog@default.com. Each address should appear on a separate
line.&nbsp;</I></P>

<P>&nbsp;</P>

<H2>3. Multiple Matches</H2>

<P>Autocomplete again address books. The completion string displays
the name of the person (if available) and the email address of the
first entry after the default domain entry. Pressing return will
accept the address and move the cursor to the next line. Pressing tab
will accept the address and move the cursor to the Subject
field.&nbsp;</P>

<P>If there is one exact match in a local address book and no LDAP
matches (or "Use the address and do not search in the directory" is
checked in Preferences), no dropdown is displayed.&nbsp; The exact
match is pre-filled. Enter or Tab accepts the pre-filled entry.</P>

<P><IMG SRC="images/Auto2.gif" WIDTH=515 HEIGHT=140 BORDER=0 ALIGN=bottom></P>

<P><IMG SRC="images/Auto3.gif" WIDTH=518 HEIGHT=141 BORDER=0 ALIGN=bottom></P>

<P><IMG SRC="images/Auto4.gif" WIDTH=520 HEIGHT=141 BORDER=0 ALIGN=bottom></P>

<P><I>This still valid?&nbsp; Note that multiple matches only apply
to names matching the typed string which have unique email addresses.
If all of the matches have the same email address, then it is
considered a unique match and the first card is used for
completion.&nbsp;</I></P>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=LDAP></A>C. LDAP Searches</H2>

<P>Users can also setup Mail to autocomplete again one LDAP directory
(multiple directories to be added in the future). If a potential
match if from an LDAP directory, the Directory icon appears in front
of item.</P>

<P>If a problem occurs regarding an LDAP directory which is setup for
autocompletion, the text "&lt;Error
&lt;connecting/contacting/searching&gt; the LDAP server&gt;" is
displayed, along with an "Unavailable LDAP Server" icon. Users can
select the menu item and view a dialog for more information regarding
the problem.</P>

<P><IMG SRC="images/Auto7b.gif" WIDTH=527 HEIGHT=141 BORDER=0 ALIGN=bottom></P>

<P>1) Search for a name with no matches in your local address book
but one exact match in an LDAP directory. Dropdown menu shows the
default domain + the LDAP match. The LDAP match is pre-filled into
the text field.<BR>
<BR>
2) Same scenario as 1. Hit tab or Enter. The LDAP match is entered
into the addressing area (not the default domain match).&nbsp;</P>

<P>3) Search for a name with no matches in your local address book
but multiple matches in an LDAP directory. The default domain is not
pre filled nor pre-selected when you hit Enter or Tab.&nbsp;<BR>
<BR>
4) Search for a name with no matches in your address book and LDAP
directory. The default domain is properly appended and pre-filled
into the text field.&nbsp;<BR>
<BR>
5) Search for a name with at least one valid address book match and
at least one LDAP match. The pre-filled entry is the first address
book match. Enter or Tab should also choose this first address book
match (not the default domain).&nbsp;<BR>
<BR>
</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=List></A>D. Mailing Lists</H2>

<P>Autocomplete again Mailing Lists in the user's Local Address Books
is also available.</P>

<P><IMG SRC="images/Auto8.gif" WIDTH=518 HEIGHT=141 X-CLARIS-USEIMAGEWIDTH X-CLARIS-USEIMAGEHEIGHT BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P><I>Potential enhancement to make it more apparent when a potential
match is a mailing list item verses an entry for an individual. Add
the text "- Mailing List" at the end of the string. And/or use the
Mailing List icon in the dropdown list of potential matches. If the
user selects the mailing list, the Mailing List icon would replace
the Individual Card icon for that item in the addressing
area.&nbsp;</I></P>

<P><IMG SRC="images/Auto8b.gif" WIDTH=518 HEIGHT=141 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=News></A>E. Newsgroups</H2>

<P>Pinpoint Addressing does not currently apply to addressing lines
whose recipient type is set to Newsgroup: or Followup To:.&nbsp;</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=NoEmail></A>F. AB Entry with no Email Address</H2>

<P><I>In the AB window, user selects an entry with no email address
and clicks on "Compose". New Message window opens with the entriy's
name, followed by "&lt;No email available&gt;" in red.</I></P>

<P><IMG SRC="images/Auto9.gif" WIDTH=527 HEIGHT=140 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=Prefs></A>G. Preferences</H2>

<P>By default the address autocompletion feature is enabled.&nbsp;
Using the Addressing Preference Panel, users can disable the feature
by deselecting the "Local Address Books" and "Directory Server"
items.</P>

<P><IMG SRC="images/PrefsAB1.gif" WIDTH=551 HEIGHT=452 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left color="#000000">

</P>

<H1>Future Enhancements</H1>

<P><TABLE BORDER=1 WIDTH="100%">
   <TR>
      <TD WIDTH="90%" BGCOLOR="#66CCCC">
         <P><B>Issue</B></P>
      </TD>
      <TD WIDTH="10%" BGCOLOR="#66CCCC">
         <P><B>Priority</B></P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="90%">
         <P>When one match is found, complete address with green text
         blur string</P>
      </TD>
      <TD WIDTH="10%">
         <P>&nbsp;</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="90%">
         <P>When no matches are found,&nbsp; autocomplete with
         "@domain.com" (as appropriate) and "&lt;No match found&gt;"
         in red text blur string</P>
      </TD>
      <TD WIDTH="10%">
         <P>&nbsp;</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="90%">
         <P>Netscape only - Auto Complete on Buddy Name. (But don't
         show the Buddy Name in the message when it is sent.&nbsp;
         Replace it with the Pretty Name or Email Address if Pretty
         Name not available).</P>
      </TD>
      <TD WIDTH="10%">
         <P>&nbsp;</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="90%">
         <P>Auto Complete on multiple recipients on same line
         separated by commas.</P>
      </TD>
      <TD WIDTH="10%">
         <P>&nbsp;</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="90%">
         <P>Drop down list is resizable.&nbsp;Or a pref to set how
         many matches are visible without scrolling.</P>
      </TD>
      <TD WIDTH="10%">
         <P>&nbsp;</P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="90%">
         <P>Auto-completion functionality for newsgroup addressing.
         The most recently addressed newsgroups are&nbsp; remembered
         and auto-populated as the user types.&nbsp;</P>
      </TD>
      <TD WIDTH="10%">
         <P></P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="90%">
         <P>Auto completes on Mailing Lists in any of the users
         address books.&nbsp;</P>
      </TD>
      <TD WIDTH="10%">
         <P></P>
      </TD>
   </TR>
</TABLE>
</P>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H1>Issues</H1>

<P>1) Search for a name with no matches in your local address book
but one exact match in an ldap directory. Verify that the popup shows
up showing the default domain + the ldap match. the ldap match should
be the entry pre filled into the text field.<BR>
<BR>
2) Same scenario as 1. Hit tab or enter. Make sure the ldap match is
the default value actually placed into the widget instead of the
default domain match.<BR>
<BR>
2) Search for a name with no matches in your local address book but
multiple matches in an ldap directory. Verify that the default domain
is not pre filled nor pre selected when you hit enter or
tab.&nbsp;<BR>
<BR>
3) Search for a name with no matches in your address book and LDAP
directory. Verify that the default domain is properly appended and
pre-filled into the text field.&nbsp;<BR>
<BR>
4) Search for a name with at least one valid address book match and
at least one ldap match. Verify that the prefilled in entry is the
first address book match. Enter or tab should also choose this first
address book match (not the default domain).&nbsp;<BR>
<BR>
<BR>
5) Search for a name with one exact match in the address book and no
ldap matches. You shouldn't see a popup at all. You should see your
exact match get pre filled in automatically and enter or tab
automatically accepts that.</P>
</BODY>
</HTML>
