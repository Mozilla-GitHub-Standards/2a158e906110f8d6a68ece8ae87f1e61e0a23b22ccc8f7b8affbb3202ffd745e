<HTML>
<!--This file created 11/25/02 3:08 PM by Claris Home Page version 3.0-->
<HEAD>
   <TITLE>MachV/Mozilla: Mail &amp; News: Filter Prefill &amp; Block Address</TITLE>
   <META NAME=GENERATOR CONTENT="Claris Home Page 3.0">
   <X-CLARIS-WINDOW TOP=26 BOTTOM=685 LEFT=4 RIGHT=726>
   <X-CLARIS-TAGVIEW MODE=minimal>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"><!--This file created 7/20/98 10:33 PM by Claris Home Page version 3.0-->
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<P><TABLE BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
   <TR>
      <TD VALIGN=bottom>
         <P><FONT SIZE="+1">MachV/Mozilla: Mail</FONT></P>
      </TD>
      <TD VALIGN=bottom>
         <P><DIV ALIGN=right><FONT SIZE="+1">UI Specification</FONT></DIV></P>
      </TD>
   </TR>
   <TR BGCOLOR="#66CCCC">
      <TD>
         <P><FONT SIZE="+3"><B>Filters Prefill &amp; Block
         Address</B></FONT></P>
      </TD>
      <TD>
         <P><DIV ALIGN=right><FONT SIZE="-1"><B><I>Last
         Modification:&nbsp;</I></B></FONT><I><SCRIPT LANGUAGE=JavaScript>document.write(document.lastModified);</SCRIPT></I></FONT></DIV></P>
      </TD>
   </TR>
</TABLE>
 <TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><FONT SIZE="-1"><B>Author:</B> Jennifer Glick&nbsp;<BR>
         <B>Creation Date:</B> 27 March&nbsp; 2001</FONT></P>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1"><B>Status: </B>Mostly Complete
         </FONT></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><FONT SIZE="-1"><B>Quicklinks:</B></FONT></P>
         
         <BLOCKQUOTE><A HREF="#a">Create a Filter</A><BR>
            <A HREF="#b"><STRIKE>Block Address</STRIKE></A><BR>
            <A HREF="#c">Three Pane Mail Thread Pane</A><BR>
            <A HREF="#d">News, AOL and WebMail Accounts</A></BLOCKQUOTE>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1"><B>Feature Team</B></FONT></P>
         
         <BLOCKQUOTE><TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0 WIDTH=222>
               <TR>
                  <TD VALIGN=top WIDTH=68>
                     <P><FONT SIZE="-1">Engineering:&nbsp;</FONT></P>
                  </TD>
                  <TD WIDTH=148>
                     <P><FONT SIZE="-1">&nbsp;Scott Putterman,
                     Gayatri Bhimaraju</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=68>
                     <P><FONT SIZE="-1">PM:</FONT></P>
                  </TD>
                  <TD WIDTH=148>
                     <P><FONT SIZE="-1">&nbsp;Kevin Murray</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=68>
                     <P><FONT SIZE="-1">QA:</FONT></P>
                  </TD>
                  <TD WIDTH=148>
                     <P><FONT SIZE="-1">&nbsp;Laurel
                     Carlson</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=68>
                     <P><FONT SIZE="-1">Docs:</FONT></P>
                  </TD>
                  <TD WIDTH=148>
                     <P><FONT SIZE="-1">&nbsp;Robin Foster
                     Clark</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD WIDTH=68>
                     <P><FONT SIZE="-1">UE:</FONT></P>
                  </TD>
                  <TD WIDTH=148>
                     <P><FONT SIZE="-1">&nbsp;Jennifer
                     Glick</FONT></P>
                  </TD>
               </TR>
            </TABLE>
         </BLOCKQUOTE>
      </TD>
   </TR>
</TABLE>
 &nbsp;</P>

<P><FONT COLOR="#FF0000"><B>Note: Block Address feature is no longer
planned.</B></FONT></P>

<P>&nbsp;</P>

<UL>
   <LI>Bugzilla: 73852 - Filter UI: Change default for Action target
   folder dropdown</LI>
</UL>

<P>&nbsp;

<HR SIZE=4 WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H1>Open</H1>

<OL>
   <LI><STRIKE>Is there a limit to the Blocked Email Addresses
   list?</STRIKE></LI>
   
   <LI><STRIKE>Robin to provide email message for Junk Mail
   folder.</STRIKE></LI>
   
   <LI><STRIKE>Aging of messages might not yet be available,&nbsp;
   hence the&nbsp; "Delete messages older that X days from the Junk
   Mail folder" setting might not be available.</STRIKE></LI>
   
   <LI>Prefill Filter - Once the user has finished creating the
   filter, should we ask them if they want to run the filter they
   just created now (on existing Inbox messages)? <I>To avoid adding
   another dialog box, why not put a checkbox in the filter creation
   to "Apply filter to existing messages"?</I> Block Address- <I>
   Same idea here ... Andrew Perry</I></LI>
</OL>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H1>Summary</H1>

<P><B>Prefill Filter: </B> Provide an easy method for users to create
a simple filter by prefilling a filter rule based on a user selected
message. Geared toward Advanced Beginners and Intermediate users. A
nice way of introducing the filter feature to users.</P>

<P><B><STRIKE>Block Address:</STRIKE></B><STRIKE> Provide a way for
users to filter messages from particular addresses
automatically.&nbsp; Users don't have to setup their own filters or
even see or verify any of the filter dialogs. Gear toward Beginning
and Intermediate users. Although not the most effective way of
blocking mail from spammers, this feature gives users a sense of
control.</STRIKE><BR>
</P>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H1>Design Details</H1>

<H2><A NAME=a></A>A. Prefill Filter</H2>

<H3>1. Envelope Area</H3>

<P>Clicking on a From, To or Cc name in the mail envelope area opens
a menu which allows users to "Create Filter" based on the current
message. (Note: the context menu is the same.)&nbsp;&nbsp;</P>

<P><IMG SRC="images/MailFilt1.gif" WIDTH=638 HEIGHT=502 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<H3>2. Message Filters and Filter Rules</H3>

<P>Once the user selects the "Create Filter",&nbsp; item from the
open message header, the Message Filters and Filter Rules dialogs
open.&nbsp; The Filter Rules dialog has focus. The window is
prefilled with information from the message.</P>

<P><IMG SRC="images/MailFilt2.gif" WIDTH=583 HEIGHT=329 BORDER=0 ALIGN=bottom></P>

<P><B>Filter Name:</B> The filter name field is prefilled with the
email address that was clicked on in the mail message
envelope.&nbsp;</P>

<P>If a filter with that name already exists, the email address is
appended with a number to make it unique. For example, "<A HREF="mailto:name@account.com-1">name@account.com-1</A>"
when "<A HREF="mailto:name@account.com">name@account.com</A>" is
already being used as the name of a filter.&nbsp; This check will
occur when the user selects "Create Filter" so that the Filter Rules
dialog opens with a valid filter name prefilled.&nbsp;</P>

<P><B>Conditions:&nbsp;</B> The first conditions line is prefilled
with: "the 'Sender' 'Is' &lt;email_address&gt;".&nbsp; Regardless of
whether the user clicked on a "From", "To", or "Cc", the filter is
created using "the ' Sender' ' Is' &lt;email_address&gt;".</P>

<P>Users can add or change conditions as desired.&nbsp;</P>

<P>The then user selects an Action to be associated with this
filter.</P>

<P>The user clicks OK on the Filter Rules dialog and it closes.&nbsp;
The Message Filters dialog now has focus and the newly created filter
is displayed and selected in the list box. This will show users their
filter was successfully created and is enabled.&nbsp; It will also
hopefully educate users about what dialog they can return to if they
want to change the filter, and what dialog to use to create a new
filter by themselves. &nbsp;</P>

<P><IMG SRC="images/MailFilt3.gif" WIDTH=474 HEIGHT=342 BORDER=0 ALIGN=bottom></P>

<P>If the user clicks on "OK" on the Filter Rules dialog without
defining an Action, an alert dialog is opened.&nbsp; For example, the
default Action is "Move to Folder".&nbsp; If the user does not select
a destination folder and clicks the "OK" button, an alert opens,
"Please select a destination folder".</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=b></A><STRIKE>B. Block Address</STRIKE></H2>

<H3><STRIKE>1. Envelope Area</STRIKE></H3>

<P><STRIKE>Clicking on a From, To or Cc name in the mail envelope
area opens a menu which enables users to Block messages from a
particular address.&nbsp; (Note: the context menu is the
same.)&nbsp;&nbsp;</STRIKE></P>

<P><STRIKE><IMG SRC="images/MailFilt1.gif" WIDTH=638 HEIGHT=502 BORDER=0 ALIGN=bottom></STRIKE></P>

<P>&nbsp;</P>

<P><STRIKE>When the user selects "Block Email Address", from the menu
above, a confirmation dialog opens.</STRIKE></P>

<P><STRIKE><IMG SRC="images/MailFilt4.gif" WIDTH=378 HEIGHT=178 BORDER=0 ALIGN=bottom></STRIKE></P>

<P><STRIKE>If the user clicks "OK", the dialog closes, the address is
added to the Blocked Email Addresses list and the user is returned to
the mail message.&nbsp; If the user clicks "Cancel", the dialog
closes and the user is returned to the mail message.</STRIKE></P>

<P>&nbsp;</P>

<H3><STRIKE>2. Junk Mail Folder</STRIKE></H3>

<P><STRIKE>When new message is received in the Inbox from an address
on the Blocked Email Addresses list, it is automatically moved into
the "Junk Mail" folder. The Junk Mail folder is a Local Folder and
shared across all accounts. It is created by default for new
users.&nbsp; It can not be deleted and it can not be
renamed.</STRIKE></P>

<P><STRIKE>An email message, explaining the Block Sender feature and
the purpose of the Junk Mail, will be included in the Junk Mail
folder.&nbsp; Robin to provide.</STRIKE></P>

<P>&nbsp;</P>

<H3><STRIKE>3. Blocked Addresses List</STRIKE></H3>

<P><STRIKE>From a menu in the Three Pane Mail window (tbd, see
section below), users can open the "Blocked Email Addresses" dialog
to add or remove addresses from it.</STRIKE></P>

<P><STRIKE><IMG SRC="images/MailFilt5.gif" WIDTH=429 HEIGHT=334 BORDER=0 ALIGN=bottom></STRIKE></P>

<P><STRIKE>Using the "Delete messages older that X days from the Junk
Mail folder" setting, users can have their Junk Mail folder emptied
automatically.&nbsp; The default is checked.&nbsp;&nbsp;Emails are
removed as necessary on exit.</STRIKE></P>

<P><STRIKE>The "Confirm when blocking email addresses" setting will
display the </STRIKE><A HREF="#b"><STRIKE>Block Email
Address</STRIKE></A><STRIKE> dialog when the block sender action is
requested. The default is checked.</STRIKE></P>

<P><STRIKE>When the user attempts to add a new email address to the
blocked list using this dialog, we should check to make sure the
email address is a valid format, for example &lt;</STRIKE><A HREF="mailto:name@account.com"><STRIKE>name@account.com</STRIKE></A><STRIKE>&gt;,
and avoid duplicate email addresses.&nbsp; An error dialog should
open as appropriate: "Please enter a valid email address".&nbsp; "An
entry with that email address already exists".</STRIKE></P>

<P><STRIKE>Addresses should be listed in alphabetical
order.</STRIKE></P>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=c></A>C. Three Pane Mail Thread Pane and Menus</H2>

<H3>1. Creating a Filter and Blocking a Sender from the Thread
Pane</H3>

<P>If a message is selected in the thread pane, but the message pane
is closed users can access the Create Filter and Block Address
features from the "Message" menu.</P>

<P><IMG SRC="images/MailFilt7.gif" WIDTH=404 HEIGHT=253 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>&nbsp;</P>

<H3>2. Menus</H3>

<P>Users need to be able to access the "Blocked Email Addresses" list
window so that they can view, add or delete addresses. The menu item
"Blocked Email Addresses" is grouped with the "Message Filters" menu
item.&nbsp; This is currently in the "Edit" menu but the plan is to
hopefully move these items into a "Tools" (tbd) type of menu.</P>

<H3><IMG SRC="images/MailFilt6.gif" WIDTH=469 HEIGHT=324 BORDER=0 ALIGN=bottom></H3>

<P>&nbsp;</P>

<P>

<HR WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H2><A NAME=d></A>D. News, WebMail and AOL Accounts</H2>

<P><B>News</B>. Neither of these features, Prefill Filter or Block
Sender, are currently available for News accounts. These items should
not appear in the menus when a News account has focus. Prefill Filter
- technically a filter based on a sender of a newsgroup posting could
be created, but the filter would only be effective for filtering Mail
messages, not news postings. Blocking a Sender for a News Account is
really a Kill File feature.</P>

<P><B>AOL</B> (Netscape only). Neither of these features are
currently available for AOL accounts. These items should not appear
in the menus when an AOL account has focus.</P>

<P>Netscape.net <B>WebMail</B> (Netscape only). Prefill Filter and
Block Address features should be available for WebMail.&nbsp;</P>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="50%" ALIGN=left NOSHADE color="#000000">

</P>

<H1><A NAME=Issues></A>Issues</H1>

<OL>
   <LI><I>Would this be unavailable from selected messages in an
   account type which is not filterable? For instance, Local Folders
   or News. </I><B>Yes, this feature should be disabled for Local and
   News accounts/messages.</B></LI>
   
   <LI><I>Would the feature assume the filter to be placed in the
   selected account or would it pause at the main filters dialog to
   allow user to select the account first?&nbsp;</I><B>Assumes the
   filter is associated with the selected account.&nbsp;</B></LI>
   
   <LI><I>Netscape.net </I><B><I>WebMail</I></B><I> (Netscape
   only).&nbsp;</I> Both Prefill Filter and Block Address features
   should be available for WebMail. mscott, 8/6/01.</LI>
   
   <LI><I>Block Sender - Once the user has blocked a sender, should
   we ask them if they want to check their Inbox for any messages
   from this sender?&nbsp; </I>No, too many dialogs. 8/6/01.</LI>
   
   <LI><I>Prefill Filter - Once the user has finished creating the
   filter, should we ask them if they want to run the filter they
   just created now (on existing Inbox messages)? </I>No.&nbsp; We
   will run the filter on the current message (message from which the
   user based the new filter on) and all future messages.
   8/6/01.</LI>
</OL>
</BODY>
</HTML>
