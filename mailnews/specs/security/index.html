<HTML>
<!--This file created 5/14/02 12:56 PM by Claris Home Page version 3.0-->
<HEAD>
   <TITLE>Mozilla/MachV: Mail: Encryption and Signing</TITLE>
   <META NAME=GENERATOR CONTENT="Claris Home Page 3.0">
   <X-CLARIS-WINDOW TOP=35 BOTTOM=611 LEFT=25 RIGHT=760>
   <X-CLARIS-TAGVIEW MODE=minimal>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"><!--This file created 7/20/98 10:33 PM by Claris Home Page version 3.0-->
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<P><TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
   <TR>
      <TD VALIGN=bottom>
         <P><FONT SIZE="+1">Mozilla/MachV: Mail: Security</FONT></P>
      </TD>
      <TD VALIGN=bottom>
         <P><DIV ALIGN=right><FONT SIZE="+1">UI Specification</FONT></DIV></P>
      </TD>
   </TR>
   <TR BGCOLOR="#66CCCC">
      <TD>
         <P><FONT SIZE="+3"><B>Encryption and Signing</B></FONT></P>
      </TD>
      <TD>
         <P><DIV ALIGN=right><FONT SIZE="-1"><B><I>Last Modification:
         <SCRIPT LANGUAGE=JavaScript>document.write(document.lastModified);</SCRIPT>
         </I></B></FONT></DIV></P>
      </TD>
   </TR>
</TABLE>
 <TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><B>Author:</B> Jennifer Glick&nbsp;<BR>
         <B>Creation Date:</B> 3 October 2001</P>
      </TD>
      <TD VALIGN=top>
         <P><B>Status:</B> Mostly Complete</P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><B>Quicklinks</B></P>
         
         <BLOCKQUOTE>&nbsp;</BLOCKQUOTE>
      </TD>
      <TD VALIGN=top>
         <P><B>Feature Team</B></P>
         
         <BLOCKQUOTE><TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0>
               <TR>
                  <TD VALIGN=top HEIGHT=28>
                     <P><FONT SIZE="-1">Engineering:</FONT></P>
                  </TD>
                  <TD HEIGHT=28>
                     <P><FONT SIZE="-1">&nbsp;Bob Lord, Terry Hayes,
                     Stephane Saux, David Drinan</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">PM:</FONT></P>
                  </TD>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">&nbsp;</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">QA:</FONT></P>
                  </TD>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">&nbsp;Antonio
                     Lam&nbsp;</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">Docs:</FONT></P>
                  </TD>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">&nbsp;Sean
                     Cotter&nbsp;</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">UE</FONT></P>
                  </TD>
                  <TD HEIGHT=15>
                     <P><FONT SIZE="-1">&nbsp;Jennifer
                     Glick&nbsp;</FONT></P>
                  </TD>
               </TR>
            </TABLE>
         </BLOCKQUOTE>
      </TD>
   </TR>
</TABLE>
</P>

<P><B>** Note:</B>&nbsp; Not all security related icons in this spec
are final. Some are temporary placeholders until final icons are
completed by a graphic artist.<B>**</B></P>

<H1>Open Issues</H1>

<OL>
   <LI>Section A, item 1. Mail Account Settings. Security Panel. Sean
   Cotter to determine wording for "use encryption when sending
   messages:"&nbsp; "Never" (or "No encryption") option. It was
   thought that "Never" might be too harsh. (Maybe descriptive text
   after "Never"?).</LI>
   
   <LI>Section B, item 4. Wording for "Feature not yet setup" dialog.
   Sean Cotter.</LI>
   
   <LI>Bug 104502 - Security related Icons for Mail.</LI>
   
   <LI>Bug 144402 - Security icons in compose window should show
   what's possible.</LI>
   
   <LI>Bug 144397 - Display Send Button with key icon when encryption
   is enabled<BR>
   </LI>
</OL>

<P>

<HR SIZE=4 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H1>Design Overview</H1>

<H2>Summary</H2>

<P>The S/MIME features of Mail enhance the security of your emails.
Specifically, these features:</P>

<UL>
   <LI>Ensure the privacy of your email while it travels from your
   machine to your recipient's machine using high-grade
   encryption.</LI>
   
   <LI>Enable you to identify yourself and others in email messages
   by way of digital signatures.</LI>
   
   <LI>Ensure that no one can modify the email while it travels from
   your machine to your recipient's machine.</LI>
</UL>

<P>To activate these security features, you need to obtain a digital
certificate. Certificates are issued by independent certification
authorities (CAs).&nbsp;<BR>
<BR>
The technology works as follows: a sender encrypts an email using the
recipient's certificate, and signs it using his/her own private key.
The recipient verifies the signature and the integrity of the message
using the sender's certificate, and decrypts it using his private
key.<BR>
<BR>
In order to send encrypted emails, you must have certificates for
each of the recipients.</P>

<P>&nbsp;</P>

<H2>Goals</H2>

<P>Make the signing and encryption security features easily
accessible to users who want to use mail security features, while
making them non-intrusive for those users less interested in these
features.</P>

<UL>
   <LI>Global settings for encryption and signing.</LI>
   
   <LI>Per message settings for encryption and signing.</LI>
   
   <LI>Provide feedback when composing a mail message regarding the
   status of encryption and signing.</LI>
   
   <LI>Provide feedback when reading a message regarding the
   encryption and/or signing of the message.</LI>
</UL>

<P>&nbsp;</P>

<H2>Target User</H2>

<P>Users in a corporate environment where security settings maybe set
by a system administrator, as well as individual users who are
concerned about security issues.</P>

<H2>User Tasks</H2>

<P><TABLE BORDER=2>
   <TR>
      <TD BGCOLOR="#CCCCCC">
         <P><B>Basic Tasks</B></P>
      </TD>
   </TR>
   <TR>
      <TD>
         <UL>
            <LI>Global settings for encryption and signing.</LI>
            
            <LI>Per message settings for encryption and
            signing&nbsp;</LI>
            
            <LI>&nbsp;</LI>
         </UL>
      </TD>
   </TR>
   <TR>
      <TD BGCOLOR="#CCCCCC">
         <P><B>Intermediate Tasks</B></P>
      </TD>
   </TR>
   <TR>
      <TD>
         <UL>
            <LI>Getting a certificate</LI>
            
            <LI>Using different certificates for different
            accounts</LI>
            
            <LI>Selecting an LDAP directory per account</LI>
         </UL>
      </TD>
   </TR>
   <TR>
      <TD BGCOLOR="#CCCCCC">
         <P><B>Advanced Tasks</B></P>
      </TD>
   </TR>
   <TR>
      <TD>
         <UL>
            <LI>&nbsp;</LI>
         </UL>
      </TD>
   </TR>
</TABLE>
</P>

<P>&nbsp;</P>

<H2>Access to:</H2>

<P><TABLE BORDER=1 CELLSPACING=0 CELLPADDING=4>
   <TR BGCOLOR="#CCCCCC">
      <TD VALIGN=top>
         <P><B>Button</B></P>
      </TD>
      <TD VALIGN=top>
         <P><B>Menu</B></P>
      </TD>
      <TD VALIGN=top>
         <P><B>Account Settings</B></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top>
         <P>Mail Compose: Security dropdown menu button.</P>
      </TD>
      <TD VALIGN=top>
         <P>Mail Compose: Options: Security.&nbsp; Per message
         encryption and signing options.</P>
      </TD>
      <TD VALIGN=top>
         <P>Security Panel&nbsp;</P>
      </TD>
   </TR>
</TABLE>
</P>

<H2>&nbsp;</H2>

<P>

<HR SIZE=4 WIDTH="60%" ALIGN=left NOSHADE color="#000000">

</P>

<H1>Design Details</H1>

<P>In order to send digitally signed emails, you must have your own
Digital Security ID (digital signature, public key, private
key).&nbsp; In order to send encrypted emails, you must have
certificates (digital signature, public key) for each of the
recipients.</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="60%" ALIGN=left NOSHADE color="#000000">

</P>

<H2>A.&nbsp;Mail and News Account Settings</H2>

<P>Security features are per account. A user can setup different
accounts to use different certificates. For example, a user might use
a corporate certificate for their work account and a personal
certificate for a personal account, and maybe no certificate for a
third account.</P>

<P>The user's security settings for a particular account determines
the default security behavior when composing and sending messages.
Users can change security settings on a per message basis.</P>

<P>&nbsp;</P>

<H3>1. Mail - Security Panel</H3>

<P><IMG SRC="images/AcctSet1.gif" WIDTH=628 HEIGHT=477 BORDER=0 ALIGN=bottom></P>

<P><I>Local Certificate Database is currently searched for
certificates. Potential future feature, allow users to choose LDAP
directories to search for certificates.</I></P>

<P>&nbsp;</P>

<H4><B>1a. Signing</B></H4>

<UL>
   <LI>"Digitally sign messages" is off by default.</LI>
   
   <LI>If digitally sign is disabled, no icon is displayed in the
   status bar in Mail Compose windows.</LI>
   
   <LI>If digitally sign is enabled, a "signed" icon (TBD) is
   displayed in the status bar in Mail Compose windows.</LI>
</UL>

<H4><B>1b. Encryption</B></H4>

<UL>
   <LI>Default for encryption is "Never".&nbsp; No encryption icon is
   displayed in the status bar of Mail Compose windows if encryption
   is set to "Never" for the selected account.</LI>
   
   <LI>When "If possible" encryption is enabled, an "encryption" icon
   is displayed in the status bar of Mail Compose windows. An intact
   encryption icon if the message can be sent encrypted and a broken
   encryption icon if the message can not be sent encrypted.</LI>
   
   <LI>With "If possible" encryption, the message can still be Sent
   if certificates for all recipients are not available.</LI>
   
   <LI>When "Always" encryption is enabled, an "encryption" icon is
   displayed in the status bar of Mail Compose windows. An intact
   encryption icon if the message can be sent encrypted and a broken
   encryption icon if the message can not be sent encrypted. With
   "Always" encryption, the messages can NOT be Sent if certificates
   for all recipients are not available.</LI>
</UL>

<H4><B>1c. Certificates</B></H4>

<UL>
   <LI>Per account certificate.</LI>
   
   <LI>Separate certificate can be used for Signing vs.
   Encryption.</LI>
   
   <LI>"Select" opens the "<A HREF="#SelCert">Select Certificate</A>"
   dialog.</LI>
</UL>

<P>&nbsp;</P>

<H3>2. Newsgroups - Security Panel</H3>

<P>Encryption is not available for newsgroup accounts.</P>

<P><IMG SRC="images/AcctSetNews1.gif" WIDTH=628 HEIGHT=477 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<H3><A NAME=SelCert></A>3. Select Certificate Dialog</H3>

<P><IMG SRC="images/AcctSet1b.gif" WIDTH=350 HEIGHT=303 BORDER=0 ALIGN=bottom></P>

<UL>
   <LI>Manage Certificates - opens the "Certificate Manager" dialog.
   Which is also accessible from Preferences: Privacy &amp; Security:
   Certificates panel. Provide mental connection for users how all
   the security pieces fit together.</LI>
   
   <LI>Get Certificate - Button would open a help page in a browser
   window which would explain to users how to get a certificate and
   provide helpful links.</LI>
   
   <LI><I>Note: </I> Would be useful if Preferences: Privacy &amp;
   Security: Certificates panel also had a button which provides
   access the Mail/Newsgroup security items.</LI>
</UL>

<P>&nbsp;</P>

<P>

<HR WIDTH="60%" ALIGN=left NOSHADE color="#000000">

</P>

<H2>B. Mail Compose: Options: Security Menu and Toolbar Button
Menu</H2>

<P>Users can set up global security settings per account in the Mail
&amp; Newsgroups Account Settings dialogs. They can also use the
Options: Security menu or the Toolbar Security dropdown button, to
change security settings on a per message basis. Changes are
reflected visually in the compose window as appropriate (Send icon,
status bar icon, Security icon).&nbsp;</P>

<P>Defaults in the menus are set based on the user's security
settings for the account. If the user changes these settings using
the Options menu or Toolbar dropdown button, the changes only apply
to the current message.&nbsp;Once the user enables a particular
security feature for a particular message, the window should behave
as appropriate as outlined in the rest of this spec.</P>

<H3>&nbsp;</H3>

<H3>1. Options Security Menu</H3>

<P><IMG SRC="images/Options1.gif" WIDTH=689 HEIGHT=295 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<H3>2. Toolbar Button/Menu</H3>

<P>The Message Compose window toolbar contains a security combo
menu/button. Clicking the button activates the default action,
opening the "Message Security" dialog (see below). Clicking on the
arrow to the right of the button displays a menu.&nbsp;&nbsp;<BR>
<BR>
The Toolbar security icon changes to show the availability of
certificates for recipients of the current message (described later
in this spec) and hence, if the message can be sent encrypted or
not.&nbsp; &nbsp;</P>

<P><IMG SRC="images/Options2.gif" WIDTH=683 HEIGHT=233 BORDER=0 ALIGN=bottom></P>

<P>Whether options can be unchecked when the global account setting
is set to "Always" will be controlled by an<BR>
"Allow Always Encrypt Override" preference which will not be exposed
in the preferences UI. The hidden preference is intended to be
controlled using Mission Control Desktop (MCD). The hidden preference
will not apply in the "Never" or "When Possible" cases.&nbsp;</P>

<H4>&nbsp;</H4>

<H3>3. Message Security Dialog</H3>

<P>Clicking directly on the Security Toolbar button, or selecting
"Message Security" from the Options: Security menu or the Toolbar
Security dropdown button, opens the "Message Security" dialog.</P>

<P>This dialog displays security info regarding the current message.
Recipient's certificate status is listed. This provides the user with
status regarding the security of the message (if the message can be
sent encrypted) and certificates of individual users.</P>

<P><IMG SRC="images/MsgSec1.gif" WIDTH=399 HEIGHT=320 BORDER=0 ALIGN=bottom></P>

<P><I>Note:</I> This is a mock up only. Security team to decide what
columns are appropriate to display.</P>

<P>&nbsp;</P>

<H3>4. Selecting a Security Feature Not Yet Setup</H3>

<P>If the user selects a security feature from the menu and they have
not yet defined a valid certificate in their security account
settings, a dialog&nbsp;opens. "You need to setup a personal
certificate before you can use this security feature. Would you like
to find out how to do this now?" (Wording TBD, Sean Cotter). If they
select "Yes", a browser window gets focus and displays a help page
which explains how to setup and use the security features.</P>

<P><IMG SRC="images/Alert2.gif" WIDTH=378 HEIGHT=116 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="60%" ALIGN=left NOSHADE color="#000000">

</P>

<H2>C. Composing a New Mail Message</H2>

<P>Certificates for recipients are retrieved during auto-complete.
They can be associated with entries in the user's local address
books, an LDAP directory, or a certificate database.</P>

<P>As the email addresses of recipients are added, the client
searches for valid certificates.&nbsp; If valid certificates are
available for all recipients, the security icon displays an "intact
certificate" (TBD) in the top right corner. If there is a problem
with at least one of the recipients certificates, a red "X" is
displayed. A problem could mean either a certificate for a recipient
is not available, or an existing certificate is expired. Clicking on
the Security icon opens the "Message Security" dialog (above) which
provides additional information about the recipient's certificates
and where the problem has occurred.</P>

<P>If the client has found a certificate for all the current
recipients, the "Send" button is modified to incorporate a "will be
encrypted" icon (TBD).&nbsp;&nbsp;</P>

<P>Similarly, if a valid certificate for all the current addressees
is not available, a "broken encryption" icon (TBD) is displayed on
the "Send" button, indicating to the user that the client wants to
send encrypted, but can't.</P>

<P>Different possible scenarios are illustrated below.</P>

<P>&nbsp;</P>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>1. Encryption is not Enabled in Account Settings - "Never"</H3>

<P>User has account settings set for no encryption and no
signing.&nbsp;The Security icon is available in the Toolbar (and the
Options menu). The feature is accessible and discoverable for users
interested in the feature, yet not distracting for users who do not
want to use the feature.</P>

<UL>
   <LI>No icon on Security button.&nbsp;</LI>
   
   <LI>No icon on Send button.&nbsp;</LI>
   
   <LI>No icons in the status bar.</LI>
</UL>

<P><IMG SRC="images/Compose1.gif" WIDTH=683 HEIGHT=542 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>2. Send Encrypted - "Always Encryption" - Certs for All
Recipients Avail</H3>

<P>User has account settings set to "Always Encrypt". Message cannot
be sent unless certificates for all recipients are available. Certs
for all users Are available.</P>

<UL>
   <LI>Security toolbar icon indicates that a valid certificate for
   each recipient was found.&nbsp;</LI>
   
   <LI>Status bar shows "encryption" icon indicating message will be
   sent encrypted.</LI>
   
   <LI>The Send button is enabled and contains the "encryption" icon.
   The message will be sent encrypted.</LI>
   
   <LI>Status bar shows the "signed" icon if signing is enabled and
   no icon if signing is not enabled.</LI>
</UL>

<P><IMG SRC="images/Compose2.gif" WIDTH=683 HEIGHT=542 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>3. Send Encrypted - "Always Encryption" - Certs for Some
Recipients &amp; Not for Others</H3>

<P>User has account settings set to "Always Encrypt". Message cannot
be sent unless certificates for all recipients are available. A valid
certificate for some recipients is found, an invalid certificate or
no certificate is found for some recipients.&nbsp;</P>

<UL>
   <LI>The toolbar Security icon indicates that valid certificates
   were Not found for all recipients.&nbsp;</LI>
   
   <LI>Status bar shows "broken encryption" icon indicating message
   won't be sent encrypted.</LI>
   
   <LI>The Send button is disabled and contains the "broken
   encryption" icon. The message cannot be sent.</LI>
   
   <LI>Status bar shows the "signed" icon if signing is enabled and
   no icon if signing is not enabled.</LI>
   
   <LI>User can click on the Security button to open the "Message
   Security" dialog to get more details regarding the message.</LI>
   
   <LI>Tooltip when hovering over disabled "Send" button (Sean Cotter
   to provide).</LI>
</UL>

<P><IMG SRC="images/Compose2b.gif" WIDTH=683 HEIGHT=542 BORDER=0 ALIGN=bottom>&nbsp;</P>

<H3>&nbsp;</H3>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>4. Send Encrypted - "If Possible" Encryption - Certs for All
Recipients</H3>

<P>User has account settings set to "Encrypt if possible". Message
can still be sent if certificates for all recipients are not&nbsp;
available. A valid certificate for all recipients is available.</P>

<UL>
   <LI>Security toolbar button indicates that a valid certificate was
   found for all users.&nbsp;</LI>
   
   <LI>Status bar shows the "encryption" icon indicating the message
   will be sent encrypted.</LI>
   
   <LI>The Send button is enabled and contains the "encryption" icon.
   The message can be sent and will be sent encrypted.</LI>
   
   <LI>Status bar shows the "signed" icon if signing is enabled and
   no icon if signing is not enabled.</LI>
</UL>

<P><IMG SRC="images/Compose2.gif" WIDTH=683 HEIGHT=542 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>5. Send Encrypted - "If Possible" Encryption - Certs for Some
Recipients &amp; Not for Others&nbsp;</H3>

<P>User has account settings set to "Encrypt if possible". Message
can still be sent if certificates for all recipients are not&nbsp;
available. A valid certificate for some recipients is found, an
invalid certificate or no certificate is found for some
recipients.&nbsp;</P>

<UL>
   <LI>Security toolbar icon indicates that a valid certificate was
   Not found for all recipients. User can click on security button to
   get details.&nbsp;</LI>
   
   <LI>Status bar shows the "broken encryption" icon indicating the
   message will not be sent encrypted</LI>
   
   <LI>The Send button displays a "broken encryption" icon and the
   button is enabled. The message can be Sent, but will not be sent
   encrypted.</LI>
   
   <LI>Status bar shows the "signed" icon if signing is enabled and
   no icon if signing is not enabled.</LI>
</UL>

<P><IMG SRC="images/Compose3b.gif" WIDTH=683 HEIGHT=542 BORDER=0 ALIGN=bottom>
&nbsp;</P>

<P>&nbsp;</P>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>6. Signing a Message</H3>

<P>User has account settings set to enable digital signing
only.&nbsp;&nbsp;</P>

<UL>
   <LI>The Send button does not change.&nbsp;</LI>
   
   <LI>The "signing" icon appears in the status bar, indicating
   signing is enabled.</LI>
   
   <LI>The encryption icon in the status bar may or may not shown
   encryption enabled depending on current situation (as described
   above).</LI>
</UL>

<H3><IMG SRC="images/Compose4.gif" WIDTH=683 HEIGHT=542 BORDER=0 ALIGN=bottom></H3>

<P>&nbsp;</P>

<P>

<HR WIDTH="60%" ALIGN=left NOSHADE color="#000000">

</P>

<H2>D. Mail Compose: Status Bar</H2>

<H3>1. Status Bar</H3>

<P>The status bar is used to indicate whether a message will be
digitally signed and/or encrypted when sent.</P>

<P>When digitally sign is enabled, the "signed" icon appears in the
status bar. When digitally sign is not enabled, no icon appears in
the status bar.</P>

<P>An "encryption" icon appears when the user has requested a message
be sent encrypted and the message can be sent encrypted because the
necessary recipient certificates are all available. A "broken
encryption" icon appears when the user has requested a message be
sent encrypted but the message can not be sent encrypted because the
necessary recipient certificates are not all available. No encryption
certificate is shown if encryption is set to "Never/None" for this
account or message.</P>

<P><IMG SRC="images/Status1.gif" WIDTH=402 HEIGHT=24 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<H3>2. Tooltips (some suggestions, tech writer to finalize)</H3>

<UL>
   <LI>Signed Icon - "Message will be digitally signed when
   sent."</LI>
   
   <LI>Encryption Icon "Message will be encrypted when sent."</LI>
   
   <LI>No Encryption Icon - "Message can not be encrypted."</LI>
</UL>

<P>&nbsp;</P>

<P>

<HR WIDTH="60%" ALIGN=left NOSHADE color="#000000">

</P>

<H2>E.&nbsp;Reading a Mail Message</H2>

<P>Indicate to recipient if a received message was sent signed and/or
encrypted.&nbsp;</P>

<P>When you receive a digitally signed message, the sender's
certificate is added to your address book, if it is not already
there.</P>

<P><B>**Note:</B><I> Icons would probably need to be
larger.**</I></P>

<H3>&nbsp;</H3>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>1. Without An Attachment</H3>

<P>Feedback in envelope area. Encryption and/or signed icons
displayed as appropriate (intacted or broken).</P>

<P><IMG SRC="images/Msg1.gif" WIDTH=698 HEIGHT=462 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>

<HR SIZE=1 WIDTH="40%" ALIGN=left NOSHADE color="#000000">

</P>

<H3>2. With An Attachment</H3>

<P>Feedback in envelope area. Encryption and/or signed icons
displayed as appropriate (intacted or broken).</P>

<P><IMG SRC="images/Msg2.gif" WIDTH=698 HEIGHT=461 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<H3>3. Tooltips (Sean Cotter)</H3>

<UL>
   <LI>Encryption Icon - "This message was encrypted when it was
   sent."</LI>
   
   <LI>Signed Icon - "This message was digitally signed by Jennifer
   Glick on Thu Oct 18 16:52:01 2001."</LI>
   
   <LI>Broken Signed - TBD</LI>
</UL>

<P>&nbsp;</P>

<P>

<HR WIDTH="60%" ALIGN=left NOSHADE color="#000000">

</P>

<H2>F. Forwarding and Replying to Messages</H2>

<P><B><I>This section not yet discussed.</I></B></P>

<P>Only forward as attachment allowed?</P>

<P>Replying to and forwarding emails will cause the compose window to
start in the most restrictive state as specified by either the
replied-to or forwarded email or the encrypt preference.<BR>
<BR>
So if the replied-to or forwarded email was encrypted, then
Option-&gt;security-&gt;"Always encrypt" is checked. If it wasn't
encrypted, then the setting is governed by the encrypt
preference.&nbsp;<BR>
<BR>
There is value in knowing whether the original message was signed,
but it can only be done by keeping the original message intact
together with it's signature. This can only be accomplished if the
original message is delivered as an attachment. However, users may
wish to edit the message before sending it, which requires the
message to be inline. If the original message is inline, no statement
can be made as to whether it was originally signed.</P>

<P><BR>
</P>

<P>

<HR SIZE=4 WIDTH="60%" ALIGN=left color="#000000">

</P>

<H1>Issues</H1>

<OL>
   <LI>If you have certs for some recipients but not for others, no
   one can receive the message encrypted? Or just recipients without
   certs will receive no encryption? <B>Current design is all or
   nothing.</B></LI>
   
   <LI>Should Mail Security Prefs be located with Mail &amp;
   Newsgroups or Privacy &amp; Security section of preferences?
   <B>Per Account in Mail and News Account Settings.</B></LI>
   
   <LI>What do we do if the user has "Always Encrypt" selected and
   certs for one or more users are not available? Do we disable the
   "Send" button? Let user click "Send" and display a dialog?<B> If
   user has encryption set to If Possible, Send button with open Lock
   is enabled. If user has encryption set to Always, Send button with
   open Lock is disabled.</B></LI>
   
   <LI>If a message is encrypted it is also signed? <B>No. A message
   can be just signed or just encrypted or both.</B></LI>
   
   <LI>Does the Send button also need a "signed" version as well? If
   so, having "encrypted" and "signed" on<BR>
   top of the Send button could be too crowded. <B>Only encryption
   icon will show on Send button. Signed icon will be in status bar
   is enabled.</B></LI>
   
   <LI>Conflicts with SSL lock icon.&nbsp; <B>SSL will keep the lock
   icon. Encryption will use another icon, maybe a key? Graphic
   artist to determine. Even though they both represent the message
   will be sent securely, they are each controlled by different
   settings and are really separate features. 12/7/01.</B></LI>
   
   <LI>Account Settings. Change panel name from "Secure Messages" to
   "Security" per Sean Cotter's request. 12/7/01.</LI>
   
   <LI>Account Settings. Remove checkbox to enable a different
   certificate for Encyption (vs Signing). For now, users must select
   two certs. Maybe in the future, allow them to use the same cert.
   12/7/01.</LI>
   
   <LI>Reading a message. Move "Attachments" label over list box to
   avoid confusion with it appearing above security icons.</LI>
   
   <LI>Conflicts with SSL lock icon. Since SSL is already using a
   lock icon in the Browser and Mail, it was felt that a different
   icon should be used to indicate encryption. Yes, they both
   represent security, but are in reality control by different users
   settings and distinct separate features. SSL will keep the lock
   icon. Encryption will use another icon, maybe a key? Graphic
   artist to determine. 12/7/01.&nbsp;</LI>
   
   <LI>Account Settings. Change panel name from "Secure Messages" to
   "Security" per Sean Cotter's request. 12/7/01.&nbsp;</LI>
   
   <LI>Account Settings. Remove checkbox to enable a different
   certificate for Encyption (vs Signing). For now, users must select
   two certs. Maybe in the future, allow them to use the same cert.
   12/7/01.&nbsp;</LI>
   
   <LI>Account Setings: Remove address book/ldap settings for now.
   Currently the Local Certificate Database searched for
   certificates. Bring back as appropriate in the future.
   12/7/01.&nbsp;</LI>
   
   <LI>Reading a message. Move "Attachments" label over list box to
   avoid confusion with it appearing above security icons.
   12/7/01.&nbsp;</LI>
   
   <LI>Using icons for cert status in the addressing area raised
   concerns regarding UI clutter and performance hit.<BR>
   Decided to go with Security toolbar button which would give
   encryption/cert status instead. 12/7/01.</LI>
</OL>
</BODY>
</HTML>
