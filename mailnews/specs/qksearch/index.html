<HTML>
<!--This file created 2/8/02 12:29 PM by Claris Home Page version 3.0-->
<HEAD>
   <TITLE>MachV/Mozilla: Mail &amp; News: Search in Three Pane Mail</TITLE>
   <META NAME=GENERATOR CONTENT="Claris Home Page 3.0">
   <X-CLARIS-WINDOW TOP=26 BOTTOM=601 LEFT=8 RIGHT=682>
   <X-CLARIS-TAGVIEW MODE=minimal>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"><!--This file created 7/20/98 10:33 PM by Claris Home Page version 3.0-->
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<P><TABLE BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
   <TR>
      <TD VALIGN=bottom>
         <P><FONT SIZE="+1">MachV/Mozilla: Mail &amp; News</FONT></P>
      </TD>
      <TD VALIGN=bottom>
         <P><DIV ALIGN=right><FONT SIZE="+1">UI
         Specification&nbsp;</FONT></DIV></P>
      </TD>
   </TR>
   <TR BGCOLOR="#66CCCC">
      <TD>
         <P><FONT SIZE="+3"><B>Quick Search in Mail</B></FONT></P>
      </TD>
      <TD>
         <P ALIGN=right><FONT SIZE="-1"><B><I>Last
         Modification:</I></B></FONT> <SCRIPT LANGUAGE=JavaScript>document.write(document.lastModified);</SCRIPT></P>
      </TD>
   </TR>
</TABLE>
 <TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><B>Author:</B> Jennifer Glick&nbsp;<BR>
         <B>Creation Date:</B> 29 June 01</P>
      </TD>
      <TD VALIGN=top>
         <P><B>Status:</B> Mostly Complete</P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="49%">
         <P><B>Quicklinks:</B></P>
         
         <BLOCKQUOTE><A HREF="#Menu">Menu</A><BR>
            <A HREF="#SearchBar">Search Bar</A><BR>
            <A HREF="#Results">Results</A><BR>
            <A HREF="#Other">Other</A><BR>
            <A HREF="#Sel">Selection</A><BR>
            <A HREF="#SelAdd">Select Addresses Dialog</A><BR>
            <A HREF="#Sidebar">Sidebar</A></BLOCKQUOTE>
      </TD>
      <TD VALIGN=top>
         <P><B>Feature Team</B></P>
         
         <BLOCKQUOTE><TABLE BORDER=1 CELLSPACING=0 CELLPADDING=0>
               <TR>
                  <TD VALIGN=top>
                     <P><FONT SIZE="-1">Engineering&nbsp;</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Scott Putterman, Seth
                     Spitzer&nbsp;</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">Marketing</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Kevin Murray</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">QA</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Esther Goes, Laurel
                     Carlson&nbsp;</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">Docs</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Robin Foster
                     Clark&nbsp;</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">UE</FONT></P>
                  </TD>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;Jennifer
                     Glick</FONT></P>
                  </TD>
               </TR>
               <TR>
                  <TD>
                     <P><FONT SIZE="-1">&nbsp;</FONT></P>
                  </TD>
                  <TD>
                     <P>&nbsp;</P>
                  </TD>
               </TR>
            </TABLE>
         </BLOCKQUOTE>
         
         <P>&nbsp;</P>
      </TD>
   </TR>
</TABLE>
</P>

<H1>Open Issues/Bugs</H1>

<OL>
   <LI>TBD, Potentially, some View and Navigation type actions may
   not be available.</LI>
   
   <LI>Title tip when hovering over search field.&nbsp; Robin to
   provide.</LI>
   
   <LI>121160 -add quick search text field to ab sidebar and "select
   addresses" dialog.&nbsp;</LI>
</OL>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="60%" ALIGN=left color="#000000">

</P>

<H1>Summary</H1>

<P>Bug <A HREF="http://bugzilla.mozilla.org/show_bug.cgi?id=63573">63573</A>
- RFE: have a "search engine like" interface for searching mail
news.</P>

<P>Provide a method for users to perform a basic and easily
accessible search in Three Pane Mail and News.</P>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="60%" ALIGN=left color="#000000">

</P>

<H1>Design Details</H1>

<H2><A NAME=Menu></A>1. Menu</H2>

<P>Select "Search Bar" from the View: Show/Hide menu in Three Pane
Mail.&nbsp;</P>

<P><IMG SRC="images/QkSearchM.gif" WIDTH=385 HEIGHT=256 X-CLARIS-USEIMAGEWIDTH X-CLARIS-USEIMAGEHEIGHT BORDER=0 ALIGN=bottom></P>

<P>A Search Bar above the column headers area opens.&nbsp;&nbsp;</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="40%" ALIGN=left color="#000000">

</P>

<H2><A NAME=SearchBar></A>2. Search Bar</H2>

<P>The default is open.&nbsp; Users who do not use the feature can
close the bar. Mail should remember how the user last left the bar
(open vs. close).</P>

<P><IMG SRC="images/QkSearch1.gif" WIDTH=753 HEIGHT=563 X-CLARIS-USEIMAGEWIDTH X-CLARIS-USEIMAGEHEIGHT BORDER=0 ALIGN=bottom></P>

<P>The search is performed on the folder that is selected in the left
pane.</P>

<P>A "contains" search on "Subject" or "Sender" is performed by
default.&nbsp;&nbsp;</P>

<P><B><I>Future RFE Feature:</I></B><I> Using Preferences, users can
change the search to "Subject contains:" or "Sender contains:".&nbsp;
The text displayed in the Search Bar should reflect the current
setting ("Subject or Sender contains: vs. "Subject contains:", vs.
"Sender contains:"). Note: Exact location of the pref is TBD.</I></P>

<P>As the user types text into the text field, the Thread Pane
updates to display only those headers that match the query. Typing
more text in the field refines the search (only searches the
remaining items), while deleting characters restores those headers
that now match the query.&nbsp; Clearing all the text from the field
restores the full contents of the selected folder in the Thread
Pane.</P>

<P>The search results are displayed using the same sort order that
was set by the user before the search occurred. While search results
are displayed, the sort order can be changed.</P>

<P>Selecting a different folder, newsgroup or account cancels the
search.&nbsp; For example:</P>

<UL>
   <LI>Select the Inbox and type "fred" in the search field. Headers
   matching "fred" are displayed in the Thread Pane.</LI>
   
   <LI>Select a different folder. The Thread Pane displays the
   contents of the selected folder.&nbsp;&nbsp;</LI>
   
   <LI>Select the Inbox again.&nbsp; The full contents of the Inbox
   is displayed (not the results of the "fred" search).</LI>
</UL>

<P>Once the users starts typing in the text field, no message in the
Thread Pane should be selected and the Message Pane should be
empty.</P>

<P>Clicking on the "Advanced..." button opens the full "<A HREF="http://www.mozilla.org/mailnews/specs/search/">Search</A>
Messages" dialog.</P>

<P>Clicking on the "Clear" button clears the search field. Only
enabled when text is currently entered.</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="40%" ALIGN=left color="#000000">

</P>

<H2><A NAME=Results></A>3. Displaying the Results</H2>

<P>The results of the search are displayed in the Thread Pane. The
number of matches found are displayed in the status bar.</P>

<P><IMG SRC="images/QkSearch1b.gif" WIDTH=753 HEIGHT=563 BORDER=0 ALIGN=bottom></P>

<P>Most all actions available on messages should be available to the
search result messages.&nbsp; Actions taken on search results are
permanent (same as non search results messages). For example:</P>

<UL>
   <LI>Selecting a message in the Thread Pane displays its contents
   in the Message Pane (if open).</LI>
   
   <LI>Double clicking on a message opens it in the Standalone
   Window.</LI>
   
   <LI>Dragging and dropping to move or copy a message.</LI>
   
   <LI>Deleting messages.</LI>
   
   <LI>Forwarding, replying, etc. should all be available.&nbsp;</LI>
   
   <LI>* TBD:&nbsp; Potentially, some View and Navigation type
   actions may no be available (to be determined by engineering when
   the feature is implemented).</LI>
</UL>

<P><B>No Results Found.</B> If no matching items are found, the text,
"No matches found." is displayed in the Status bar.&nbsp; The Message
pane, if open, is empty.</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="40%" ALIGN=left color="#000000">

</P>

<H2><A NAME=Other></A>Other</H2>

<P><B>Tab.</B> Tabbing in Three Pane Mail works clockwise, so if the
search field has focus, a tab will cause the Thread Pane to have
focus.</P>

<P><B>"Get Msg"</B>.&nbsp; If the user pulls or receives new messages
while search results are being displayed, and any of the new messages
match the search criteria, the Thread Pane displaying the matching
results is NOT updated.&nbsp; If the user were to perform the search
again, though, the new messages would be displayed.</P>

<P><B>Drag and Drop.</B> Users are able to drag and drop results of
the search to other folders. Just like drag and drop in the Three
Pane Mail, a Move is preformed.&nbsp; Accelerator plus drag and drop
is a copy.&nbsp; When drag and dropping newsgroup messages, a copy is
always performed.</P>

<P><B>News.</B> This feature should work the same in Newsgroups,
although it may be a little slower if there are a large number of
postings.</P>

<P><B>Clicking into or Tabbing into.</B> Clicking into the search
field or tabbing into the search field causes any existing text to be
highlighted. This parallels the browser behavior of clicking or
tabbing into the URL field.&nbsp;&nbsp;</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="40%" ALIGN=left color="#000000">

</P>

<H2><A NAME=Sel></A>Selection</H2>

<P>If the user performs a search, selects a message found in the
search, and then clears the search, the message selected should
remain selected.&nbsp;</P>

<P>The user performs a search, no message is selected in search and
user clears search. No message should be selected when the search is
cleared. The thread pane should scroll to the first new message (or
most recent message if no new messages are available).<BR>
<BR>
The user performs a search. A message has secondary focus in search
view (lighter highlight color). The user clears the search. The
message retains secondary focus when search cleared.</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="40%" ALIGN=left color="#000000">

</P>

<H2><A NAME=SelAdd></A>Quick Search in the "Select Addresses"
Dialog</H2>

<P><IMG SRC="images/Select1.gif" WIDTH=591 HEIGHT=425 BORDER=0 ALIGN=bottom></P>

<P><BR>
"Stop" button is enabled while a search is in progress.</P>

<P>&nbsp;</P>

<P>

<HR WIDTH="40%" ALIGN=left color="#000000">

</P>

<H2><A NAME=Sidebar></A>Quick Search in the Sidebar</H2>

<P>Address Book in the Sidebar <A HREF="http://www.mozilla.org/mailnews/specs/SidebarTabs/">spec</A>.</P>

<P>If a local Address Book is selected:</P>

<P><IMG SRC="images/SideBar1.gif" WIDTH=238 HEIGHT=438 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<P>If an LDAP Directory is selected, "Stop" button is available while
the search is in&nbsp; progress.</P>

<P><IMG SRC="images/SideBar2.gif" WIDTH=238 HEIGHT=438 BORDER=0 ALIGN=bottom></P>

<P>&nbsp;</P>

<H3>Tooltips</H3>

<UL>
   <LI>Drop-down list of address books:&nbsp; "Choose the address
   book you want to search".&nbsp;</LI>
   
   <LI>Quick Search field: "Enter the name you want to
   find".&nbsp;</LI>
</UL>

<P>&nbsp;</P>

<P>

<HR SIZE=4 WIDTH="60%" ALIGN=left color="#000000">

</P>

<H2>Issues</H2>

<OL>
   <LI><I>Name of toolbar?</I> Search Bar.</LI>
   
   <LI><I>If the account level is selected in the Folder Pane, can a
   Search on the whole account be done? Or does the Search Toolbar
   become disabled? </I>With redesign, Search Bar is not visible when
   an Account is selected.</LI>
   
   <LI><I>Type of search?&nbsp; A -&nbsp; "contains" search on
   "subject", "sender" and "body".&nbsp; B -&nbsp; "contains" search
   on "subject" and&nbsp; "sender".&nbsp;</I> Contains Subject or
   Sender.</LI>
   
   <LI><I>Do we want to allow users to type in the +,&nbsp; -,
   or&nbsp; "" notations?&nbsp;</I> No. No need to complicate. Plus
   if we allow it here, would advanced search need to allow it as
   well?</LI>
   
   <LI><I>Label text says "Search for:" or "Subject or Sender
   contains:"?</I> "Subject or Sender contains" by default. Will be a
   preference to change the search to Subject only or Sender
   only.&nbsp; Text displayed should update as appropriate.</LI>
   
   <LI>A "contains" search on "Subject" or "Sender" is performed by
   default.&nbsp; RFE - <I>Using Preferences, users can change the
   search to "Subject contains:" or "Sender contains:".&nbsp; The
   text displayed in the Search Bar should reflect the current
   setting. Where should this pref be located? "Mail &amp; News" top
   level panel? Dedicated Mail "Search" panel?</I></LI>
</OL>

<P>&nbsp;</P>
</BODY>
</HTML>
