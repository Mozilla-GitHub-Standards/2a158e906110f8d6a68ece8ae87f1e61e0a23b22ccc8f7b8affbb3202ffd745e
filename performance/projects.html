
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">

   <title>performance: projects</title>
<script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<center>
<h1>performance: projects</h1>
</center>

Contact:
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com)<br>
Last Updated: 17-September-1998

<p>
This document enumerates some of the performance enhancements that
we've been batting around internally at Netscape. It is by no means
exhaustive, and other suggestions are heartily encouraged. In the
cases where someone is actively <i>working</i> on one of these ideas,
contact information is noted. We'd like to do <i>all</i> of them (or,
understand why we shouldn't -- some may not be good ideas after all),
so if you want to get involved, pick something with and hack away!
Eventually, I hope that we'll be able to set up links to more detailed
content for each of these projects as work evolves.
</p>

<p>
A bureaucratic note on "contacts" and "owners". A "contact" is someone
who has done some thinking about the project (and maybe even suggested
it), but hasn't done anything with it or is looking to hand it off. An
"owner" is someone who is actively involved in hacking code. The
distinction is made to clarify what is actively being worked on, and
what <i>needs</i> work. If a project that you are interested in
already has an "owner", by all means contact the person and see what
you could do to help (i.e., don't feel that it's "taken" and the owner
doesn't want any help: if that were the case, it wouldn't be listed
here).
</p>

<h3>Cursor Feedback</h3>

<ul>
<p>
Mozilla needs to be more rigorous about cursor feedback: the cursor
should never be left as "busy" for longer than needed (e.g., at
startup on blank screen). Ensuring that the correct cursor type is
shown provides solid feedback with respect to what a user can and
cannot do with the browser.
</p>

<p>
Contact:
<a href="mailto:don@netscape.com">Don Melton</a> (don@netscape.com).
</p>
</ul>

<h3>DNS Caching</h3>

<ul>
We want to investigate the effects of <i>caching</i> DNS information
in the browser. Specifically, Mozilla will maintain a DNS cache and
apply it for frequently visited sites, which will remove the overhead
of repeated DNS lookups. An even more aggresive implementation might
lookahead and prefetch the DNS information for links on the current
page. The DNS cache will be refreshed using a suitable algorithm
automatically, or may be forced to refresh by the user.

<p>
Owners:
<a href="mailto:valeski@netscape.com">Judson Valeski</a> (valeski@netscape.com),
<a href="mailto:gagan@netscape.com">Gagan Saksena</a> (gagan@netscape.com).
</p>
</ul>

<h3>Enhanced Network Cache Algorithm & Implementation</h3>

<ul>
<p>
Evaluate and implement a better algorithm for cache replacement (the
current feeling is the LRU really isn't appropriate). This will
require some detailed analysis, and may be affected by the
characteristics of the content that a user tends to browse.
</p>

<p>
Other cache-related tasks include modularization (using the

<a href="../docs/modunote.htm">XPCOM</a>

infrastructure), and implementing a <i>shared cache</i> that can
identify equivalences across multiple URLs that use the same data.
</p>

<p>
Owner:
<a href="mailto:gagan@netscape.com">Gagan Saksena</a> (gagan@netscape.com).
</p>

</ul>

<h3>FTP Resume Feedback</h3>

<ul>
<p>
One of Mozilla's "stealth features" is the ability to dynamically
detect and resume a failed FTP transfer. Unfortunatly, most users
think that FTP is buggy because "it couldn't have downloaded that 8Mb
file <i>that</i> fast!": a typical case of poor user interface. It
would sure be great to make an end-user aware that a partially
successful transfer had been detected, and could be resumed. This
might involve adding some "browser internals" information to the
Aurora UI for FTP downloads that are currently in progress, adding a
better "Save As..." dialog that would give the user an appropriate
prompt if it detected that a download could be resumed, and so on.
</p>

<p>
Contact:
<a href="mailto:hshaw@netscape.com">Hubie Shaw</a> (hshaw@netscape.com).
</p>
</ul>

<h3>HTTP Bundling</h3>

<ul>
<p>
On request from client, the server could bundle together <i>all</i> of
the elements of a page (images, JavaScript, etc.) into a "bundle", and
send the bundle to the client in one big transfer. The client would
then unbundle the contents and display them. This concept is similar
to that of Java <tt>JAR</tt> files. Because Mozilla supports
incremental rendering, it would be important to order the contents of
the "bundle" so that elements that are to be displayed first (e.g.,
the <tt>.html</tt> document file) appear early on in the transfer.
</p>

<p>
Contact:
<a href="mailto:jg@netscape.com">John Giannandrea</a> (jg@netscape.com).
</p>
</ul>

<h3><a href="../projects/apache/gzip/">HTTP Compression</a></h3>

<ul>
<p>
A web server can <i>compress</i> the content that it sends across the
net to a client; in turn, a client decompresses the content before
displaying it. Even though most image formats use some kind of
compression already, HTTP compression could dramatically decrease the
amount of data transferred over the wire, particularly for "vanilla"
HTML and JavaScript scripts.
</p>

<p>
Owner:
<a href="mailto:jg@netscape.com">John Giannandrea</a> (jg@netscape.com).
</p>
</ul>

<h3>Keep Alive</h3>

<ul>
<p>
The client could attempt to maintain an open TCP connection with a
server in anticipation of re-using that connection for subsequent
transfers. This would cut out the overhead associated with
establishing a new socket. Although Mozilla currently <i>does</i>
re-use connections within the <i>current</i> page, it does not attempt
to maintain open connections <i>across</i> pages.
</p>

<p>
Contact:
<a href="mailto:valeski@netscape.com">Judson Valeski</a> (valeski@netscape.com).
</p>
</ul>

<h3>Layout Enhancements</h3>

<ul>
<p>
<i>Table layout</i>. The browser should maintain a persistent model of
the content: this would be used to implement dynamic reflow, as well
as facilitate general text and table layout performance improvements.
</p>

<p>
<i>Parse tree cache</i>. Cache the persistent model of a page along
with the content cache, and use this when displaying the page from the
cache. This would achieve "reflow-level" performance when page is
displayed from cache.
</p>

<p>
Owners:
<a href="mailto:toshok@netscape.com">Chris Toshok</a> (toshok@netscape.com),
<a href="mailto:nisheeth_mozilla@yahoo.com">Nisheeth Ranjan</a> (nisheeth_mozilla@yahoo.com).
</p>
</ul>

<h3>Low-bandwidth Protocol Analysis</h3>

<ul>
<p>
We're looking at how well HTTP runs over a slow link. To do this,
we're ripping apart HTTP at the TCP packet level, and examining what
actually goes over the wire. We'll determine the effect of OS-level
TCP parameters on overall performance. We hope to evaluate the impact
of HTTP/1.1 features like compression and pipelining.
</p>

<p>
Owners:
<a href="mailto:hshaw@netscape.com">Hubie Shaw</a> (hshaw@netscape.com),
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com).
</p>
</ul>

<a href="runtime-tracing.html">
<h3>Runtime Performance Tracing</h3>
</a>

<ul>
<p>
By instrumenting <tt>netlib</tt> and other modules to gather timing
statistics, we

<ul>
<li>
Determine what network-related operations are taking the most time
(e.g., DNS lookup, TCP connect).
</li>

<li>
Determine the relative frequency of content that kills Mozilla's
performance (e.g., Mozilla blocks on <tt>IMG</tt> tags without size
information; we <i>could</i> fix this, but how often does it really
happen?).
</li>

<li>
Enable the mozilla.org community at large (not just those of us with
profilers) to begin attacking performance problems in the codebase.
</li>

</ul>

</p>

<p>
Owner:
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com).
</p>
</ul>

<h3>Page Progress Feedback</h3>

<ul>
<p>
Often, there is no clear indication of what is currently being
downloaded as a web page loads. We're all familiar with the "spastic
progress meter" that jumps from 5% to 90%, and then back to 20%!
Although this might give an end user some feeling that "a lot is going
on", it would probably be best to be able to clearly set their
expectations about the progress of a page load. Similarly, during a
<tt>SUBMIT</tt> post (e.g., to a CGI), there is almost <i>no</i>
feedback to the user with respect to what is going on.
</p>

<p>
Contact:
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com).
</p>
</ul>

<h3>Prefetch</h3>

<ul>
<p>
It would be interesting to see if it is possible to efficiently
<i>prefetch</i> pages that a user might view via links from the
current page. Prefetching could be either <i>content directed</i>
(i.e., via extension to HTML) or <i>heuristically based</i>.
</p>

<p>
<i>Content based</i> prefetch could work by allowing an author to
specify a <tt>&lt;LINK&gt;</tt> tag in the document header with the
<tt>SRC</tt> attribute specifying the URL to be prefetched:
</p>

<pre>
&lt;HEAD&gt;
&lt;LINK REL="<i>prefetch</i>" HREF="<i>prefetchUrl</i>"&gt;
...
&lt;/HEAD&gt;
</pre>

<p>
Alternatively, a hypertext link in the document could trigger prefetch
by having the <tt>PRE</tt> attribute:
</p>

<pre>
&lt;A HREF="<i>prefetchURL</i>" PRE&gt;This url would be prefetched&lt;/A&gt;
</pre>

<p>
<i>Heuristically based</i> prefetch might work by traversing the
document from top to bottom, and fetching content as it encounters
links. Alternatively, the browser might simply prefetch ("refresh")
the documents that are in the user's history at startup, under the
assumption that the user is likely to visit those pages again.
</p>

<p>
Owner:
<a href="mailto:gagan@netscape.com">Gagan Saksena</a> (gagan@netscape.com).
</p>

</ul>

<h3>Profiling</h3>

<ul>
<p>
Although not really a project in and of itself, it would be nice to
have somebody as a "lead" for the profiling effort. This person would
evaluate profiling tools, collect and publish tips for using the
tools, maintain the current list of "hot spots" that need to be dealt
with, and gather new test cases that illustrate performance problems.
</p>

<p>
Owners:
<a href="mailto:hshaw@netscape.com">Hubie Shaw</a> (hshaw@netscape.com),
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com).
</p>
</ul>

<h3>Proxy Autodetect</h3>

<ul>
<p>
Even at small ISPs, proxy servers can achieve cache hit rates of up to
30%! This can lead to a much "smoother" web experience, and makes the
browser a much more efficient user of network resources. On startup,
Mozilla should attempt to determine if a proxy server is available
<i>automatically</i>, and if it finds one, use it.
</p>

<p>
Contact:
<a href="mailto:valeski@netscape.com">Judson Valeski</a> (valeski@netscape.com).
</p>
</ul>

<h3>Smarter Image Caching</h3>

<ul> 
<p>
Currently, an when an image is tossed from the cache, information
about its dimensions (width and height) is discarded as well. There
are two problems with this: first, large images tend to be flushed
from the cache quickly due to the large amount of space they require
on disk; and second, large images (in fact, <i>any</i> image) tends to
force a document reflow when the image size is unknown. By keeping the
image dimensions cached separate from the image contents, it may be
possible to avoid reflow. (Currently, content providers are encouraged
to specify image dimensions in the <tt>&lt;IMG&gt</tt> tag, so it
would be interesting to see what percentage of images on the web
actually have unspecified dimensions before charging off and doing
this optimization.)
</p>

<p>
Contact:
<a href="mailto:gagan@netscape.com">Gagan Saksena</a> (gagan@netscape.com).
</p>

</ul>

<h3>Tune On Install</h3>

<ul>
<p>
On installation, parameters such as disk cache size, memory cache size
etc. could be tuned for optimal performance based on the user's OS,
available memory, free hard disk space, and so on.
</p>

<p>
Contact:
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com)<br>
</p>

</ul>

<hr>

<p>
There are more ideas here than we can work on. We need your help! And
if you have other ideas, <i>let us know!</i>.
</p>





<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January  1,  2004</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/performance/projects.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
