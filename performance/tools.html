<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">

   <title>performance: tools</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">

<meta name="DC.subject" content="Performance tools">
<meta name="DC.title" content="Performance tools">
<meta name="DC.description" content="List of softwares for tracking down memory leaks">
<meta name="DC.date.created" content="1999-05-13T12:35:03+11:00" scheme="W3CDTF">
<meta name="DC.date.modified" content="2005-02-10T09:54:03+11:00" scheme="W3CDTF">

<script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">






<h1 style="text-align: center;">performance: tools</h1>
<p style="text-align: center;">Contact:
<a href="mailto:cathleen@netscape.com">Cathleen Wang</a> (cathleen@netscape.com)</p>

<h3>Memory Leaks</h3>
<p>Tools for tracking down memory leaks.</p>

<ul>

<li>
<a
href="../projects/xpcom/MemoryTools.html">XPCOM
Memory Leak tools</a> (this document also has information on
Mozilla's other memory leak tools).  See also a
<a href="leak-tutorial.html">tutorial</a> on using these tools and the
refcount balancer.
</li>

<li>
<a href="http://www.ibm.com/software/awdtools/purify/">Rational Purify<sup>&reg;</sup></a>. (Commercial)
</li>

<li>
<a href="http://www.glowcode.com/summary.htm">GlowCode</a>. (Commercial)
</li>

<li>
<a href="http://perens.com/FreeSoftware/ElectricFence/">ElectricFence</a>.

<ul><li>
"Electric Fence ... uses the virtual memory hardware of your system to
detect when software overruns the boundaries of a malloc() buffer. It
will also detect any accesses of memory that has been released by
free(). Because it uses the VM hardware for detection, Electric Fence
stops your program on the first instruction that causes a bounds
violation."</li>
</ul>

Specifically, it works by placing each heap allocation on its own VM
page. Since the dynamic footprint of the browser is pretty large, this
may make it tough to use "in real life".
</li>

<li>
<a href="http://lxr.mozilla.org/mozilla/source/tools/leaky/leaky.html">Leaky</a>.

This is a home-grown tool that 

<a href="mailto:kipp@netscape.com">Kipp</a>

put together:

<ul><li>
"Its a tool called leaky. What it does it help you track down memory
leaks and some kinds of memory corruption. It also has entry pointers
for logging addref/release calls. The key thing that leaky does is
this: it logs all calls to malloc/free/realloc/new/delete into a log
file. The logging data includes information about size and address, as
well as the *call stack of the operation*. The leaky program then can
translate the call stack data from addresses into symbols and then
dump the data out."

<a href="news://news.mozilla.org/373C5BDD.AF4AA639%40netscape.com">*</a></li>
</ul>
</li>

<li>
<a href="refcnt-balancer.html">refcount balancer</a>.

This is another home-grown tool that does finer-grained
instrumentation and allows you to focus on specific objects rather
than entire runs.
</li>

<li>
<a href="http://www.parasoft.com/products/insure/index.htm">Insure++<sup>&reg;</sup></a>. (Commercial) Evaluation copy is free. <a href="http://www.parasoft.com/press/releases/insure/ins_lite_ver.htm">Linux version</a>.
</li>

<li><a href="http://www.andreasen.org/LeakTracer/">LeakTracer</a>.</li>

<li><a href="http://www.inf.ethz.ch/personal/biere/projects/ccmalloc/">ccmalloc</a>.</li>
<!-- http://iseran.ira.uka.de/~armin/ccmalloc/ seems to have died -->

<li><a href="http://quorum.tamu.edu/jon/gnu/">debauch</a> Dead?</li>

<li><a href="http://www.linkdata.se/sourcecode.html">memwatch</a>.</li>

<li><a href="http://www.geodesic.com/products/greatcircle.html">Geodesic Systems' GreatCircle</a> Dead?

<a href="mailto:fur@netscape.com">Scott Furman</a> has done some
preliminary work to get this product working with Mozilla.
</li>

<li>
<a href="mailto:jseward@acm.org">Julian Seward</a>

writes of

<a href="http://valgrind.org/">Valgrind</a>,

an open-source memory debugger and profiler for Linux/x86: 
`Snapshots 20020511 and later of
the tool are able to run Mozilla correctly on both Red Hat 6.2 and 7.2.
It will also do detailed low-level I1/D1/L2 cache profiling, so you can
see which bits of Mozilla create cache misses.
You'll need the patch from

<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=124335">bug 124335</a>

if working with versions prior to 1.0RC2.
</li>

</ul>

<h3><a name="profiling">Profiling</a></h3>

<p>The following tools are used to measure product performance.</p>

<ul>

<li>
<a href="http://www.ibm.com/software/awdtools/purifyplus/">Rational PurifyPlus</a>. (Commercial) Used to be called Rational Quantify.
  <ul>
    <li>
    <a href="qfy2html.pl">qfy2html.pl</a>. A Perl script for munging
    Quantify 6.0 output into hyperlinked HTML to share with your
    friends. Run Quantify, save your results as text, and then let
    this thing rip.
    </li>
    <li>
    <a href="../unix/quantify.html">Quantifying Mozilla on
    Solaris</a>.  Instructions on how to make Quantify play 
    nicely with Mozilla on Solaris.
    </li>
  </ul>
</li>

<li>
For performance work on Mac, you can use either the Metrowerks Profiler
(on subsets of the codebase), or Apple's Instrumentation SDK. For details,
see the page on <a href="mac-performance.html">Mac performance</a>.
</li>

<li>
<a href="http://alisa.ucsd.edu/cgi/webman?SEARCH+man5+hiprof.5.gz">hiprof</a>.

A hierarchical instruction profiler for Digital Unix. There is an

<a href="atom/atom.html">online tutorial</a>, courtesy

<a href="mailto:jim_nance@yahoo.com">Jim Nance</a> (jim_nance@yahoo.com):

<ul><li>
"I like it because it does not require you to recompile the program,
because it give accurate times for callers, and because it comes with
DU so that everyone developing there should already have it."

<a href="news://news.mozilla.org/slrn7jop6f.jlq.jlnance%40Bessie.acs.uncwil.edu">*</a></li>
</ul>
</li>

<li>
<a href="jprof.html">jprof</a>.  Sampling profiling tool by <a href="mailto:jim_nance@yahoo.com">Jim Nance</a> that runs on RedHat 6.1, 6.2.
</li>

<li>
<a href="measureStartup.html">MOZ_TIMELINE</a> Timing instrumentation.  Extremely useful for app startup measurements.
</li>

<li>
<a href="eazel.html">eazel profilers</a>.  Two profiling tools from Eazel/gnome.org, runs on Linux.
</li>

<li>
<a href="jsprofiler.html">JS Runtime Profiler</a>.  Profile JavaScript usage, dumps output to a file.
</li>

<li>
<a href="http://www.sysinternals.com/">Sysinternals utilities</a>. Win9x/Me/NT/2K utilites for monitoring system usage.  CPU/Mon, Diskmon, Filemon, Regmon, etc.
</li>

<li>
<a href="http://www.gnu.org/software/binutils/manual/gprof-2.9.1/gprof.html">gprof</a>. 
Part of the <a href="http://www.gnu.org/software/binutils/">GNU Binutils</a>. 
Back in May 1999 there were rumors that gprof had trouble with dynamically 
linked and loaded objects (like Mozilla). Currently (March 2006) gprof is still 
being developed, so hopefully that's no longer true (assuming it ever was). 
The link to the gprof manual above is <strong>years</strong> out of date but, 
at the time of writing, it's the latest version of the <a
href="http://www.gnu.org/manual/">manual on gnu.org</a>. To get an up to date 
version of the manual, get the gprof source and run |. configure; make html| in 
the gprof source directory. 
</li>

</ul>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified April 26,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/performance/tools.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
