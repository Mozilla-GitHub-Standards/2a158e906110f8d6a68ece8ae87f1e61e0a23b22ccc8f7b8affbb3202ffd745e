
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">

    <title>Mozilla Configurator FAQ</title>
  <script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">

  

  


<font size='+2' face='Helvetica,Arial'><b>
Configurator FAQ
</b></font>
<p>
<font size='+1' face='Helvetica,Arial'><b>
Stephen Lamm, 
<TT><A HREF="mailto:slamm@netscape.com">slamm@netscape.com</A></tt>
</b></font><br>

<!-- Created: Fri Mar 12 15:51:15 PST 1999 -->
<!-- hhmts start -->
Last modified: Wed Mar 22 16:07:10 PST 2000
<!-- hhmts end -->

<table cellspacing=20 cellpadding=0 border=0><tr bgcolor='#F0A000'><td>
<table cellpadding=10 cellspacing=3 border=0><tr bgcolor='#FFFFFF'><td>
<table cellpadding=2 cellspacing=0 border=0>
<tr valign=top><td>Q.</td><td> <a href='#q1'> What are the 
   Unix Build Configurator and <code><b>client.mk</b></code>?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q2'> How does it work?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q3'> Can I still do all the build steps by hand?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q4'> Can I load an existing '.mozconfig' into the web Configutator?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q5'> How do I force <code><b>client.mk</b></code> to run autoconf?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q6'> How do I use .mozconfig with more than one tree?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q7'> How do I temporarily disable <code><b>.mozconfig</b></code>?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q8'> What is the best way to build with dependencies? Should I use 'make
    depend'?

</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q9'> I changed a Makefile.in file. How to do I update the Makefile?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q10'> What is the difference between 'ac_add_options' and 'mk_add_options'?
</a></td></tr></table>
</td></tr></table>
</td></tr></table>
<table cellpading=2 cellspacing=0>
<tr valign=top><td><A name='q1'><b>Q.</b></a></td><td>
 What are the <a href="http://webtools.mozilla.org/build/config.cgi">
   Unix Build Configurator</a> and <code><b>client.mk</b></code>?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> The Unix Build Configurator is a CGI form for picking and
   saving build options.<br>
   <code><b>client.mk</b></code> has been around for a while, but I never used
   it because there was no easy way to pass options into it. It used a set of 
   environment variable to control parameters. However, these variables had no
   direct correlation to the options that <code><b>configure</b></code> used.
   <p>
   The <code><b>.mozconfig</b></code> script describes build options in a way
   that both
   <code><b>client.mk</b></code> and <code><b>configure</b></code> understand.
   It saves you the trouble of typing the options on the command-line all the 
   time. Of course, you are still welcome to type options on the command-line
   if you want. Any options you give <code><b>configure</b></code> on the
   command-line will be listed after the <code><b>.mozconfig</b></code> options.
   In this way, you can override individual <code><b>.mozconfig</b></code> options.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q2'><b>Q.</b></a></td><td>
 How does it work?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> The Build Configurator produces a script,
   <code><b>.mozconfig</b></code>, that you save in your home
   directory. When <code><b>client.mk</b></code> runs, it reads in the
   options that apply to it (e.g. object dirctory).
   When <code><b>configure</b></code> runs, it also reads in the options that
   it understands.
   <p>
   If you are interested in more of the details, you can start by looking at
   the <a href="http://webtools.mozilla.org/build/README">
   README</a> file. Or, 
   <a href="mailto:slamm@netscape.com?Subject=About the Configuator">
   send me an email</a>.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q3'><b>Q.</b></a></td><td>
 Can I still do all the build steps by hand?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> Absolutely. Fill free to mix and match build steps.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q4'><b>Q.</b></a></td><td>
 Can I load an existing '.mozconfig' into the web Configutator?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> Yes. 
    <ul><code>
       cd mozilla<br>
       gmake -f client.mk webconfig
    </code></ul>
   It uses<code><b> netscape -remote</b></code>, so make sure you have 
   netscape running.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q5'><b>Q.</b></a></td><td>
 How do I force <code><b>client.mk</b></code> to run autoconf?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> Set the environment variable <code>RUN_AUTOCONF_LOCALLY</code>.
    You should not need to do this unless you are making changes to
    <code><b>configure.in</b></code>.
    The <code><b>configure</b></code> script gets updated automatically
    anytime someone makes a change to <code><b>configure.in</b></code>.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q6'><b>Q.</b></a></td><td>
 How do I use .mozconfig with more than one tree?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> If you want to use different options with different trees, you
    can save a ".mozconfig" as mozilla/.mozconfig in the root of the tree.
    That file will be read instead of the .mozconfig in your home
    directory.
    If you only want to override an option or two, you could save a
    mozilla/.mozconfig like the following,
    <ul><code>
       # mozilla/.mozconfig<br>
       . $HOME/.mozconfig<br>
       ac_add_options --disable-debug
    </code></ul>

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q7'><b>Q.</b></a></td><td>
 How do I temporarily disable <code><b>.mozconfig</b></code>?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> If you have a <code><b>~/.mozconfig</b></code>, that you want to
   disable for a particular tree, you have two options. First, you can
   create an empty <code><b>.mozconfig</b></code>
   at the root of the tree,
    <ul><code>
       cd mozilla  (top of the source tree)<br>
       touch .mozconfig<br>
       (build as usual)
    </code></ul>
   Simply remove <topsrcdir>/.mozconfig when you want to revert to your
   ~/.mozconfig. Second, you can set <code>$MOZCONFIG</code> to point to
   an empty file,
    <ul><code>
       touch /tmp/empty<br>
       export MOZCONFIG=/tmp/empty  (or setenv MOZCONFIG /tmp/empty)<br>
       (build as usual)
    </code></ul>


</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q8'><b>Q.</b></a></td><td>
 What is the best way to build with dependencies? Should I use 'make
    depend'?

</td></tr><tr valign=top><td>
<b>A.</b></td><td> If you are building with gcc or egcs, you should build with
    --enable-md. This causes the compiler to generate the dependencies
	when the objects are build. With this option, there is no need
	to run 'make depend'.<br>
   <font color=red>Update: "--enable-md" is used by default if your compiler
   supports it. If your compiler does not support it, running 'make depend' 
   is your best bet. (client.mk includes 'depend' as a default target.)</font>

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q9'><b>Q.</b></a></td><td>
 I changed a Makefile.in file. How to do I update the Makefile?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> <code><b>make</b></code> will update the Makefile for you. It has
   a dependency rule to update the Makefile,
    <ul><code>
       $(OBJDIR)/Makefile: Makefile.in
             <ul>@echo Updating $@<br>
             $(topsrcdir)/build/autoconf/update-makefile.sh</ul>
    </code></ul>

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q10'><b>Q.</b></a></td><td>
 What is the difference between 'ac_add_options' and 'mk_add_options'?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> 'ac_add_options' is for passing options to 'configure'. 'mk_add_options'
   is for passing options to 'client.mk'. (The 'mk' stands for make).
   Use 'mk_add_options' for everything that needs to be done before you run
   configure such as checking out the tree, or deciding where to put build
   objects.


</td></tr></table>

<p>
<hr aligh=left>
<a href="http://www.mozilla.org/build/unix.html">
Back to the Unix Build Instructions
</a><br>
<a href="http://webtools.mozilla.org/build/config.cgi">
Back to the Unix Build Configurator
</a>
<hr align=left>
           Send questions or comments to 
           &lt;<a href="mailto:slamm@netscape.com?subject=About the Configurator FAQ">slamm@netcape.com</a>&gt;.
	</form>


<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 27,  2000</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/build/configurator-faq.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
