<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../images/mozilla-16.png" type="image/png">

<title>Mozilla Release Checklist</title>
<script src="../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">





<h1>Mozilla Release Checklist</h1>

<p>This is a checklist used by <code><a
href="http://mozilla.org/roadmap.html#project-management">drivers@mozilla.org</a></code>
to help ensure that the right things happen before a release, and to
give others a rough idea of how our release process works.  The build
team probably has a separate (and probably better) version of some parts
of this list.</p>

<p>If you have additions or suggestions for this list, please note them 
<a href="http://wiki.mozilla.org/MozillaReleaseChecklist">at the wiki</a> 
and one of will migrate appropriate additions from there to here.</p>

<h2 id="right-fixes">Get the right fixes in</h2>

<ul>
    <li>Search for bugs nominated with the
    <code>blocking<i>[R]</i>?</code> bug flag, and mark them
    <code>+</code> or <code>-</code>.</li>
    <li>Encourage owners of <code>blocking<i>[R]</i>+</code> bugs (and
    perhaps some bugs that are close but not quite blocking) to fix the
    bugs.</li>
    <li>Keep an eye on talkback data, and nominate relevant bugs.</li>
    <li>Handle approval requests (the <code>approval[R]?</code> patch
    flag) once the tree is frozen for the release.</li>
    <li>Look for regressions in difficult-to-test areas such as memory
    leaks.</li>
</ul>

<h2 id="make-branch">Make a branch</h2>

<p>If it's a final release (rather than an alpha or beta release), a
branch needs to be made.  This is done once almost all of the necessary
fixes are in.  Before deciding that it's really time to release, drivers
listen to feedback from people using the builds to make sure that
they're good quality, and, before making the final decision, verify that 
talkback is working and run the smoketests plus a few additional tests.</p>

<p>When it's time to release, drivers let the build team
know that it's time to tag the release and make the final builds
(usually with some advance warning with some uncertainty).  The build
team cuts a branch by pulling a tree and <a
href="cvs-tag.html">tagging</a> a base tag and (with <code>cvs tag
-b</code>) a branch tag.  Note that the minibranch mentioned on the
tagging instructions isn't necessary here, since the pull scripts are
updated on the branch itself.</p>

<p id="what_to_tag">The tagged files are more than just the <a
href="unix-details.html#s4">default pull</a> by the build scripts.
They should also include
<code>mozilla/other-licenses/libart_lgpl/</code>,
<code>mozilla/tools/trace-malloc/</code>,
<code>mozilla/tools/jprof/</code>,
<code>mozilla/tools/codesighs/</code>, <code>mozilla/toolkit/</code>,
<code>mozilla/chrome/</code>,
<code>mozilla/other-licenses/branding/</code>,
<code>mozilla/other-licenses/7zstub/</code>,
<code>mozilla/browser/</code>, <code>mozilla/mail/</code>,
<code>mozilla/composer/</code>
(and probably some other stuff
that I missed).</p>

<p>The following command will checkout these additional files:</p>

<pre>
cvs co                                \
  mozilla/other-licenses/libart_lgpl/ \
  mozilla/tools/trace-malloc/         \
  mozilla/tools/jprof/                \
  mozilla/tools/codesighs/            \
  mozilla/toolkit/                    \
  mozilla/chrome/                     \
  mozilla/other-licenses/branding/    \
  mozilla/other-licenses/7zstub/      \
  mozilla/browser/                    \
  mozilla/mail/                       \
  mozilla/composer/
</pre>

<p>When the branch is made, create the <code>blocking<i>[R]</i></code>
bug nomination flags for the next release.</p>

<h2 id="notify-sysadmins">Notify the sysadmins</h2>

<p>With our growing popularity, releases tend to cause us LOTs of bandwidth 
usage on our servers. As soon as a date has been set for the release 
(and preferably a week or so in advance) be sure to notify 
<a href="mailto:sysadmins@mozilla.org">sysadmins@mozilla.org</a> that a 
release is pending, so that proper preparations for having bandwidth 
available can be made. This is especially important for our FTP mirror 
network so we can avoid potential conflicts with other projects who share 
the same mirrors.</p>

<h2 id="version-numbers">Update the version numbers</h2>

<p>The version number updates have to be done twice.  When the release
is off the trunk they need to be done before the release, and some need
to be done again after the release (to make things, e.g.,
<code>1.3b+</code> rather than <code>1.3b</code>).  When the release is
off a branch, the version numbers need to be updated on the branch and
on the trunk after the branch.</p>

<ul>
    <li>Mozilla version updates:
        <ul>
            <li>update version in <code>config/milestone.txt</code> and
                <code>xpfe/bootstrap/macbuild/Contents/Info.plist</code>.</li>
            <li><code>localeVersion</code> update, if there are localization
                changes: update <code>config/chrome-versions.sh</code>.  This
                should generally happen for all releases except for 1.x.y dot
                releases.</li>
            <li><em>If significant theme changes have happened that require
                modifications to external themes</em>,
                <code>skinVersion</code> update (all
                <code>contents-region.rdf</code> files - search <a
                href="http://lxr.mozilla.org/seamonkey/">LXR</a> and build's
                <code>chrome/chrome.rdf</code> for <code>skinVersion</code> to
                verify)</li>
            <li>If this is the first release of the new year, bump the
                copyright year in
                <code>xpfe/global/resources/locale/en-US/about.xhtml</code>,
                <code>toolkit/content/about.xhtml</code>,
                <code>browser/locales/en-US/chrome/browser/aboutDialog.dtd</code>,
                <code>mail/locales/en-US/chrome/messenger/aboutDialog.dtd</code>,

                <code>browser/base/content/credits.xhtml</code>,
                <code>mail/locales/en-US/chrome/messenger/credits.html</code>,

                <code>browser/app/nsBrowserApp.cpp</code>,
                <code>xulrunner/examples/simple/simple.xulapp</code>,
                <code>calendar/sunbird/app/nsCalendarApp.cpp</code>,

                <code>xpfe/bootstrap/macbuild/Contents/Info.plist</code>,
                <code>browser/app/macbuild/Contents/Info.plist.in</code>,
                <code>mail/app/macbuild/Contents/Info.plist.in</code>,
                <code>xulrunner/app/macbuild/Contents/Info.plist.in</code>,
                and <code>calendar/sunbird/app/macbuild/Contents/Info.plist.in</code>.
            </li>
        </ul>
    </li>
    <li>Application version updates:
        <ul>
            <li>Browser
                <ul>
                    <li>browser/app/module.ver</li>
                    <li>browser/config/version.txt</li>
                    <li>browser/installer/unix/installer.cfg</li>
                    <li>browser/installer/windows/installer.cfg</li>
                </ul>
            </li>
            <li>Mail
                <ul>
                    <li>mail/app/module.ver</li>
                    <li>mail/config/version.txt</li>
                    <li>mail/installer/windows/installer.cfg</li>
                </ul>
            </li>
        </ul>
    </li>
</ul>

<p>Also, for final releases only, remove the Debug and QA menus, build
number, etc.  (See
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=180823">bug 180823</a>,
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=163246">bug 163246</a>, and
<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=139335">bug 139335</a>.)</p>

<h2 id="release-builds">Make release builds</h2>

<p>When it's time to release, drivers let the build team know that it's
time to tag the release and make the final builds (usually with some
advance warning with some uncertainty).  The build team pulls the tree
and <a href="cvs-tag.html">tags the release</a> (see <a
href="#what_to_tag">above</a> for comments
on tagged files) and makes the necessary builds for the major platforms.
(See the <a href="release-build-notes.html">release build notes</a>.)
Additional builds will be contributed for other platforms and for
specific distributions (i.e., RPMS). Be sure to create a <code>contrib</code> directory
under the main release directory so that these builds have a place to go.</p>

<p>(Often this actually happens in reverse.  That is, a certain set of
nightly builds, which have already been tested (see above, on deciding
when to release) are declared to be the release, and then the
corresponding source is tagged.  If it doesn't happen this way, then the
resulting builds definitely need to be tested before they are declared
to be the release.)</p>

<p>When making the builds, the network installers need to be extracted
and repackaged or rebuilt so that they point to the releases directory
on the FTP site.</p>

<p>Update log analysis scripts to start grabbing download stats for the new release.</p>

<h2 id="announce">Announce the release</h2>

<ul>
    <li>Write the release notes page and <a
    href="../README-cvs.html">check it in</a>.</li>
    <li>Create the <code>blocking<i>[R]</i></code> bug nomination flags
    for the next release and retire the <code>blocking[R]</code> and
    <code>approval[R]</code> sets of flags for the current release
    (possibly after pushing out some of the requests to the next
    release).</li>
    <li>Send the talkback team the identifiers from the master.ini files of 
    the three major platforms.</li>
    <li>Make web page changes, which should land after the builds are on
    all the FTP servers:
    <ul>
        <li>Update the <a href="../news.html"><code>news.html</code></a> with
        an announcement of the release.</li>
        <li>Update <code>VARIABLES</code> with the new version numbers and URLs.</li>
        <li>For Mozilla releases, update <a
        href="../releases/"><code>releases/index.html</code></a> and
        <code>releases/&lt;version&gt;/index.html</code></li>
        <li>For Firefox releases, update
        <code>http://www.mozilla.org/products/firefox/releases/&lt;version&gt;.html</code> and change <code>httpd.conf</code> so that index.html points to it</li>
        <li>For Thunderbird releases, update
        <code>http://www.mozilla.org/products/thunderbird/releases/&lt;version&gt;.html</code> and copy that to <code>index.html</code></li>
        <li>Update <code><a href="../releases/cvstags.html">cvstags.html</a></code> doc
        to include the newest release tag.</li>
        <li>Update the "actual release" field in <a
        href="../roadmap.html">roadmap.html</a>.</li>
    </ul></li>
    <li>(Build team) Update the README for FTP.</li>
    <li>Once the release is on the FTP server, commit the changes
        to the front page and the releases page and restart the website
        script.</li>
    <li>Double-check that all the links are correct and that
        the builds have propagated to all the FTP round-robin
        machines.</li>
    <li>Send the release announcement to n.p.m.announce.</li>
    <li>Submit notes to mozillazine, slashdot and newsforge.</li>    
</ul>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../sitemap.html">Site Map</a></li>
<li><a href="../security/">Security Updates</a></li>
<li><a href="../contact/">Contact Us</a></li>
<li><a href="../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified March 22,  2005</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/build/release-checklist.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
