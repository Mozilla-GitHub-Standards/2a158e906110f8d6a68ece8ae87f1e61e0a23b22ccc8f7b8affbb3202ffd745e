--- binutils-2.9EE/ld/genscripts.sh.xlibpath	Tue Jan 11 03:48:21 2000
+++ binutils-2.9EE/ld/genscripts.sh	Sun Oct  7 13:09:35 2001
@@ -59,6 +59,10 @@
   fi
 fi
 
+if [ "x${CROSS_LIB_PATH}" != "x" ] && [ "x${host}" != "x${target}" ] ; then
+  LIB_PATH=${CROSS_LIB_PATH}
+fi
+ 
 # Always search $(tooldir)/lib, aka /usr/local/TARGET/lib.
 LIB_PATH=${LIB_PATH}:${tool_lib}
 
--- binutils-2.9EE/ld/configure.in.xlibpath	Tue Jan 11 03:48:20 2000
+++ binutils-2.9EE/ld/configure.in	Sun Oct  7 13:09:35 2001
@@ -55,6 +55,7 @@
 AC_SUBST(HOSTING_CRT0)
 AC_SUBST(HOSTING_LIBS)
 AC_SUBST(NATIVE_LIB_DIRS)
+AC_SUBST(CROSS_LIB_PATH)
 
 AC_CHECK_HEADERS(string.h strings.h stdlib.h unistd.h)
 AC_CHECK_FUNCS(sbrk)
--- binutils-2.9EE/ld/Makefile.am.xlibpath	Tue Jan 11 03:48:20 2000
+++ binutils-2.9EE/ld/Makefile.am	Sun Oct  7 13:16:43 2001
@@ -25,10 +25,11 @@
 # Search path to override the default search path for -lfoo libraries.
 # If LIB_PATH is empty, the ones in the script (if any) are left alone.
 # (The default is usually /lib:/usr/lib:/usr/local/lib, unless building
-# a cross-linker, in which case the default is empty.  See genscripts.sh.)
+# a cross-linker, in which case CROSS_LIB_PATH is used.  See genscripts.sh.)
 # Otherwise, they are replaced with the ones given in LIB_PATH,
 # which may have the form: LIB_PATH=/lib:/usr/local/lib
 LIB_PATH =
+CROSS_LIB_PATH = @CROSS_LIB_PATH@
 
 BASEDIR = $(srcdir)/..
 BFDDIR = $(BASEDIR)/bfd
@@ -768,6 +769,8 @@
 	$(srcdir)/../move-if-change tmp-Makefile.am $(srcdir)/Makefile.am
 
 .PHONY: dep dep-in dep-am
+
+.EXPORT_ALL_VARIABLES:
 
 # What appears below is generated by a hacked mkdep using gcc -MM.
 
