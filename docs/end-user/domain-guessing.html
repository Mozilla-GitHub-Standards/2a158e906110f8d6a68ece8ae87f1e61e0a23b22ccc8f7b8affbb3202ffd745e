<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">


<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">

<meta name="DC.author" content="Ben C.">
<meta name="DC.creator" content="Ben C.">
<meta name="DC.title" content="Domain Guessing">
<meta name="DC.subject" content="Domain Guessing">
<meta name="DC.description" content="What is Domain Guessing, how to use it, how it works in Mozilla browsers and its current limitations.">
<meta name="DC.date.created" content="2002-12-18T09:16:03+11:00" scheme="W3CDTF">
<meta name="DC.date.modified" content="2006-07-23T09:54:03+11:00" scheme="W3CDTF">

  <title>Domain Guessing</title>

<link rel="subsection" href="#whatisdomainguessing" title="What is Domain Guessing">
<link rel="subsection" href="#howtouse" title="How to use it">
<link rel="subsection" href="#calleddomainguessing" title="Why is it called Domain Guessing">
<link rel="subsection" href="#limits" title="Limitations">

<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">






<h1>Domain Guessing</h1>

<h2><a name="whatisdomainguessing">What is "Domain Guessing"?</a></h2>

<p>"Domain Guessing" enhances the Navigation toolbar's "Location" field by
guessing other domain names when a user's original request cannot be
found. Let us assume that the user's default domain name is "mcom.com".</p>

<p>If you type "mozilla", and there is no mozilla.mcom.com, the browser
should display:</p>

<div style="margin-left: 40px;">"mozilla could not be found. Please
check the name and try again."</div>

<p>Domain Guessing intercepts the DNS "hostname not found" error, and resends
the request to a guessed hostname that might use the correct domain.
Domain guessing will attempt to add "www." to the front and/or ".com" to
the end of your request, and try again:</p>

<table cellpadding="2" cellspacing="2" border="1">
  <tbody>
    <tr>
      <th>Situation</th>
      <th>Example</th>
      <th>Guess</th>
    </tr>
    <tr>
      <td>single word</td>
      <td>mozilla</td>
      <td>www.mozilla.com</td>
    </tr>
    <tr>
      <td>missing "com" suffix,<br>
if starts with "www."</td>
      <td>www.mozilla</td>
      <td>www.mozilla.com</td>
    </tr>
    <tr>
      <td>missing "www." prefix</td>
      <td>mozilla2.org</td>
      <td>www.news.org</td>
    </tr>
  </tbody>
</table>

<p>Domain Guessing happens only if an actual request has been sent and
fails, so not everything typed in URL bar is affected. (Type: "open
source" and you get a protocol error). If 
<a href="internet-keywords.html">Internet Keywords</a> is on, it has priority 
over Domain Guessing and will intercept the majority of
guessable cases.</p>

<h2><a name="howtouse">How do I use Domain Guessing?</a></h2>

<p>Domain Guessing can be enabled/disabled via Preferences | Navigator | Smart
Browsing | Domain Guessing (Mozilla 1.3 and later, see <a
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=115539">bug 115539</a>).
Domain Guessing is controlled by a several preferences.</p>

<div style="margin-left: 40px;"><span style="font-family: monospace;">browser.fixup.alternate.enabled&nbsp;
- true/false, controlled by Prefs UI</span><br>
<span style="font-family: monospace;">browser.fixup.alternate.prefix&nbsp;&nbsp;
- "www."</span><br>
<span style="font-family: monospace;">browser.fixup.alternate.suffix&nbsp;&nbsp;
- ".com"</span></div>

<p>This feature is currently on by default, but daily builds might ship with the preference off
during test periods.</p>

<p>This feature is on by default in Firefox (see
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=185922">bug 185922</a>) and 
Camino (see 
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=233392">bug 233392</a>).</p>

<h2><a name="calleddomainguessing">Why is it called Domain Guessing and
not "autocomplete", "hostname completion", "domain searching" etc. ?</a></h2>

<p>Similar behavior has been part of both Internet Explorer and Netscape
Communicator for a long time, but there was no simple name for the
behavior. Occasionally described as "commercialization" or
".com"-ification or "cannonicalization", none of these names was good
description.</p>

<p>The main reason several contributors settled on this name is that the
browser is actually guessing that that the new domain name might work.
The guess is two-fold: the browser does know the user means
"www.hostname.com", and the browser does not know that
"www.hostname.com" actually exists in DNS. This is not auto-completion,
because the browser is getting an error for what you typed, and
re-trying with a second guess without asking the user for permission.
Autocompletion would be something like the menu bar offering to turn
what you typed into "www.hostname.com", "www.hostname.net", etc. in the
autocomplete pulldown menu. In other words, autocomplete would complete 
the user input proactively, not the DNS request after an error occurred.
(Firefox does have keyboard-shortcut autocompletion, Mozilla does not).</p>

<p>Hostname completion, domain searching, and similar terms would be too
easily confused with DNS client (resolver) features that have specific
meanings and more sensible behaviors.</p>

<h2><a name="limits">Limitations:</a></h2>

<p>Domain guessing has the obvious convenience of allowing someone to get
to www.*.com sites by typing just the middle word. In that sense, it is
a very fast and dirty form of "URL resolution", converting typed user
input into a displayed page. Another form of URL resolution is 
<a href="internet-keywords.html">Internet Keywords</a>, which asks a remote 
server what page should be displayed.</p>

<p>Domain Guessing has a couple important limitations:</p>

<ol>

  <li>Slowness
  <p>Domain Guessing sends out extra DNS requests without warning. The
status bar will show that it is searching for "www.hostname.com"), but
in most cases, many additional, spurious DNS requests will be sent (see
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=40082">bug 40082</a>).
Even if that behavior is fixed, Domain Guessing is still sending out an
extra DNS request in cases that the user is not expecting.</p>
  </li>

  <li>Inconsistent use
  <p>Domain Guessing affects URLs that have only a hostname
(http://mozilla/index.html) but not fully qualified domain names,
"FQDNs" (http://www.mozilla.org). Domain Guessing occurs in some cases,
and not others, depending on the URL is accessed. Clicking on inline
links in MailNews, Open New Window and Open New Tab seem to trigger
this behavior. Domain Guessing's behavior is also affected by Internet
Keywords, so the behavior in any given situation is hard to predict
(see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=79655">bug 79655</a>).</p>
  </li>

  <li>Incorrect error messages
  <p>If try "hostname", the error message will say that it failed to find
"www.hostname.com", rather than display an error about "hostname". This
can be especially confusing if the borrower's guess was wrong, and you
simply wanted to go to a local system called "hostname" that does not
exist or you misspelled (see <a
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=66183">bug 66183</a>).</p>
  </li>

  <li>Flawed usage of DNS
  <p>DNS was created to provide naming for systems on the Internet, so that
administrators would not have to remember the IP address. In this sense,
DNS is like a phonebook, but the naming system was designed for network
administration, not as a directory for end users. This feature treats
".com" as the 411 for DNS errors.</p>

  <p>Internet hype has come and gone but the phrase "dot com" as stuck. This
feature is a relic of those times, because the top level of the DNS name
space was is ".", not ".com", and as mozilla.org contributors know,
there are more top level domains (<abbr title="Top Level Domains">TLDs</abbr>), 
than just ".com". The irony of this feature Mozilla will send a request for "mozilla" to
"www.mozilla.com", not "www.mozilla.org."</p>

  <p>The number of top level domains is growing, as is the number of sites
in non .com top level domains. If you were to guess what a user mean to
type, the best single choice would be ".com". However, a modern
browser, designed for the current networking environment, needs to
understand the current and future structure of DNS, and give users
better ways of going to ".net", ".org" and country domains.</p>

  <p>Behavior like Domain Guessing has made ".com" the 
<abbr title="Top Level Domain">TLD</abbr> of choice for
anyone concerned about maximizing network traffic, which means that the
namespace is very crowded, and full of trademark conflicts and name
collisions. Since DNS registrations are first-come first serve, the
conflicts can create serious problems. One has to wonder how many U.S.
schoolchildren have been sent to a porn site when they were doing basic
research on the U.S. Federal government and typed "whitehouse" into the
browser.</p>

  <p>For people involved in the configuration and management of DNS (not
just the people that are making money on selling DNS domains), this is a
serious structural problem with DNS, exacerbated by features like this.</p>

  <p>Additionally, your network administrator maybe using a feature called
"negative DNS caching". This makes your surfing experience faster, but
domain guessing has a tendency to fill up the cache with worthless,
nonexistent entries. This wastes sever resources and may have the effect
of slowing down your overall network performance.</p>
  </li>

  <li>Security
  <p>When domain guess changes the hostname, the URL you typed will go to
that server, even if you intended it. If the URL contains valuable
information (project names, ship dates, product titles, descriptive file
names), the destination site will receive the URL. Remember, sites that
you inadvertently access have no obligation to protect the privacy of
your request. If they want to post a list of invalid requests, and the
networks they came from, there is nothing you can do. Gagan summarized
this best in <a
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=40082#c27">bug 40082</a>).
Because of the possibility of various forms of the "Princeton" attack,
transmitting the URL to the wrong site can help an attacker copy
information that is available only on your local network.</p>
  </li>

  <li>Does not work via Proxy Servers
  <p>Proxy connections receive DNS errors differently, and cause URL bar to
give up and not use Internet Keywords (see <a
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=2875">bug 2875</a>).
Domain Guessing also works counterintuitively with "No Proxy"
configurations (see <a
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=190324">bug 190324</a>).</p>
  </li>

</ol>

<p>Suggestions and feedback can be made in <a
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=186032">bug 186032</a>.</p>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified July 23,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/docs/end-user/domain-guessing.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
