<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

  <meta http-equiv="Content-Type"
 content="text/html; charset=ISO-8859-1">
  <title>Mozilla Web Author FAQ</title>
  <link rel="license" href="http://creativecommons.org/licenses/by-sa/2.0/"
        title="Creative Commons Attribution Share-Alike License 2.0">
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<h1>Mozilla Web Author <acronym title="Frequently Asked Questions">FAQ</acronym></h1>
<p>This document answers questions that Web authors ask frequently
specifically in connection with Mozilla and other Gecko-based browsers
such as Firefox. There are links to more
general Web authoring FAQs at the end of this document.</p>
<ol class="toc">
  <li><a href="#layoutmode">What are the Quirks mode and the
Standards mode?</a></li>
  <li><a href="#gaps">Why are there gaps between image rows in
tables when the layout engine is in the Standards mode?</a></li>
  <li><a href="#margins">Why are there still gaps even between text
rows in
tables when the layout engine is in the Standards mode or in the Almost
Standards mode?</a></li>
  <li><a href="#stylenotworking">My style sheet doesn&#8217;t work!
Why?</a></li>
  <li><a href="#dom">JavaScript doesn&#8217;t work! Why?</a></li>
  <li><a href="#alttooltip">Why doesn&#8217;t Mozilla display my <code>alt</code>
tooltips?</a></li>
  <li><a href="#downloadablefonts">Does Mozilla support
downloadable fonts?</a></li>
  <li><a href="#symbol">Why aren&#8217;t symbol/dingbat fonts working?</a></li>
  <li><a href="#intentions">Why isn&#8217;t Mozilla rendering my
page as I intended? So my page isn&#8217;t standards-compliant, but good
browsers should render pages as the author intended anyway!</a></li>
  <li><a href="#accept">According to the <code>Accept</code> header,
Mozilla
prefers
    <code>application/xhtml+xml</code> over <code>text/html</code>.
Should I serve <code>application/xhtml+xml</code> to Mozilla?</a></li>
  <li><a href="#xhtmldiff">How is the treatment of <code>application/xhtml+xml</code>
documents different from the treatment of <code>text/html</code>
documents?</a></li>
  <li><a href="#wheretoask">I didn&#8217;t find the answer I was
looking for. Where should I ask?</a></li>
</ol>
<h2 id="layoutmode">What are the Quirks mode and the
Standards mode?</h2>
<p>Mozilla has two and a half layout modes: <a
 href="http://www.mozilla.org/docs/web-developer/quirks/">Quirks,
Almost Standards and Standards</a>. In the Standards mode Mozilla aims
to treat documents authored in compliance with the <a hreflang="en"
 href="http://www.w3.org/TR/#Recommendations"
 title="W3C Technical Reports and Publications: Recommendations">Recommendations</a>
of the <a hreflang="en" href="http://www.w3.org/"
 title="The World Wide Web Consortium">World Wide Web Consortium</a>
according to the W3C Recommendations. In the Quirks mode&#8212;for the
purpose
of backwards compatibility&#8212;Mozilla mimics some behaviors of legacy
browsers in ways that could cause W3C Recommendation-compliant
documents to be handled against the W3C specifications. The Almost
Standards mode is like the Standards mode except it addresses the issue
of the <a title="Next question" href="#gaps">next question</a> by
rendering table cells with images in the traditional way. The mode is
picked based on the doctype declaration (or the lack thereof) at the
beginning of an HTML document.</p>
<ul>
  <li>
    <p>The easiest way to make sure that the <em>Standards mode</em>
is activated for HTML, is to use this doctype declaration: 
    <code class="long">&lt;!DOCTYPE
HTML PUBLIC "-//W3C//DTD HTML
4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;</code></p>
  </li>
  <li>
    <p>The easiest way to make sure that the <em>Almost Standards mode</em>
is activated for HTML, is to use this doctype declaration: 
    <code class="long">&lt;!DOCTYPE
HTML PUBLIC "-//W3C//DTD HTML 4.01
Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</code></p>
  </li>
</ul>
<p>The former declaration is for documents that don&#8217;t
include any deprecated markup. The latter is for documents that may
include deprecated markup. In either case the document should <a
 hreflang="en" href="http://validator.w3.org/"
 title="W3C HTML Validation Service">validate</a> and be compatible
with the CSS2 layout model.</p>
<p>The easiest way to activate the <em>Quirks mode</em>
for HTML is to omit the doctype declaration. However, authoring new
documents that rely on quirks is discouraged.</p>
<p>The Almost Standards mode was introduced in Mozilla 1.1 beta and
Mozilla 1.0.1. In earlier versions the doctype declarations that now
activate the Almost Standards mode activated the Standards mode.</p>
<p>Doctype sniffing only applies to documents served as <code>text/html</code>.
Documents sent as XML always activate the Standards layout mode. This
includes documents sent as <code>application/xhtml+xml</code>. The
consequence is that XHTML 1.0 Transitional documents are rendered in
the Almost Standards mode when served as <code>text/html</code> under
pretext of the Appendix C but in the Standards Mode when served as <code>application/xhtml+xml</code><em></em>.</p>
<p>
Since also <a href="http://hsivonen.iki.fi/doctype/" hreflang="en"
 title="Activating the Right Layout Mode Using the Doctype Declaration">other
contemporary browsers</a> have a standards mode, activating the
Standards mode or the Almost Standards mode in other browsers as well
(using the above-mentioned exact doctypes) is the best way to get
consistent CSS layout results across different browsers. On the other
hand, the quirks implemented in the quirks modes of different browsers
vary from browser to browser.</p>
<h2 id="gaps">Why are there gaps between image rows in
tables when the layout engine is in the Standards mode?</h2>
<p>In the CSS2 box layout model the default <a hreflang="en"
 title="CSS2: 10 Visual formatting model details: 10.6.1 Inline, non-replaced elements"
 href="http://www.w3.org/TR/REC-CSS2/visudet.html#q15">vertical sizing</a>
of layout boxes and the default <a hreflang="en"
 href="http://www.w3.org/TR/REC-CSS2/visudet.html#propdef-vertical-align"
 title="CSS2: 10 Visual formatting model details: vertical-align">vertical
alignment</a> of images is different from the behavior of old browsers.
These aspects of the layout can be changed by explicitly setting the <code>display</code>
CSS property of the images (and
possible surrounding <code>&lt;a&gt;</code>
elements) to <code>block</code>.</p>
<p>If the table cells that contain only an image are marked with <code>&lt;td
class="imgcell"&gt;</code>, the required CSS
rule is: <code>.imgcell img, .imgcell a { display:
block; }</code></p>
<p><a hreflang="en" title="Images, Tables, and Mysterious Gaps"
 href="http://developer.mozilla.org/en/docs/Images%2C_Tables%2C_and_Mysterious_Gaps">Longer
explanation&#8230;</a></p>
<h2 id="margins">Why are there still gaps even between text rows in
tables when the layout engine is in the Standards mode or in the Almost
Standards mode?</h2>
<p>In the Standards mode and in the Almost Standards mode Mozilla does
not suppress the default margins of the first and last child element in
table cells. Therefore, the default margins for paragraphs apply even
with markup such as <code>&lt;td&gt;&lt;p&gt;foo&lt;/p&gt;&lt;/td&gt;</code>.</p>
<p>Often the content of a cell in a table of tabular data does not
constitute a paragraph. In that case, the easy solution is not to mark
the contents of the cell as a paragraph.</p>
<p>When the paragraph markup is called for but the default margins are
unwanted, zero margins can be suggested using CSS.
</p>
<h2 id="stylenotworking">My style sheet doesn&#8217;t work!
Why?</h2>
<p>Here&#8217;s the check list:</p>
<ul>
  <li>Does the HTML document <a hreflang="en"
 href="http://validator.w3.org/" title="W3C HTML Validation Service">validate</a>?
Styling misnested markup may cause strange effects.
    <ul>
      <li>The <code>&lt;link&gt;</code> and <code>&lt;style&gt;</code>
elements should be inside the <code>&lt;head&gt;</code> element. </li>
    </ul>
  </li>
  <li>Does the CSS style sheet pass the <a hreflang="en"
 href="http://jigsaw.w3.org/css-validator/"
 title="W3C CSS Validation Service">syntax check</a>? The <a
 href="http://www.w3.org/TR/CSS21/syndata.html#parsing-errors">CSS
error handling rules</a> require erroneous parts to be ignored rather
than fixed by guessing.
    <ul>
      <li>Lengths other than zero should be followed by a proper unit
without a space between the number and the unit (eg. <code>1.2em</code>).
      </li>
      <li>The character to use between the property name and the value
is the colon&#8212;not the equal sign. </li>
      <li>HTML markup, such as <code>&lt;style&gt;</code>,
does not belong in .css files. </li>
      <li><code>font-face</code> is not a real CSS
property. The property is <code>font-family</code> and <code>@font-face</code>
is an at-rule. </li>
      <li>If <code>@import</code> is used, it should
be the first thing in a CSS file.</li>
      <li>In Mozilla 1.8a4 and later (not in Firefox 1.0) CSS parsing
errors are reported to the JavaScript console. </li>
    </ul>
  </li>
  <li>Is the server sending the proper <code>Content-Type</code> header for 
  CSS style sheets?
     <ul>
        <li>The correct type is <code>text/css</code>.</li>
        <li>In <a href="#layoutmode">the Standards mode and the Almost 
        Standards mode</a> only style sheets with the correct type are 
        applied.</li>
        <li>You can see the HTTP headers sent by the server by using the 
        <a href="http://livehttpheaders.mozdev.org/">LiveHTTPHeaders</a> 
        extension or by using the <a href="http://web-sniffer.net/">Web 
        sniffer</a>.</li>
     </ul>
  </li>
  <li>Class names and ids are case-sensitive. </li>
  <li>The element selectors are case-sensitive with XML. </li>
  <li>Style sheet processing instructions are only allowed in the
prolog of XML documents. Also, they only work in XML documents&#8212;not in
documents served as <code>text/html</code>. </li>
  <li><code>width</code> and <code>height</code>
do not apply to non-replaced inline elements such as (by default) <code>&lt;span&gt;</code>.</li>
  <li><code>text-align: center;</code> centers inline
content within a block. It does not (and should not) center the block
box itself. A block is centered by setting its <code>margin-left</code>
and <code>margin-right</code> to <code>auto</code>
and its <code>width</code> to a value that makes the
block narrower than its containing block.</li>
</ul>
<p>It is also possible, although not very likely, that
you are seeing a bug. </p>
<h2 id="dom">JavaScript doesn&#8217;t work! Why?</h2>
<p>Some proprietary document objects such as <code class="script">document.all</code>
and <code class="script">document.layers</code>
are not part of the W3C DOM and are not supported in Mozilla. (There is
partial undetectable support for <code>document.all</code>, though, in
newer versions of Mozilla. However, that functionality only exists for
compatibility with sites authored specifically for IE. You should not
rely on Mozilla&#8217;s <code>document.all</code> support on new pages.) The
method <code class="script">document.getElementById()</code> <a
 title="Using Web Standards in Your Web Pages: Using the DOM"
 hreflang="en"
 href="http://developer.mozilla.org/en/docs/Using_Web_Standards_in_your_Web_Pages#Accessing_Elements_with_the_W3C_DOM">can
be used instead</a>.</p>
<p>In the Standards mode Mozilla does not generate implicit top-level
JavaScript variable bindings for elements with the <code>id</code> or <code>name</code>
attribute. The correct way to access an element by id is to call the <code>document.getElementById()</code>
method with the id as a string as the argument.
</p>
<p>Also, old client sniffers can shut out new browsers.
The point of having a common API (the W3C DOM) is interoperability, and
checking for a particular browser defeats that purpose. When working
with the DOM, it is better to check for the existence of the methods
and objects you are planning on using. For example, the existence of <code
 class="script">document.getElementById()</code> can be checked as
follows:</p>
<p><code class="long">if(document.getElementById) {<br>
&nbsp;&nbsp;/* code that uses document.getElementById() */<br>
}</code></p>
<h2 id="alttooltip">Why doesn&#8217;t Mozilla display my <code>alt</code>
tooltips?</h2>
<p>Contrary to a popular belief stemming from the
behavior of a couple browsers running on the Windows platform, <code>alt</code>
isn&#8217;t an abbreviation for &#8216;tooltip&#8217; but for &#8216;<em>alt</em>ernative&#8217;. The
value of the <code>alt</code> attribute is a textual <em>replacement</em>
for the image and is displayed when the image isn&#8217;t.</p>
<p>Mozilla doesn&#8217;t display the <code>alt</code>
attribute as a tooltip, because it has been observed that doing so
encourages authors to misuse the attribute.</p>
<ul>
  <li>When the alternative text is shown in a tooltip, some authors
write bad <code>alt</code>
texts, because they intend the text as auxiliary tooltip text and not
as
a replacement for the image. (&#8216;Bad&#8217; in the sense that the textual
alternative is less useful for people who don&#8217;t see the image.)</li>
  <li>When the alternative text is shown in a tooltip, other authors
don&#8217;t want to supply textual alternatives at all, because they <em>don&#8217;t
want</em> tooltips to appear. (Again, making things harder for people
who don&#8217;t see the image.)</li>
</ul>
<p>There is <em>another</em> attribute that Mozilla
shows as a tooltip: <code>title</code>. In fact, the HTML 4.01
specification suggests that the <code>title</code>
attribute may be displayed as a tooltip. However, this particular
display method is not required and some other browsers show the <code>title</code>
attribute in the browser status bar, for example.</p>
<p>At this point some people feel compelled to post a
&#8220;But IE&#8230;&#8221; rant in the newsgroups or in Bugzilla. Please note that Mac
IE 5 behaves in the same way as Mozilla when it comes to the <code>alt</code>
and <code>title</code> attributes. Windows IE also shows the <code>title</code>
attribute in a tooltip.</p>
<h2 id="downloadablefonts">Does Mozilla support
downloadable fonts?</h2>
<p>Downloadable fonts are not supported.</p>
<p>Downloadable fonts are usually used on sites using
writing systems for which proper support has been missing in browsers
in the past. These sites (for example some Indian sites) code the text
in Latin gibberish and then use a font that to the browser and
operating system seems to be a Latin font but has eg. Devanagari
glyphs, so that when the Latin gibberish is rendered with the font it
seems to a human reader to be intelligible text in some language. </p>
<p>Obviously, that kind of ad hockery falls apart when
Unicode-savvy browsers come along and render Latin gibberish as Latin
gibberish (since that&#8217;s what is coded in the file from the Unicode
point of view). Instead of providing support for downloadable fonts,
Mozilla is addressing the real issue: support for various Unicode
ranges.</p>
<p>However, there are still bugs related to support for
Indic scripts on some platforms. For example, on Mac OS X Mozilla does
not use the Devanagari font that comes with the system but can use a
third-party font like TITUS Cyberbit.</p>
<p>A <em>lot</em> of work has been put into Mozilla&#8217;s
Unicode support. Supporting downloadable fonts in a cross-platform way
would also be a <em>lot</em>
of work and would potentially require navigating past a bunch of
patents
but the rewards would be small. For the purpose of rendering
non-ISO-8859-1 characters Mozilla already provides Unicode support
that, in the long run, is a lot better approach than using pseudo-Latin
downloadable fonts separately on each site.</p>
<h2 id="symbol">Why aren&#8217;t symbol/dingbat fonts working?</h2>
<p>They are working. Characters in HTML 4 and XML
documents are Unicode characters (even if the document has been encoded
using a legacy encoding for transfer)&#8212;not font glyph indexes. </p>
<p><code>&lt;font face="Symbol"&gt;a&lt;/font&gt;</code>
means the character LATIN SMALL LETTER A (U+0061) preferably displayed
using the Symbol font. Since the Symbol font does not have glyph for
that character, another font is used. If you mean &#945;, you should use
GREEK SMALL LETTER ALPHA (U+03B1). If you are using a legacy encoding
that cannot represent that character, you can use a numeric character
reference: <code>&amp;#945;</code>.</p>
<p>Likewise, to use a dingbat, you should use the
appropriate Unicode character instead of trying to apply a dingbat font
to an ASCII character. For example, to represent &#9786;, you should use
WHITE SMILING FACE (U+263A). </p>
<h2 id="intentions">Why isn&#8217;t Mozilla rendering my
page as I intended? So my page isn&#8217;t standards-compliant, but good
browsers should render pages as the author intended anyway!</h2>
<p>Authors are supposed to communicate their intentions
using the Web standards. Otherwise, finding out the intentions of each
particular author would require psychic abilities which can&#8217;t be
implemented in software. Even in cases where a human could deduce the
intention, doing so in software would be very slow, bug-inducing,
difficult and complicated.</p>
<p>The usual counter argument is that there is no need
to guess&#8212;Mozilla should do whatever browser <var>x</var> does (where <var>x</var>
is the favorite non-Mozilla browser of whoever is presenting the
counter argument). However, doing whatever browser <var>x</var> does
in every conceivable case isn&#8217;t simple at all, even though it might
appear to be simple when presented as a passing remark.</p>
<p>Different people have different ideas about what <var>x</var>
should be. The second problem is that Web authors are very creative in
coming up with different ways of deviating from the standards. In fact,
since the input to the browser can be of arbitrary length, there is no
upper bound for the number of distinct ways of deviating from the
standards. Therefore, it is impossible to test whether Mozilla reacts
exactly like browser <var>x</var> to every possible input. (Likewise,
there is no upper bound for the number of ways different features of
the standards themselves can be combined, which makes software quality
assurance challenging.)</p>
<p>Also, the ways in which browser <var>x</var> reacts
to some standards-incompliant input are not all intentional. Some of
the reactions are due to unknown and unintentional interactions within
a complex program. Even if you had the source code for browser <var>x</var>,
you couldn&#8217;t change <em>anything</em> without risking changing one or
more of the unknown and unintentional interactions within the program.</p>
<p>The usual counter argument is that Mozilla doesn&#8217;t
need to match the behavior of browser <var>x</var> in every possible
case but only in the alleged <em>common</em> cases. However, it turns
out Mozilla is doing that already. Mozilla&#8217;s Standards mode is,
obviously, already compatible with other browsers that implement the
same standards reasonably correctly. On the other hand, Mozilla&#8217;s
quirks mode already accommodates common non-standardisms that are due
to the behaviors of common legacy browsers.</p>
<p>Instead of putting time and effort into
reverse-engineering and cloning legacy browsers, it makes more sense to
focus on implementing standards. Standards (when implemented by others
as well) promote interoperability better than cloning legacy software
bug by bug.</p>
<p>Also, HTML was designed to adapt to different
presentation media, so different presentations of the same document are
to be expected. </p>
<h2 id="accept">According to the <code>Accept</code> header, Mozilla
prefers
<code>application/xhtml+xml</code> over <code>text/html</code>.
Should I serve <code>application/xhtml+xml</code> to Mozilla?</h2>
<p>The preference for <code>application/xhtml+xml</code> was added to
the <code>Accept</code> header in order to enable the serving of
MathML to both Mozilla and IE with Apache without scripting back when
the MathPlayer plug-in for IE did not handle <code>application/xhtml+xml</code>.</p>
<p>If your document mixes MathML with XHTML, you should use
<code>application/xhtml+xml</code>. </p>
<p>If you&#8217;re developing XHTML Basic content for mobile devices and
are serving it as <code>application/xhtml+xml</code>, you can serve
it as <code>application/xhtml+xml</code> to Mozilla as well without
taking special steps (except perhaps providing a different style
sheet for the <code>handheld</code> and <code>screen</code> media).</p>
<p>However, if you are using the usual HTML features (no MathML) and
are serving your content as <code>text/html</code> to other browsers,
there is no need to serve <code>application/xhtml+xml</code> to
Mozilla. In fact, in versions prior to Gecko 1.9/Firefox 3, doing so would
deprive the Mozilla users of
incremental display, because incremental loading of XML documents has
not been implemented in those versions. Serving valid HTML 4.01 as <code>text/html</code>
ensures the widest browser and search engine support.</p>
<p>There is a fad of serving <code>text/html</code> to IE but serving
the same markup with no added value as <code>application/xhtml+xml</code>
to Mozilla. This is usually done without a mechanism that would
ensure the well-formedness of the served documents. Mechanisms that
ensure well-formed output include serializing from a document tree
object model (eg. DOM) and XSLT transformations that do not disable
output escaping. When XHTML output has been retrofitted to a content
management system that was not designed for XML from the ground up,
the system usually ends up discriminating Mozilla users by serving
tag soup labeled as XML to Mozilla (leading to a parse error) and
serving the same soup labeled as tag soup to IE (not leading to a
parse error).</p>
<h2 id="xhtmldiff">How is the treatment of <code>application/xhtml+xml</code>
documents different from the treatment of <code>text/html</code>
documents?</h2>
<ul>
  <li>An XML parser (expat) is used instead of the tag soup parser.
    <ul>
      <li>Most well-formedness constraints are enforced. (Currently
Mozilla does not catch character encoding errors, because the document
is re-encoded using a lenient encoding converter before the document
reaches the XML parser. This is a bug.) Despite common allegations to
the contrary, the document is <em>not</em> checked for validity. </li>
      <li>Externally defined character entities other than the five pre-defined ones (<code>&amp;lt;</code>,
        <code>&amp;gt;</code>, <code>&amp;amp;</code>, <code>&amp;quot;</code>
and <code>&amp;apos;</code>) are only supported if the document
references a public identifier for which there is a mapping in
Mozilla&#8217;s pseudo-DTD catalog and the document has not been declared
standalone. </li>
      <li>In older versions of Mozilla as well as in old Mozilla-based
products, there is no pseudo-DTD catalog and the use of externally defined character entities (other
than the five pre-defined ones) leads to an XML parsing error. There
are also other XHTML user agents that do not support externally defined character entities (other
than the five pre-defined ones). Since non-validating XML processors
are not required to support externally defined character entities (other than the five pre-defined
ones), the use of externally defined character entities (other than the five pre-defined ones) is
inherently unsafe in XML documents intended for the Web. The best
practice is to use straight UTF-8 instead of entities. (Numeric
character references are safe, too.) </li>
      <li><code>document.write()</code> is not supported. The stream
that is going into the parser can&#8217;t be tampered with in mid-parse. </li>
      <li>Things that look like XML comments are treated as XML
comments&#8212;even inside <code>script</code> or <code>style</code>
elements. </li>
      <li>Elements need to be in the XHTML namespace in order to be
treated as XHTML elements. </li>
      <li><code>meta</code> tags are not examined for character
encoding information. </li>
      <li><code>tbody</code>, <code>head</code>, <code>body</code>,
and <code>html</code> are not inferred if the tags are not explicitly
present. </li>
      <li>CDATA sections are supported. </li>
      <li>XML empty element notation (<code>&lt;foo/&gt;</code>) is
supported. </li>
      <li>White space characters in attribute values are 
      <a href="http://www.w3.org/TR/REC-xml/#AVNormalize">normalized</a> to 
      spaces at parse time, so the original white space never makes it 
      to the DOM. This affects data round tripping using hidden form 
      <code>input</code>s.</li>
    </ul>
  </li>
  <li>In versions prior to Gecko 1.9/Firefox 3, the document is not
loaded and rendered incrementally. That is,
the document is displayed only after the entire document has been
received and parsed. Contrary to a common misguided assertion, this is
not done in response to a requirement set forth in any W3C
specification. In particular, the XML specification does <em>not</em>
require the entire document to be checked for errors before rendering
can start. The lack of incremental loading and display is simply a bug
(or a missing feature). This has been fixed in Gecko 1.9/Firefox 3. </li>
  <li>The layout mode is the (Full) Standards Mode regardless of
doctype. </li>
  <li>CSS works according to the XML+CSS rules.
    <ul>
      <li>HTML-specific CSS exceptions do not apply. For example, the <code>body</code>
element gets no special treatment. </li>
      <li>CSS selectors are case-sensitive. </li>
    </ul>
  </li>
  <li>The DOM is in the XML mode.
    <ul>
      <li>Namespace-aware variants of methods need to be used when
working with elements (eg. <code>createElementNS()</code> instead of <code>createElement()</code>).
      </li>
      <li>In older versions of Mozilla, the <code>document</code>
object does not implement the <code>HTMLDocument</code> interface. </li>
      <li>Element and attribute names are not normalized to upper case.
      </li>
      <li>In older versions (including Firefox 1.0), content cannot be added using <code>innerHTML</code>. </li>
    </ul>
  </li>
  <li> Other namespaces are supported.
    <ul>
      <li>MathML </li>
      <li>Simple XLink </li>
      <li>SVG (in SVG-enabled builds only) </li>
      <li>XUL (Please note that XUL is Mozilla-specific and,
therefore, using it on the public Web causes interoperabilty problems.)
      </li>
    </ul>
  </li>
  <li><code>xml:base</code> is observed when following links. </li>
  <li>Style sheets can be references using processing instructions.</li>
</ul>
<h2 id="wheretoask">I didn&#8217;t find the answer I was
looking for. Where should I ask?</h2>
<p>Try asking in the newsgroup relevant to your question
in the comp.infosystems.www.authoring.* hierarchy or, if your question
is about JavaScript/ECMAScript or the DOM, in comp.lang.javascript
(after reading the group FAQs first, of course). Please do not ask Web
authoring questions in the newsgroups intended for discussion about the
development of Mozilla.</p>
<ul>
  <li><a href="http://www.htmlhelp.com/faq/html/">comp.infosystems.www.authoring.html
Web Authoring FAQ</a></li>
  <li><a href="http://css.nu/faq/ciwas-mFAQ.html">comp.infosystems.www.authoring.stylesheets
FAQ</a></li>
  <li><a href="http://css.nu/faq/ciwas-aFAQ.html">ciwas stylesheet
authoring FAQ</a></li>
  <li><a href="http://www.jibbering.com/faq/">comp.lang.javascript FAQ</a></li>
</ul>
<hr>
<address>Copyright Henri Sivonen. Written by <a href="mailto:hsivonen@iki.fi">Henri Sivonen</a>
(Please, no authoring questions to this address.)</address>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified May 12,  2007</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/docs/web-developer/faq.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
