<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>Test Suite for Form Validation Code Sample: Getting Nested Layers</TITLE>


<STYLE TYPE="text/css">
<!-- #poscell {  position: relative; width: 100%; height: 40px; background-image: url(images/grenlite.gif); color: fuchsia; } -->
<!-- #poscell {  position: relative; width: 100%; height: 40px; color: fuchsia; } -->
<!-- #poscell {  position: relative; width: 100%; height: 40px; color: fuchsia; background-image: url(images/grenlite.gif); } -->
#poscell {  position: relative; width: 100%; height: 1em; } 
</STYLE>
     <!-- DO NOT DELETE: this empty style sheet element becomes the
          style sheet to which CSS1 rules are added in IE4+. -->
     <STYLE ID="ietssxyz" TYPE="text/css"> </STYLE>
     <!-- This external script defines cross-browser functions for
          accessing CSS1 and CSSP properties. -->
     <SCRIPT LANGUAGE="JavaScript1.2" SRC=xbdhtml.js> </SCRIPT>
     <!-- Make your function calls to define CSS1 rules in this
          SCRIPT, now that the target style sheet has been created
          in IE4+ and the functions have been loaded. -->
     <SCRIPT LANGUAGE="JavaScript1.2"><!--

var debugMode = false;

function dumpIE4Elt (elt, eltName, theWin)
{ if (is.ie4up) {
    theWin.document.write ("<TR><TD COLSPAN=3><BR><BR>dumping state of IE4 element properties ...<BR>-------------------------------------------</TD><TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".style.left</TD><TD>" + elt.style.left + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".style.pixelLeft</TD><TD>" + elt.style.pixelLeft + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".posLeft</TD><TD>" + elt.posLeft + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".offsetLeft</TD><TD>" + elt.offsetLeft + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".clientLeft</TD><TD>" + elt.clientLeft + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".style.top</TD><TD>" + elt.style.top + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".style.pixelTop</TD><TD>" + elt.style.pixelTop + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".posTop</TD><TD>" + elt.posTop + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".offsetTop</TD><TD>" + elt.offsetTop + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".clientTop</TD><TD>" + elt.clientTop + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD>" + eltName + ".style.clip</TD><TD>" + elt.style.clip + "</TD><TD></TD></TR>");
    theWin.document.write ("<TR><TD COLSPAN=3>-------------------------------------------<BR><BR></TD><TR>");
  }
}


var showIE4EltStates = false


function checkAfterLoad ()
{   var newWin = window.open ("", "newWin", "menubar=yes,outerHeight=300,outerWidth=300,resizable=yes,scrollbars=yes");
    newWin.document.write ("<HTML><HEAD><TITLE>Test Results</TITLE></HEAD><BODY><TABLE>");
    var posElt = getElt ("poscell");
    newWin.document.write ("<TR><TD>getElt('poscell')</TD><TD>" + (posElt != null) + "</TD><TD>" + posElt + "</TD></TR>");

if (debugMode) alert ("got element");
if (debugMode) {
    alert (getEltBackgroundImage (posElt));
}

    newWin.document.write ("<TR><TD COLSPAN=3><B>setEltBackgroundImage</B></TD></TR>");
    setEltBackgroundImage (posElt, "images/grenlite.gif");

if (debugMode) alert ("set background image");

    newWin.document.write ("<TR><TD><B>getEltBackgroundImage</B></TD><TD></TD><TD></TD></TR>");
    newWin.document.write ("<TR><TD>getEltBackgroundImage (posElt)</TD><TD>" + (getEltBackgroundImage(posElt).indexOf("grenlite.gif") != -1) + "</TD><TD>" + getEltBackgroundImage (posElt) + "</TD></TR>");


    alert ("First we set it to a green tile, then we change it to red ...");
    setEltBackgroundImage (posElt, "images/redpole.gif");
    newWin.document.write ("<TR><TD>getEltBackgroundImage (posElt)</TD><TD>" + (getEltBackgroundImage(posElt).indexOf("redpole.gif") != -1) + "</TD><TD>" + getEltBackgroundImage (posElt) + "</TD></TR>");

    newWin.document.write ("</TABLE></BODY></HTML>");
    newWin.document.close();
    newWin.focus();
}

//--></SCRIPT>

</HEAD>
<BODY BGCOLOR="#ffffff" onLoad="checkAfterLoad()">
<!-- 
a place to stick onLoad when I want to disable it for testing  -->
<CENTER>
<H2>
<FONT SIZE=+3>T</FONT>EST 
FOR
<FONT SIZE=+3>C</FONT>ROSS 
<FONT SIZE=+3>B</FONT>ROWSER 
<FONT SIZE=+3>DHTML</FONT>
<FONT SIZE=+3>P</FONT>OSITIONING 
<FONT SIZE=+3>API</FONT>
</H2>
</CENTER>

<P>If this test succeeds, the element's background image will be set to a repeating red tile. </P>


<!-- <P ID="poscell"><IMG SRC="spacer.gif" WIDTH=100% HEIGHT=40></P>-->

  
<!-- <P ID="poscell"></P> -->

<!-- <P ID="poscell">&nbsp;</P> -->


<SCRIPT LANGUAGE="JavaScript1.2"><!--
if (is.nav4up) document.write ("<P ID='poscell'></P>");
if (is.ie4up)  document.write ("<P ID='poscell'>&nbsp;</P>");
//--></SCRIPT>

<!-- <P ID="poscell"><IMG SRC="images/redpole.gif" WIDTH=1 HEIGHT=1></P> -->

</BODY>
</HTML>
