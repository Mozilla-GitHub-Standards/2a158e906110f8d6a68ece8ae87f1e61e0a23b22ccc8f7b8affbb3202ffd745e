{\rtf1\mac\ansicpg10000\uc1\deff0\deflang2057\deflangfe2057{\fonttbl{\f0\froman\fcharset256\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f3\ftech\fcharset2\fprq2 Symbol;}{\f4\fnil\fcharset256\fprq2 Helvetica;}{\f5\fmodern\fcharset256\fprq2 Courier New;}{\f6\fnil\fcharset256\fprq2 Palatino;}{\f7\fscript\fcharset256\fprq2 Zapf Chancery;}{\f8\ftech\fcharset2\fprq2 Zapf Dingbats;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\widctlpar\fs20\lang1033\snext0 Normal;}{\s1\qj\sa120\widctlpar\fs20\lang1033\sbasedon0\snext1 Body Text;}{\s2\nowidctlpar\tqr\tx8640\fs20\lang1033\sbasedon0\snext2 header;}{\s3\nowidctlpar\tqc\tx4320\fs20\lang1033\sbasedon0\snext3 footer;}{\s4\sa60\keep\keepn\nowidctlpar\hyphpar0\level3\b\fs24\lang1033\sbasedon5\snext1 heading 3;}{\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033\sbasedon0\snext1 heading 4;}{\s10\nowidctlpar\hyphpar0\fs20\lang1024\sbasedon0\snext10 Grammar;}{\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033\sbasedon0\snext12 Grammar Header;}{\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024\sbasedon10\snext14 Grammar LHS;}{\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024\sbasedon10\snext12 Grammar LHS Last;}{\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\sbasedon10\snext14 Grammar RHS;}{\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024\sbasedon14\snext12 Grammar RHS Last;}{\s16\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024\sbasedon10\snext12 Grammar Argument;}{\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024\sbasedon0\snext20 Semantics;}{\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024\sbasedon20\snext21 Semantics Next;}{\*\cs30\additive Default Paragraph Font;}{\*\cs31\additive\sbasedon30 page number;}{\*\cs32\b\f5\cf2\lang1024\additive\sbasedon30 Character Literal;}{\*\cs33\b0\f0\cf9\additive\sbasedon30 Character Literal Control;}{\*\cs34\b\f6\cf10\lang1024\additive\sbasedon30 Terminal;}{\*\cs35\b\f5\cf2\lang1024\additive\sbasedon34 Terminal Keyword;}{\*\cs36\i\f6\cf13\lang1024\additive\sbasedon30 Nonterminal;}{\*\cs37\i0\additive\sbasedon30 Nonterminal Attribute;}{\*\cs38\additive\sbasedon30 Nonterminal Argument;}{\*\cs40\b\f0\additive\sbasedon30 Semantic Keyword;}{\*\cs41\f0\cf6\lang1024\additive\sbasedon30 Type Expression;}{\*\cs42\scaps\f0\cf6\lang1024\additive\sbasedon41 Type Name;}{\*\cs43\f4\cf6\lang1024\additive\sbasedon41 Field Name;}{\*\cs44\i\f0\cf11\lang1024\additive\sbasedon30 Global Variable;}{\*\cs45\i\f0\cf4\lang1024\additive\sbasedon30 Local Variable;}{\*\cs46\f7\cf12\lang1024\additive\sbasedon30 Action Name;}}{\info{\title Regular Expression Semantics}{\author Waldemar Horwat}{\operator Waldemar Horwat}{\creatim\yr1999\mo10\dy19\hr17\min19\sec58}{\revtim\yr1999\mo10\dy19\hr17\min19\sec58}{\edmins0}{\*\company Netscape}}\widowctrl\ftnbj\aenddoc\fet0\formshade\viewkind4\viewscale125\pgbrdrhead\pgbrdrfoot\sectd{\header\pard\plain\s2\nowidctlpar\tqr\tx8640\fs20\lang1033 Regular Expression Semantics\tab Tuesday, October 19, 1999}{\footer\pard\plain\s3\nowidctlpar\tqc\tx4320\fs20\lang1033\tab{\field{\*\fldinst{\cs31  PAGE }}{\fldrslt{\cs31\lang1024 1}}}}\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 SemanticException} = {\cs41\f0\cf6\lang1024{\cs40\b\f0 oneof} \{{\cs43\f4\cf6\lang1024 syntaxError}\}}\par\pard\plain\s4\sa60\keep\keepn\nowidctlpar\hyphpar0\level3\b\fs24\lang1033 Unicode Character Classes\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 UnicodeCharacter} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\lang1033 Any Unicode character}\par{\cs36\i\f6\cf13\lang1024 UnicodeAlphanumeric} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\lang1033 Any Unicode alphabetic or decimal digit character (includes ASCII {\cs32\b\f5\cf2\lang1024 0}\_{\cs32\b\f5\cf2\lang1024 9}, {\cs32\b\f5\cf2\lang1024 A}\_{\cs32\b\f5\cf2\lang1024 Z}, and {\cs32\b\f5\cf2\lang1024 a}\_{\cs32\b\f5\cf2\lang1024 z})}\par{\cs36\i\f6\cf13\lang1024 LineTerminator} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7LF\u187\'C8} | {\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7CR\u187\'C8} | {\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7u2028\u187\'C8} | {\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7u2029\u187\'C8}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs44\i\f0\cf11\lang1024 lineTerminators} : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}} = \{\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7LF\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7CR\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7u2028\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7u2029\u187\'C8}\rquote\}\par{\cs44\i\f0\cf11\lang1024 reWhitespaces} : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}} = \{\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7FF\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7LF\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7CR\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7TAB\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7VT\u187\'C8}\rquote, \lquote{\cs32\b\f5\cf2\lang1024  }\rquote\}\par{\cs44\i\f0\cf11\lang1024 reDigits} : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}} = \{\lquote{\cs32\b\f5\cf2\lang1024 0}\rquote  ... \lquote{\cs32\b\f5\cf2\lang1024 9}\rquote\}\par{\cs44\i\f0\cf11\lang1024 reWordCharacters} : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}} = \{\lquote{\cs32\b\f5\cf2\lang1024 0}\rquote  ... \lquote{\cs32\b\f5\cf2\lang1024 9}\rquote, \lquote{\cs32\b\f5\cf2\lang1024 A}\rquote  ... \lquote{\cs32\b\f5\cf2\lang1024 Z}\rquote, \lquote{\cs32\b\f5\cf2\lang1024 a}\rquote  ... \lquote{\cs32\b\f5\cf2\lang1024 z}\rquote, \lquote{\cs32\b\f5\cf2\lang1024_}\rquote\}\par\pard\plain\s4\sa60\keep\keepn\nowidctlpar\hyphpar0\level3\b\fs24\lang1033 Regular Expression Definitions\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 REInput} = {\cs41\f0\cf6\lang1024{\cs40\b\f0 tuple} \{{\cs43\f4\cf6\lang1024 str}: {\cs42\scaps\f0\cf6\lang1024 String}; {\cs43\f4\cf6\lang1024 ignoreCase}: {\cs42\scaps\f0\cf6\lang1024 Boolean}; {\cs43\f4\cf6\lang1024 multiline}: {\cs42\scaps\f0\cf6\lang1024 Boolean}\}}\par\pard\plain\s1\qj\sa120\widctlpar\fs20\lang1033 Field {\cs43\f4\cf6\lang1024 str} is the input string. {\cs43\f4\cf6\lang1024 ignoreCase} and {\cs43\f4\cf6\lang1024 multiline} are the corresponding regular expression flags.\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 REResult} = {\cs41\f0\cf6\lang1024{\cs40\b\f0 oneof} \{{\cs43\f4\cf6\lang1024 success}: {\cs42\scaps\f0\cf6\lang1024 REMatch}; {\cs43\f4\cf6\lang1024 failure}\}}\par{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 REMatch} = {\cs41\f0\cf6\lang1024{\cs40\b\f0 tuple} \{{\cs43\f4\cf6\lang1024 endIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer}; {\cs43\f4\cf6\lang1024 captures}: {\cs42\scaps\f0\cf6\lang1024 Capture}[]\}}\par\pard\plain\s1\qj\sa120\widctlpar\fs20\lang1033 A {\cs42\scaps\f0\cf6\lang1024 REMatch} holds an intermediate state during the pattern-matching process. {\cs43\f4\cf6\lang1024 endIndex} is the index of the next input character to be matched by the next component in a regular expression pattern. If we are at the end of the pattern, {\cs43\f4\cf6\lang1024 endIndex} is one plus the index of the last matched input character. {\cs43\f4\cf6\lang1024 captures} is a zero-based array of the strings captured so far by capturing parentheses.\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 Capture} = {\cs41\f0\cf6\lang1024{\cs40\b\f0 oneof} \{{\cs43\f4\cf6\lang1024 present}: {\cs42\scaps\f0\cf6\lang1024 String}; {\cs43\f4\cf6\lang1024 absent}\}}\par{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 Continuation} = {\cs41\f0\cf6\lang1024{\cs42\scaps\f0\cf6\lang1024 REMatch} {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \cs42\scaps\f0\cf6\lang1024 REResult}\par\pard\plain\s1\qj\sa120\widctlpar\fs20\lang1033 A {\cs42\scaps\f0\cf6\lang1024 Continuation} is a function that attempts to match the remaining portion of the pattern against the input string, starting at the intermediate state given by its {\cs42\scaps\f0\cf6\lang1024 REMatch} argument. If a match is possible, it returns a {\cs43\f4\cf6\lang1024 success} result that contains the final {\cs42\scaps\f0\cf6\lang1024 REMatch} state; if no match is possible, it returns a {\cs43\f4\cf6\lang1024 failure} result.\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs41\f0\cf6\lang1024{\cs42\scaps\f0\cf6\lang1024 REInput} {\field{\*\fldinst SYMBOL 180 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs42\scaps\f0\cf6\lang1024 REMatch} {\field{\*\fldinst SYMBOL 180 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs42\scaps\f0\cf6\lang1024 Continuation} {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \cs42\scaps\f0\cf6\lang1024 REResult}\par\pard\plain\s1\qj\sa120\widctlpar\fs20\lang1033 A {\cs42\scaps\f0\cf6\lang1024 Matcher} is a function that attempts to match a middle portion of the pattern against the input string, starting at the intermediate state given by its {\cs42\scaps\f0\cf6\lang1024 REMatch} argument. Since the remainder of the pattern heavily influences whether (and how) a middle portion will match, we must pass in a {\cs42\scaps\f0\cf6\lang1024 Continuation} function that checks whether the rest of the pattern matched. If the continuation returns {\cs43\f4\cf6\lang1024 failure}, the matcher function may call it repeatedly, trying various alternatives at pattern choice points.\par The {\cs42\scaps\f0\cf6\lang1024 REInput} parameter contains the input string and is merely passed down to subroutines.\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 MatcherGenerator} = {\cs41\f0\cf6\lang1024{\cs42\scaps\f0\cf6\lang1024 Integer} {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \cs42\scaps\f0\cf6\lang1024 Matcher}\par\pard\plain\s1\qj\sa120\widctlpar\fs20\lang1033 A {\cs42\scaps\f0\cf6\lang1024 MatcherGenerator} is a function executed at the time the regular expression is compiled that returns a {\cs42\scaps\f0\cf6\lang1024 Matcher} for a part of the pattern. The {\cs42\scaps\f0\cf6\lang1024 Integer} parameter contains the number of capturing left parentheses seen so far in the pattern and is used to assign static, consecutive numbers to capturing parentheses.\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs44\i\f0\cf11\lang1024 characterSetMatcher}({\cs45\i\f0\cf4\lang1024 acceptanceSet}: {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}, {\cs45\i\f0\cf4\lang1024 invert}: {\cs42\scaps\f0\cf6\lang1024 Boolean}) : {\cs42\scaps\f0\cf6\lang1024 Matcher}\line   = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line          {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 i}: {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex};\line              {\cs45\i\f0\cf4\lang1024 s}: {\cs42\scaps\f0\cf6\lang1024 String} = {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str}\line          {\cs40\b\f0 in} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 i} = |{\cs45\i\f0\cf4\lang1024 s}|\line              {\cs40\b\f0 then} {\cs43\f4\cf6\lang1024 failure}\line              {\cs40\b\f0 else} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 s}[{\cs45\i\f0\cf4\lang1024 i}] {\field{\*\fldinst SYMBOL 206 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs45\i\f0\cf4\lang1024 acceptanceSet} {\cs40\b\f0 xor} {\cs45\i\f0\cf4\lang1024 invert}\line              {\cs40\b\f0 then} {\cs45\i\f0\cf4\lang1024 c}({\b{\field{\*\fldinst SYMBOL 225 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}{\cs43\f4\cf6\lang1024 endIndex} ({\cs45\i\f0\cf4\lang1024 i} + 1), {\cs43\f4\cf6\lang1024 captures} {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 captures}{\b{\field{\*\fldinst SYMBOL 241 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}})\line              {\cs40\b\f0 else} {\cs43\f4\cf6\lang1024 failure}\par\pard\plain\s1\qj\sa120\widctlpar\fs20\lang1033{\cs44\i\f0\cf11\lang1024 characterSetMatcher} returns a {\cs42\scaps\f0\cf6\lang1024 Matcher} that matches a single input string character. If {\cs45\i\f0\cf4\lang1024 invert} is false, the match succeeds if the character is a member of the {\cs45\i\f0\cf4\lang1024 acceptanceSet} set of characters (possibly ignoring case). If {\cs45\i\f0\cf4\lang1024 invert} is true, the match succeeds if the character is not a member of the {\cs45\i\f0\cf4\lang1024 acceptanceSet} set of characters (possibly ignoring case).\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs44\i\f0\cf11\lang1024 characterMatcher}({\cs45\i\f0\cf4\lang1024 ch}: {\cs42\scaps\f0\cf6\lang1024 Character}) : {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs44\i\f0\cf11\lang1024 characterSetMatcher}(\{{\cs45\i\f0\cf4\lang1024 ch}\}, {\cs44\i\f0\cf11\lang1024 false})\par\pard\plain\s1\qj\sa120\widctlpar\fs20\lang1033{\cs44\i\f0\cf11\lang1024 characterMatcher} returns a {\cs42\scaps\f0\cf6\lang1024 Matcher} that matches a single input string character. The match succeeds if the character is the same as {\cs45\i\f0\cf4\lang1024 ch} (possibly ignoring case).\par\pard\plain\s4\sa60\keep\keepn\nowidctlpar\hyphpar0\level3\b\fs24\lang1033 Regular Expression Patterns\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 RegularExpressionPattern} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Disjunction}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 Exec}[{\cs36\i\f6\cf13\lang1024 RegularExpressionPattern}] : {\cs41\f0\cf6\lang1024{\cs42\scaps\f0\cf6\lang1024 REInput} {\field{\*\fldinst SYMBOL 180 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs42\scaps\f0\cf6\lang1024 Integer} {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \cs42\scaps\f0\cf6\lang1024 REResult}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 Exec}[{\cs36\i\f6\cf13\lang1024 RegularExpressionPattern} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Disjunction}]\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 match}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction}](0)\line      {\cs40\b\f0 in} {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 index}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line              {\cs45\i\f0\cf4\lang1024 match}(\line                  {\cs45\i\f0\cf4\lang1024 t},\line                  {\b{\field{\*\fldinst SYMBOL 225 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}{\cs43\f4\cf6\lang1024 endIndex} {\cs45\i\f0\cf4\lang1024 index}, {\cs43\f4\cf6\lang1024 captures} {\cs44\i\f0\cf11\lang1024 fillCapture}({\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction}]){\b{\field{\*\fldinst SYMBOL 241 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}},\line                  {\cs44\i\f0\cf11\lang1024 successContinuation})\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs44\i\f0\cf11\lang1024 successContinuation}({\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}) : {\cs42\scaps\f0\cf6\lang1024 REResult} = {\cs43\f4\cf6\lang1024 success} {\cs45\i\f0\cf4\lang1024 x}\par{\cs44\i\f0\cf11\lang1024 fillCapture}({\cs45\i\f0\cf4\lang1024 i}: {\cs42\scaps\f0\cf6\lang1024 Integer}) : {\cs41\f0\cf6\lang1024{\cs42\scaps\f0\cf6\lang1024 Capture}[]}\line   = {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 i} = 0\line      {\cs40\b\f0 then} {\b[]}{\sub\cs42\scaps\f0\cf6\lang1024 Capture}\line      {\cs40\b\f0 else} {\cs44\i\f0\cf11\lang1024 fillCapture}({\cs45\i\f0\cf4\lang1024 i} \endash  1) {\field{\*\fldinst SYMBOL 197 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\b[}{\cs43\f4\cf6\lang1024 absent}{\b]}\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Disjunctions\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 Disjunction} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 Alternative}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 Alternative} {\cs32\b\f5\cf2\lang1024|} {\cs36\i\f6\cf13\lang1024 Disjunction}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction}] : {\cs42\scaps\f0\cf6\lang1024 MatcherGenerator}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Alternative}] = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Alternative}]\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Alternative} {\cs32\b\f5\cf2\lang1024|} {\cs36\i\f6\cf13\lang1024 Disjunction\b0\i0\sub 1}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 match1}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Alternative}]({\cs45\i\f0\cf4\lang1024 parenIndex});\line          {\cs45\i\f0\cf4\lang1024 match2}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction\b0\i0\sub 1}]({\cs45\i\f0\cf4\lang1024 parenIndex} + {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative}])\line      {\cs40\b\f0 in} {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line              {\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 match1}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 x}, {\cs45\i\f0\cf4\lang1024 c}) {\cs40\b\f0 of}\line                 {\cs43\f4\cf6\lang1024 success}({\cs45\i\f0\cf4\lang1024 y}: {\cs42\scaps\f0\cf6\lang1024 REMatch}): {\cs43\f4\cf6\lang1024 success} {\cs45\i\f0\cf4\lang1024 y};\line                 {\cs43\f4\cf6\lang1024 failure}: {\cs45\i\f0\cf4\lang1024 match2}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 x}, {\cs45\i\f0\cf4\lang1024 c})\line                 {\cs40\b\f0 end}\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Alternative}] = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative}]\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Alternative} {\cs32\b\f5\cf2\lang1024|} {\cs36\i\f6\cf13\lang1024 Disjunction\b0\i0\sub 1}]\line   = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative}] + {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction\b0\i0\sub 1}]\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Alternatives\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 Alternative} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab\u171\'C7empty\u187\'C8\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 Alternative} {\cs36\i\f6\cf13\lang1024 Term}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Alternative}] : {\cs42\scaps\f0\cf6\lang1024 MatcherGenerator}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Alternative} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \u171\'C7empty\u187\'C8]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line          {\cs45\i\f0\cf4\lang1024 c}({\cs45\i\f0\cf4\lang1024 x})\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Alternative} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Alternative\b0\i0\sub 1} {\cs36\i\f6\cf13\lang1024 Term}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 match1}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Alternative\b0\i0\sub 1}]({\cs45\i\f0\cf4\lang1024 parenIndex});\line          {\cs45\i\f0\cf4\lang1024 match2}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Term}]({\cs45\i\f0\cf4\lang1024 parenIndex} + {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative\b0\i0\sub 1}])\line      {\cs40\b\f0 in} {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line              {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 d}: {\cs42\scaps\f0\cf6\lang1024 Continuation}\line                      = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 y}: {\cs42\scaps\f0\cf6\lang1024 REMatch})\line                             {\cs45\i\f0\cf4\lang1024 match2}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 y}, {\cs45\i\f0\cf4\lang1024 c})\line              {\cs40\b\f0 in} {\cs45\i\f0\cf4\lang1024 match1}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 x}, {\cs45\i\f0\cf4\lang1024 d})\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \u171\'C7empty\u187\'C8] = 0\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Alternative\b0\i0\sub 1} {\cs36\i\f6\cf13\lang1024 Term}]\line   = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Alternative\b0\i0\sub 1}] + {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Term}]\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Terms\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 Term} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 Assertion}\par|\tab{\cs36\i\f6\cf13\lang1024 Atom}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 Atom} {\cs36\i\f6\cf13\lang1024 Quantifier}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Term}] : {\cs42\scaps\f0\cf6\lang1024 MatcherGenerator}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Term} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Assertion}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line          {\cs40\b\f0 if} {\cs46\f7\cf12\lang1024 TestAssertion}[{\cs36\i\f6\cf13\lang1024 Assertion}]({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 x})\line          {\cs40\b\f0 then} {\cs45\i\f0\cf4\lang1024 c}({\cs45\i\f0\cf4\lang1024 x})\line          {\cs40\b\f0 else} {\cs43\f4\cf6\lang1024 failure}\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Term} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Atom}] = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom}]\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Term} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Atom} {\cs36\i\f6\cf13\lang1024 Quantifier}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 match}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom}]({\cs45\i\f0\cf4\lang1024 parenIndex});\line          {\cs45\i\f0\cf4\lang1024 min}: {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 Quantifier}];\line          {\cs45\i\f0\cf4\lang1024 max}: {\cs42\scaps\f0\cf6\lang1024 Limit} = {\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 Quantifier}];\line          {\cs45\i\f0\cf4\lang1024 greedy}: {\cs42\scaps\f0\cf6\lang1024 Boolean} = {\cs46\f7\cf12\lang1024 Greedy}[{\cs36\i\f6\cf13\lang1024 Quantifier}]\line      {\cs40\b\f0 in} {\cs40\b\f0 if} \line              ({\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 max} {\cs40\b\f0 of}\line                 {\cs43\f4\cf6\lang1024 finite}({\cs45\i\f0\cf4\lang1024 m}: {\cs42\scaps\f0\cf6\lang1024 Integer}): {\cs45\i\f0\cf4\lang1024 m} < {\cs45\i\f0\cf4\lang1024 min};\line                 {\cs43\f4\cf6\lang1024 infinite}: {\cs44\i\f0\cf11\lang1024 false}\line                 {\cs40\b\f0 end})\line          {\cs40\b\f0 then} {\cs40\b\f0 throw} {\cs43\f4\cf6\lang1024 syntaxError}\line          {\cs40\b\f0 else} {\cs44\i\f0\cf11\lang1024 repeatMatcher}({\cs45\i\f0\cf4\lang1024 match}, {\cs45\i\f0\cf4\lang1024 min}, {\cs45\i\f0\cf4\lang1024 max}, {\cs45\i\f0\cf4\lang1024 greedy}, {\cs45\i\f0\cf4\lang1024 parenIndex}, {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom}])\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Term}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Term} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Assertion}] = 0\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Term} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Atom}] = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom}]\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Term} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 Atom} {\cs36\i\f6\cf13\lang1024 Quantifier}] = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom}]\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 Quantifier} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 QuantifierPrefix}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\cs32\b\f5\cf2\lang1024?}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024*}\par|\tab{\cs32\b\f5\cf2\lang1024 +}\par|\tab{\cs32\b\f5\cf2\lang1024?}\par|\tab{\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024\}}\par|\tab{\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024,} {\cs32\b\f5\cf2\lang1024\}}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024,} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024\}}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 DecimalDigits} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 DecimalDigit}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs36\i\f6\cf13\lang1024 DecimalDigit}\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 DecimalDigit} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 0} | {\cs32\b\f5\cf2\lang1024 1} | {\cs32\b\f5\cf2\lang1024 2} | {\cs32\b\f5\cf2\lang1024 3} | {\cs32\b\f5\cf2\lang1024 4} | {\cs32\b\f5\cf2\lang1024 5} | {\cs32\b\f5\cf2\lang1024 6} | {\cs32\b\f5\cf2\lang1024 7} | {\cs32\b\f5\cf2\lang1024 8} | {\cs32\b\f5\cf2\lang1024 9}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 type} {\cs42\scaps\f0\cf6\lang1024 Limit} = {\cs41\f0\cf6\lang1024{\cs40\b\f0 oneof} \{{\cs43\f4\cf6\lang1024 finite}: {\cs42\scaps\f0\cf6\lang1024 Integer}; {\cs43\f4\cf6\lang1024 infinite}\}}\par{\cs44\i\f0\cf11\lang1024 resetParens}({\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 p}: {\cs42\scaps\f0\cf6\lang1024 Integer}, {\cs45\i\f0\cf4\lang1024 nParens}: {\cs42\scaps\f0\cf6\lang1024 Integer}) : {\cs42\scaps\f0\cf6\lang1024 REMatch}\line   = {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 nParens} = 0\line      {\cs40\b\f0 then} {\cs45\i\f0\cf4\lang1024 x}\line      {\cs40\b\f0 else} {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 y}: {\cs42\scaps\f0\cf6\lang1024 REMatch} = {\b{\field{\*\fldinst SYMBOL 225 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}{\cs43\f4\cf6\lang1024 endIndex} {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex}, {\cs43\f4\cf6\lang1024 captures} {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 captures}[{\cs45\i\f0\cf4\lang1024 p} {\field{\*\fldinst SYMBOL 172 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs43\f4\cf6\lang1024 absent}]{\b{\field{\*\fldinst SYMBOL 241 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}\line            {\cs40\b\f0 in} {\cs44\i\f0\cf11\lang1024 resetParens}({\cs45\i\f0\cf4\lang1024 y}, {\cs45\i\f0\cf4\lang1024 p} + 1, {\cs45\i\f0\cf4\lang1024 nParens} \endash  1)\par{\cs44\i\f0\cf11\lang1024 repeatMatcher}({\cs45\i\f0\cf4\lang1024 body}: {\cs42\scaps\f0\cf6\lang1024 Matcher}, {\cs45\i\f0\cf4\lang1024 min}: {\cs42\scaps\f0\cf6\lang1024 Integer}, {\cs45\i\f0\cf4\lang1024 max}: {\cs42\scaps\f0\cf6\lang1024 Limit}, {\cs45\i\f0\cf4\lang1024 greedy}: {\cs42\scaps\f0\cf6\lang1024 Boolean}, {\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer}, {\cs45\i\f0\cf4\lang1024 nBodyParens}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   : {\cs42\scaps\f0\cf6\lang1024 Matcher}\line   = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line          {\cs40\b\f0 if} \line              ({\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 max} {\cs40\b\f0 of}\line                 {\cs43\f4\cf6\lang1024 finite}({\cs45\i\f0\cf4\lang1024 m}: {\cs42\scaps\f0\cf6\lang1024 Integer}): {\cs45\i\f0\cf4\lang1024 m} = 0;\line                 {\cs43\f4\cf6\lang1024 infinite}: {\cs44\i\f0\cf11\lang1024 false}\line                 {\cs40\b\f0 end})\line          {\cs40\b\f0 then} {\cs45\i\f0\cf4\lang1024 c}({\cs45\i\f0\cf4\lang1024 x})\line          {\cs40\b\f0 else} {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 d}: {\cs42\scaps\f0\cf6\lang1024 Continuation}\line                        = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 y}: {\cs42\scaps\f0\cf6\lang1024 REMatch})\line                               {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 min} = 0 {\cs40\b\f0 and} {\cs45\i\f0\cf4\lang1024 y}.{\cs43\f4\cf6\lang1024 endIndex} = {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex}\line                               {\cs40\b\f0 then} {\cs43\f4\cf6\lang1024 failure}\line                               {\cs40\b\f0 else} {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 newMin}: {\cs42\scaps\f0\cf6\lang1024 Integer}\line                                             = {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 min} = 0\line                                                {\cs40\b\f0 then} 0\line                                                {\cs40\b\f0 else} {\cs45\i\f0\cf4\lang1024 min} \endash  1;\line                                         {\cs45\i\f0\cf4\lang1024 newMax}: {\cs42\scaps\f0\cf6\lang1024 Limit}\line                                             = {\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 max} {\cs40\b\f0 of}\line                                                   {\cs43\f4\cf6\lang1024 finite}({\cs45\i\f0\cf4\lang1024 m}: {\cs42\scaps\f0\cf6\lang1024 Integer}): {\cs43\f4\cf6\lang1024 finite} ({\cs45\i\f0\cf4\lang1024 m} \endash  1);\line                                                   {\cs43\f4\cf6\lang1024 infinite}: {\cs43\f4\cf6\lang1024 infinite}\line                                                   {\cs40\b\f0 end}\line                                     {\cs40\b\f0 in} {\cs44\i\f0\cf11\lang1024 repeatMatcher}(\line                                             {\cs45\i\f0\cf4\lang1024 body},\line                                             {\cs45\i\f0\cf4\lang1024 newMin},\line                                             {\cs45\i\f0\cf4\lang1024 newMax},\line                                             {\cs45\i\f0\cf4\lang1024 greedy},\line                                             {\cs45\i\f0\cf4\lang1024 parenIndex},\line                                             {\cs45\i\f0\cf4\lang1024 nBodyParens})({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 y}, {\cs45\i\f0\cf4\lang1024 c});\line                    {\cs45\i\f0\cf4\lang1024 xr}: {\cs42\scaps\f0\cf6\lang1024 REMatch} = {\cs44\i\f0\cf11\lang1024 resetParens}({\cs45\i\f0\cf4\lang1024 x}, {\cs45\i\f0\cf4\lang1024 parenIndex}, {\cs45\i\f0\cf4\lang1024 nBodyParens})\line                {\cs40\b\f0 in} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 min} \u8800\'AD 0\line                    {\cs40\b\f0 then} {\cs45\i\f0\cf4\lang1024 body}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 xr}, {\cs45\i\f0\cf4\lang1024 d})\line                    {\cs40\b\f0 else} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 greedy}\line                    {\cs40\b\f0 then} {\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 body}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 xr}, {\cs45\i\f0\cf4\lang1024 d}) {\cs40\b\f0 of}\line                              {\cs43\f4\cf6\lang1024 success}({\cs45\i\f0\cf4\lang1024 z}: {\cs42\scaps\f0\cf6\lang1024 REMatch}): {\cs43\f4\cf6\lang1024 success} {\cs45\i\f0\cf4\lang1024 z};\line                              {\cs43\f4\cf6\lang1024 failure}: {\cs45\i\f0\cf4\lang1024 c}({\cs45\i\f0\cf4\lang1024 x})\line                              {\cs40\b\f0 end}\line                    {\cs40\b\f0 else} {\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 c}({\cs45\i\f0\cf4\lang1024 x}) {\cs40\b\f0 of}\line                             {\cs43\f4\cf6\lang1024 success}({\cs45\i\f0\cf4\lang1024 z}: {\cs42\scaps\f0\cf6\lang1024 REMatch}): {\cs43\f4\cf6\lang1024 success} {\cs45\i\f0\cf4\lang1024 z};\line                             {\cs43\f4\cf6\lang1024 failure}: {\cs45\i\f0\cf4\lang1024 body}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 xr}, {\cs45\i\f0\cf4\lang1024 d})\line                             {\cs40\b\f0 end}\par{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 Quantifier}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 Quantifier} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 QuantifierPrefix}] = {\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix}]\par{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 Quantifier} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\cs32\b\f5\cf2\lang1024?}] = {\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 Quantifier}] : {\cs42\scaps\f0\cf6\lang1024 Limit}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 Quantifier} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 QuantifierPrefix}] = {\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix}]\par{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 Quantifier} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\cs32\b\f5\cf2\lang1024?}] = {\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 Greedy}[{\cs36\i\f6\cf13\lang1024 Quantifier}] : {\cs42\scaps\f0\cf6\lang1024 Boolean}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 Greedy}[{\cs36\i\f6\cf13\lang1024 Quantifier} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 QuantifierPrefix}] = {\cs44\i\f0\cf11\lang1024 true}\par{\cs46\f7\cf12\lang1024 Greedy}[{\cs36\i\f6\cf13\lang1024 Quantifier} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\cs32\b\f5\cf2\lang1024?}] = {\cs44\i\f0\cf11\lang1024 false}\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024*}] = 0\par{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 +}] = 1\par{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024?}] = 0\par{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024\}}] = {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits}]\par{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024,} {\cs32\b\f5\cf2\lang1024\}}] = {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits}]\par{\cs46\f7\cf12\lang1024 Minimum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 1} {\cs32\b\f5\cf2\lang1024,} {\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 2} {\cs32\b\f5\cf2\lang1024\}}]\line   = {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 1}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix}] : {\cs42\scaps\f0\cf6\lang1024 Limit}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024*}] = {\cs43\f4\cf6\lang1024 infinite}\par{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 +}] = {\cs43\f4\cf6\lang1024 infinite}\par{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024?}] = {\cs43\f4\cf6\lang1024 finite} 1\par{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024\}}] = {\cs43\f4\cf6\lang1024 finite} {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits}]\par{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits} {\cs32\b\f5\cf2\lang1024,} {\cs32\b\f5\cf2\lang1024\}}] = {\cs43\f4\cf6\lang1024 infinite}\par{\cs46\f7\cf12\lang1024 Maximum}[{\cs36\i\f6\cf13\lang1024 QuantifierPrefix} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\{} {\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 1} {\cs32\b\f5\cf2\lang1024,} {\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 2} {\cs32\b\f5\cf2\lang1024\}}]\line   = {\cs43\f4\cf6\lang1024 finite} {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 2}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 DecimalDigit}] = {\cs46\f7\cf12\lang1024 DecimalValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigit}]\par{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 1} {\cs36\i\f6\cf13\lang1024 DecimalDigit}]\line   = 10*{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigits\b0\i0\sub 1}] + {\cs46\f7\cf12\lang1024 DecimalValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigit}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 DecimalValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigit}] : {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs44\i\f0\cf11\lang1024 digitValue}({\cs36\i\f6\cf13\lang1024 DecimalDigit})\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Assertions\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 Assertion} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024^}\par|\tab{\cs32\b\f5\cf2\lang1024$}\par|\tab{\cs32\b\f5\cf2\lang1024\\} {\cs32\b\f5\cf2\lang1024 b}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024\\} {\cs32\b\f5\cf2\lang1024 B}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 TestAssertion}[{\cs36\i\f6\cf13\lang1024 Assertion}] : {\cs41\f0\cf6\lang1024{\cs42\scaps\f0\cf6\lang1024 REInput} {\field{\*\fldinst SYMBOL 180 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs42\scaps\f0\cf6\lang1024 REMatch} {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \cs42\scaps\f0\cf6\lang1024 Boolean}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 TestAssertion}[{\cs36\i\f6\cf13\lang1024 Assertion} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024^}]({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch})\line   = {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex} = 0\line      {\cs40\b\f0 then} {\cs44\i\f0\cf11\lang1024 true}\line      {\cs40\b\f0 else} {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 multiline} {\cs40\b\f0 and} {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str}[{\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex} \endash  1] {\field{\*\fldinst SYMBOL 206 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs44\i\f0\cf11\lang1024 lineTerminators}\par{\cs46\f7\cf12\lang1024 TestAssertion}[{\cs36\i\f6\cf13\lang1024 Assertion} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024$}]({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch})\line   = {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex} = |{\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str}|\line      {\cs40\b\f0 then} {\cs44\i\f0\cf11\lang1024 true}\line      {\cs40\b\f0 else} {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 multiline} {\cs40\b\f0 and} {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str}[{\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex}] {\field{\*\fldinst SYMBOL 206 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs44\i\f0\cf11\lang1024 lineTerminators}\par{\cs46\f7\cf12\lang1024 TestAssertion}[{\cs36\i\f6\cf13\lang1024 Assertion} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\\} {\cs32\b\f5\cf2\lang1024 b}]({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch})\line   = {\cs44\i\f0\cf11\lang1024 atWordBoundary}({\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex}, {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str})\par{\cs46\f7\cf12\lang1024 TestAssertion}[{\cs36\i\f6\cf13\lang1024 Assertion} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\\} {\cs32\b\f5\cf2\lang1024 B}]({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch})\line   = {\cs40\b\f0 not} {\cs44\i\f0\cf11\lang1024 atWordBoundary}({\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex}, {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str})\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs44\i\f0\cf11\lang1024 atWordBoundary}({\cs45\i\f0\cf4\lang1024 i}: {\cs42\scaps\f0\cf6\lang1024 Integer}, {\cs45\i\f0\cf4\lang1024 s}: {\cs42\scaps\f0\cf6\lang1024 String}) : {\cs42\scaps\f0\cf6\lang1024 Boolean} = {\cs44\i\f0\cf11\lang1024 inWord}({\cs45\i\f0\cf4\lang1024 i} \endash  1, {\cs45\i\f0\cf4\lang1024 s}) {\cs40\b\f0 xor} {\cs44\i\f0\cf11\lang1024 inWord}({\cs45\i\f0\cf4\lang1024 i}, {\cs45\i\f0\cf4\lang1024 s})\par{\cs44\i\f0\cf11\lang1024 inWord}({\cs45\i\f0\cf4\lang1024 i}: {\cs42\scaps\f0\cf6\lang1024 Integer}, {\cs45\i\f0\cf4\lang1024 s}: {\cs42\scaps\f0\cf6\lang1024 String}) : {\cs42\scaps\f0\cf6\lang1024 Boolean}\line   = {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 i} = -1 {\cs40\b\f0 or} {\cs45\i\f0\cf4\lang1024 i} = |{\cs45\i\f0\cf4\lang1024 s}|\line      {\cs40\b\f0 then} {\cs44\i\f0\cf11\lang1024 false}\line      {\cs40\b\f0 else} {\cs45\i\f0\cf4\lang1024 s}[{\cs45\i\f0\cf4\lang1024 i}] {\field{\*\fldinst SYMBOL 206 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs44\i\f0\cf11\lang1024 reWordCharacters}\par\pard\plain\s4\sa60\keep\keepn\nowidctlpar\hyphpar0\level3\b\fs24\lang1033 Atoms\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 PatternCharacter}\par|\tab{\cs32\b\f5\cf2\lang1024.}\par|\tab{\cs32\b\f5\cf2\lang1024\\} {\cs36\i\f6\cf13\lang1024 AtomEscape}\par|\tab{\cs36\i\f6\cf13\lang1024 CharacterClass}\par|\tab{\cs32\b\f5\cf2\lang1024(} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}\par|\tab{\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024:} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}\par|\tab{\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024=} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024!} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 PatternCharacter} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 UnicodeCharacter} {\b except} {\cs32\b\f5\cf2\lang1024^} | {\cs32\b\f5\cf2\lang1024$} | {\cs32\b\f5\cf2\lang1024\\} | {\cs32\b\f5\cf2\lang1024.} | {\cs32\b\f5\cf2\lang1024*} | {\cs32\b\f5\cf2\lang1024 +} | {\cs32\b\f5\cf2\lang1024?} | {\cs32\b\f5\cf2\lang1024(} | {\cs32\b\f5\cf2\lang1024)} | {\cs32\b\f5\cf2\lang1024[} | {\cs32\b\f5\cf2\lang1024]} | {\cs32\b\f5\cf2\lang1024\{} | {\cs32\b\f5\cf2\lang1024\}} | {\cs32\b\f5\cf2\lang1024|}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom}] : {\cs42\scaps\f0\cf6\lang1024 MatcherGenerator}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 PatternCharacter}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs44\i\f0\cf11\lang1024 characterMatcher}({\cs36\i\f6\cf13\lang1024 PatternCharacter})\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024.}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer}) = {\cs44\i\f0\cf11\lang1024 characterSetMatcher}({\cs44\i\f0\cf11\lang1024 lineTerminators}, {\cs44\i\f0\cf11\lang1024 true})\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\\} {\cs36\i\f6\cf13\lang1024 AtomEscape}] = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 AtomEscape}]\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 CharacterClass}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 a}: {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}} = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClass}]\line      {\cs40\b\f0 in} {\cs44\i\f0\cf11\lang1024 characterSetMatcher}({\cs45\i\f0\cf4\lang1024 a}, {\cs46\f7\cf12\lang1024 Invert}[{\cs36\i\f6\cf13\lang1024 CharacterClass}])\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 match}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction}]({\cs45\i\f0\cf4\lang1024 parenIndex} + 1)\line      {\cs40\b\f0 in} {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line              {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 d}: {\cs42\scaps\f0\cf6\lang1024 Continuation}\line                      = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 y}: {\cs42\scaps\f0\cf6\lang1024 REMatch})\line                             {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 updatedCaptures}: {\cs41\f0\cf6\lang1024{\cs42\scaps\f0\cf6\lang1024 Capture}[]}\line                                     = {\cs45\i\f0\cf4\lang1024 y}.{\cs43\f4\cf6\lang1024 captures}[{\cs45\i\f0\cf4\lang1024 parenIndex} {\field{\*\fldinst SYMBOL 172 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\line                                            {\cs43\f4\cf6\lang1024 present} {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str}[{\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex} ... {\cs45\i\f0\cf4\lang1024 y}.{\cs43\f4\cf6\lang1024 endIndex} \endash  1]]\line                             {\cs40\b\f0 in} {\cs45\i\f0\cf4\lang1024 c}({\b{\field{\*\fldinst SYMBOL 225 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}{\cs43\f4\cf6\lang1024 endIndex} {\cs45\i\f0\cf4\lang1024 y}.{\cs43\f4\cf6\lang1024 endIndex}, {\cs43\f4\cf6\lang1024 captures} {\cs45\i\f0\cf4\lang1024 updatedCaptures}{\b{\field{\*\fldinst SYMBOL 241 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}})\line              {\cs40\b\f0 in} {\cs45\i\f0\cf4\lang1024 match}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 x}, {\cs45\i\f0\cf4\lang1024 d})\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024:} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}] = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction}]\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024=} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 match}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction}]({\cs45\i\f0\cf4\lang1024 parenIndex})\line      {\cs40\b\f0 in} {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line              {\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 match}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 x}, {\cs44\i\f0\cf11\lang1024 successContinuation}) {\cs40\b\f0 of}\line                 {\cs43\f4\cf6\lang1024 success}({\cs45\i\f0\cf4\lang1024 y}: {\cs42\scaps\f0\cf6\lang1024 REMatch}): {\cs45\i\f0\cf4\lang1024 c}({\b{\field{\*\fldinst SYMBOL 225 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}{\cs43\f4\cf6\lang1024 endIndex} {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex}, {\cs43\f4\cf6\lang1024 captures} {\cs45\i\f0\cf4\lang1024 y}.{\cs43\f4\cf6\lang1024 captures}{\b{\field{\*\fldinst SYMBOL 241 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}});\line                 {\cs43\f4\cf6\lang1024 failure}: {\cs43\f4\cf6\lang1024 failure}\line                 {\cs40\b\f0 end}\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024!} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 match}: {\cs42\scaps\f0\cf6\lang1024 Matcher} = {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 Disjunction}]({\cs45\i\f0\cf4\lang1024 parenIndex})\line      {\cs40\b\f0 in} {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line              {\cs40\b\f0 case} {\cs45\i\f0\cf4\lang1024 match}({\cs45\i\f0\cf4\lang1024 t}, {\cs45\i\f0\cf4\lang1024 x}, {\cs44\i\f0\cf11\lang1024 successContinuation}) {\cs40\b\f0 of}\line                 {\cs43\f4\cf6\lang1024 success}({\cs45\i\f0\cf4\lang1024 y}: {\cs42\scaps\f0\cf6\lang1024 REMatch}): {\cs43\f4\cf6\lang1024 failure};\line                 {\cs43\f4\cf6\lang1024 failure}: {\cs45\i\f0\cf4\lang1024 c}({\cs45\i\f0\cf4\lang1024 x})\line                 {\cs40\b\f0 end}\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 PatternCharacter}] = 0\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024.}] = 0\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\\} {\cs36\i\f6\cf13\lang1024 AtomEscape}] = 0\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 CharacterClass}] = 0\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}] = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction}] + 1\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024:} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}] = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction}]\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024=} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}] = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction}]\par{\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Atom} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024(} {\cs32\b\f5\cf2\lang1024?} {\cs32\b\f5\cf2\lang1024!} {\cs36\i\f6\cf13\lang1024 Disjunction} {\cs32\b\f5\cf2\lang1024)}] = {\cs46\f7\cf12\lang1024 CountParens}[{\cs36\i\f6\cf13\lang1024 Disjunction}]\par\pard\plain\s4\sa60\keep\keepn\nowidctlpar\hyphpar0\level3\b\fs24\lang1033 Escapes\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 AtomEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 DecimalEscape}\par|\tab{\cs36\i\f6\cf13\lang1024 CharacterEscape}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 CharacterClassEscape}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 AtomEscape}] : {\cs42\scaps\f0\cf6\lang1024 MatcherGenerator}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 AtomEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 DecimalEscape}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 n}: {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs46\f7\cf12\lang1024 EscapeValue}[{\cs36\i\f6\cf13\lang1024 DecimalEscape}]\line      {\cs40\b\f0 in} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 n} = 0\line          {\cs40\b\f0 then} {\cs44\i\f0\cf11\lang1024 characterMatcher}(\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7NUL\u187\'C8}\rquote)\line          {\cs40\b\f0 else} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 n} > {\cs45\i\f0\cf4\lang1024 parenIndex}\line          {\cs40\b\f0 then} {\cs40\b\f0 throw} {\cs43\f4\cf6\lang1024 syntaxError}\line          {\cs40\b\f0 else} {\cs44\i\f0\cf11\lang1024 backreferenceMatcher}({\cs45\i\f0\cf4\lang1024 n})\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 AtomEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 CharacterEscape}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs44\i\f0\cf11\lang1024 characterMatcher}({\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 CharacterEscape}])\par{\cs46\f7\cf12\lang1024 GenMatcher}[{\cs36\i\f6\cf13\lang1024 AtomEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 CharacterClassEscape}]({\cs45\i\f0\cf4\lang1024 parenIndex}: {\cs42\scaps\f0\cf6\lang1024 Integer})\line   = {\cs44\i\f0\cf11\lang1024 characterSetMatcher}({\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape}], {\cs44\i\f0\cf11\lang1024 false})\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs44\i\f0\cf11\lang1024 backreferenceMatcher}({\cs45\i\f0\cf4\lang1024 n}: {\cs42\scaps\f0\cf6\lang1024 Integer}) : {\cs42\scaps\f0\cf6\lang1024 Matcher}\line   = {\cs40\b\f0 function}({\cs45\i\f0\cf4\lang1024 t}: {\cs42\scaps\f0\cf6\lang1024 REInput}, {\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 c}: {\cs42\scaps\f0\cf6\lang1024 Continuation})\line          {\cs40\b\f0 case} {\cs44\i\f0\cf11\lang1024 nthBackreference}({\cs45\i\f0\cf4\lang1024 x}, {\cs45\i\f0\cf4\lang1024 n}) {\cs40\b\f0 of}\line             {\cs43\f4\cf6\lang1024 present}({\cs45\i\f0\cf4\lang1024 ref}: {\cs42\scaps\f0\cf6\lang1024 String}):\line                   {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 i}: {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 endIndex};\line                       {\cs45\i\f0\cf4\lang1024 s}: {\cs42\scaps\f0\cf6\lang1024 String} = {\cs45\i\f0\cf4\lang1024 t}.{\cs43\f4\cf6\lang1024 str}\line                   {\cs40\b\f0 in} {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 j}: {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs45\i\f0\cf4\lang1024 i} + |{\cs45\i\f0\cf4\lang1024 ref}|\line                   {\cs40\b\f0 in} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 j} > |{\cs45\i\f0\cf4\lang1024 s}|\line                       {\cs40\b\f0 then} {\cs43\f4\cf6\lang1024 failure}\line                       {\cs40\b\f0 else} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 s}[{\cs45\i\f0\cf4\lang1024 i} ... {\cs45\i\f0\cf4\lang1024 j} \endash  1] = {\cs45\i\f0\cf4\lang1024 ref}\line                       {\cs40\b\f0 then} {\cs45\i\f0\cf4\lang1024 c}({\b{\field{\*\fldinst SYMBOL 225 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}{\cs43\f4\cf6\lang1024 endIndex} {\cs45\i\f0\cf4\lang1024 j}, {\cs43\f4\cf6\lang1024 captures} {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 captures}{\b{\field{\*\fldinst SYMBOL 241 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}})\line                       {\cs40\b\f0 else} {\cs43\f4\cf6\lang1024 failure};\line             {\cs43\f4\cf6\lang1024 absent}: {\cs45\i\f0\cf4\lang1024 c}({\cs45\i\f0\cf4\lang1024 x})\line             {\cs40\b\f0 end}\par{\cs44\i\f0\cf11\lang1024 nthBackreference}({\cs45\i\f0\cf4\lang1024 x}: {\cs42\scaps\f0\cf6\lang1024 REMatch}, {\cs45\i\f0\cf4\lang1024 n}: {\cs42\scaps\f0\cf6\lang1024 Integer}) : {\cs42\scaps\f0\cf6\lang1024 Capture} = {\cs45\i\f0\cf4\lang1024 x}.{\cs43\f4\cf6\lang1024 captures}[{\cs45\i\f0\cf4\lang1024 n} \endash  1]\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 CharacterEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 ControlEscape}\par|\tab{\cs32\b\f5\cf2\lang1024 c} {\cs36\i\f6\cf13\lang1024 ControlLetter}\par|\tab{\cs36\i\f6\cf13\lang1024 HexEscape}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 IdentityEscape}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 ControlLetter} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024 A} | {\cs32\b\f5\cf2\lang1024 B} | {\cs32\b\f5\cf2\lang1024 C} | {\cs32\b\f5\cf2\lang1024 D} | {\cs32\b\f5\cf2\lang1024 E} | {\cs32\b\f5\cf2\lang1024 F} | {\cs32\b\f5\cf2\lang1024 G} | {\cs32\b\f5\cf2\lang1024 H} | {\cs32\b\f5\cf2\lang1024 I} | {\cs32\b\f5\cf2\lang1024 J} | {\cs32\b\f5\cf2\lang1024 K} | {\cs32\b\f5\cf2\lang1024 L} | {\cs32\b\f5\cf2\lang1024 M} | {\cs32\b\f5\cf2\lang1024 N} | {\cs32\b\f5\cf2\lang1024 O} | {\cs32\b\f5\cf2\lang1024 P} | {\cs32\b\f5\cf2\lang1024 Q} | {\cs32\b\f5\cf2\lang1024 R} | {\cs32\b\f5\cf2\lang1024 S} | {\cs32\b\f5\cf2\lang1024 T} | {\cs32\b\f5\cf2\lang1024 U} | {\cs32\b\f5\cf2\lang1024 V} | {\cs32\b\f5\cf2\lang1024 W} | {\cs32\b\f5\cf2\lang1024 X} | {\cs32\b\f5\cf2\lang1024 Y} | {\cs32\b\f5\cf2\lang1024 Z}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024 a} | {\cs32\b\f5\cf2\lang1024 b} | {\cs32\b\f5\cf2\lang1024 c} | {\cs32\b\f5\cf2\lang1024 d} | {\cs32\b\f5\cf2\lang1024 e} | {\cs32\b\f5\cf2\lang1024 f} | {\cs32\b\f5\cf2\lang1024 g} | {\cs32\b\f5\cf2\lang1024 h} | {\cs32\b\f5\cf2\lang1024 i} | {\cs32\b\f5\cf2\lang1024 j} | {\cs32\b\f5\cf2\lang1024 k} | {\cs32\b\f5\cf2\lang1024 l} | {\cs32\b\f5\cf2\lang1024 m} | {\cs32\b\f5\cf2\lang1024 n} | {\cs32\b\f5\cf2\lang1024 o} | {\cs32\b\f5\cf2\lang1024 p} | {\cs32\b\f5\cf2\lang1024 q} | {\cs32\b\f5\cf2\lang1024 r} | {\cs32\b\f5\cf2\lang1024 s} | {\cs32\b\f5\cf2\lang1024 t} | {\cs32\b\f5\cf2\lang1024 u} | {\cs32\b\f5\cf2\lang1024 v} | {\cs32\b\f5\cf2\lang1024 w} | {\cs32\b\f5\cf2\lang1024 x} | {\cs32\b\f5\cf2\lang1024 y} | {\cs32\b\f5\cf2\lang1024 z}\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 IdentityEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 UnicodeCharacter} {\b except} {\cs36\i\f6\cf13\lang1024 UnicodeAlphanumeric}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 ControlEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024 f}\par|\tab{\cs32\b\f5\cf2\lang1024 n}\par|\tab{\cs32\b\f5\cf2\lang1024 r}\par|\tab{\cs32\b\f5\cf2\lang1024 t}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024 v}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 CharacterEscape}] : {\cs42\scaps\f0\cf6\lang1024 Character}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 CharacterEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 ControlEscape}] = {\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 ControlEscape}]\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 CharacterEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 c} {\cs36\i\f6\cf13\lang1024 ControlLetter}]\line   = {\cs44\i\f0\cf11\lang1024 codeToCharacter}({\cs44\i\f0\cf11\lang1024 bitwiseAnd}({\cs44\i\f0\cf11\lang1024 characterToCode}({\cs36\i\f6\cf13\lang1024 ControlLetter}), 31))\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 CharacterEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 HexEscape}] = {\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 HexEscape}]\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 CharacterEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 IdentityEscape}] = {\cs36\i\f6\cf13\lang1024 IdentityEscape}\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 ControlEscape}] : {\cs42\scaps\f0\cf6\lang1024 Character}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 ControlEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 f}] = \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7FF\u187\'C8}\rquote\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 ControlEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 n}] = \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7LF\u187\'C8}\rquote\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 ControlEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 r}] = \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7CR\u187\'C8}\rquote\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 ControlEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 t}] = \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7TAB\u187\'C8}\rquote\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 ControlEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 v}] = \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7VT\u187\'C8}\rquote\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Decimal Escapes\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 DecimalEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 DecimalIntegerLiteral} [lookahead{\field{\*\fldinst SYMBOL 207 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\{{\cs36\i\f6\cf13\lang1024 DecimalDigit}\}]\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 DecimalIntegerLiteral} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024 0}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 NonZeroDigit}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits} {\cs36\i\f6\cf13\lang1024 DecimalDigit}\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 NonZeroDigit} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 1} | {\cs32\b\f5\cf2\lang1024 2} | {\cs32\b\f5\cf2\lang1024 3} | {\cs32\b\f5\cf2\lang1024 4} | {\cs32\b\f5\cf2\lang1024 5} | {\cs32\b\f5\cf2\lang1024 6} | {\cs32\b\f5\cf2\lang1024 7} | {\cs32\b\f5\cf2\lang1024 8} | {\cs32\b\f5\cf2\lang1024 9}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 EscapeValue}[{\cs36\i\f6\cf13\lang1024 DecimalEscape}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 EscapeValue}[{\cs36\i\f6\cf13\lang1024 DecimalEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 DecimalIntegerLiteral} [lookahead{\field{\*\fldinst SYMBOL 207 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\{{\cs36\i\f6\cf13\lang1024 DecimalDigit}\}]]\line   = {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalIntegerLiteral}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalIntegerLiteral}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalIntegerLiteral} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 0}] = 0\par{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 DecimalIntegerLiteral} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits}]\line   = {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits}] : {\cs42\scaps\f0\cf6\lang1024 Integer}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 NonZeroDigit}] = {\cs46\f7\cf12\lang1024 DecimalValue}[{\cs36\i\f6\cf13\lang1024 NonZeroDigit}]\par{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits\b0\i0\sub 1} {\cs36\i\f6\cf13\lang1024 DecimalDigit}]\line   = 10*{\cs46\f7\cf12\lang1024 IntegerValue}[{\cs36\i\f6\cf13\lang1024 NonZeroDecimalDigits\b0\i0\sub 1}] + {\cs46\f7\cf12\lang1024 DecimalValue}[{\cs36\i\f6\cf13\lang1024 DecimalDigit}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 DecimalValue}[{\cs36\i\f6\cf13\lang1024 NonZeroDigit}] : {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs44\i\f0\cf11\lang1024 digitValue}({\cs36\i\f6\cf13\lang1024 NonZeroDigit})\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Hexadecimal Escapes\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 HexEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024 x} {\cs36\i\f6\cf13\lang1024 HexDigit} {\cs36\i\f6\cf13\lang1024 HexDigit}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024 u} {\cs36\i\f6\cf13\lang1024 HexDigit} {\cs36\i\f6\cf13\lang1024 HexDigit} {\cs36\i\f6\cf13\lang1024 HexDigit} {\cs36\i\f6\cf13\lang1024 HexDigit}\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 HexDigit} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 0} | {\cs32\b\f5\cf2\lang1024 1} | {\cs32\b\f5\cf2\lang1024 2} | {\cs32\b\f5\cf2\lang1024 3} | {\cs32\b\f5\cf2\lang1024 4} | {\cs32\b\f5\cf2\lang1024 5} | {\cs32\b\f5\cf2\lang1024 6} | {\cs32\b\f5\cf2\lang1024 7} | {\cs32\b\f5\cf2\lang1024 8} | {\cs32\b\f5\cf2\lang1024 9} | {\cs32\b\f5\cf2\lang1024 A} | {\cs32\b\f5\cf2\lang1024 B} | {\cs32\b\f5\cf2\lang1024 C} | {\cs32\b\f5\cf2\lang1024 D} | {\cs32\b\f5\cf2\lang1024 E} | {\cs32\b\f5\cf2\lang1024 F} | {\cs32\b\f5\cf2\lang1024 a} | {\cs32\b\f5\cf2\lang1024 b} | {\cs32\b\f5\cf2\lang1024 c} | {\cs32\b\f5\cf2\lang1024 d} | {\cs32\b\f5\cf2\lang1024 e} | {\cs32\b\f5\cf2\lang1024 f}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 HexEscape}] : {\cs42\scaps\f0\cf6\lang1024 Character}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 HexEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 x} {\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 1} {\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 2}]\line   = {\cs44\i\f0\cf11\lang1024 codeToCharacter}(16*{\cs46\f7\cf12\lang1024 HexValue}[{\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 1}] + {\cs46\f7\cf12\lang1024 HexValue}[{\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 2}])\par{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 HexEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 u} {\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 1} {\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 2} {\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 3} {\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 4}]\line   = {\cs44\i\f0\cf11\lang1024 codeToCharacter}(\line          4096*{\cs46\f7\cf12\lang1024 HexValue}[{\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 1}] + 256*{\cs46\f7\cf12\lang1024 HexValue}[{\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 2}] + 16*{\cs46\f7\cf12\lang1024 HexValue}[{\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 3}] +\line          {\cs46\f7\cf12\lang1024 HexValue}[{\cs36\i\f6\cf13\lang1024 HexDigit\b0\i0\sub 4}])\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 HexValue}[{\cs36\i\f6\cf13\lang1024 HexDigit}] : {\cs42\scaps\f0\cf6\lang1024 Integer} = {\cs44\i\f0\cf11\lang1024 digitValue}({\cs36\i\f6\cf13\lang1024 HexDigit})\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Character Class Escapes\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 CharacterClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024 s}\par|\tab{\cs32\b\f5\cf2\lang1024 S}\par|\tab{\cs32\b\f5\cf2\lang1024 d}\par|\tab{\cs32\b\f5\cf2\lang1024 D}\par|\tab{\cs32\b\f5\cf2\lang1024 w}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024 W}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape}] : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 s}] = {\cs44\i\f0\cf11\lang1024 reWhitespaces}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 S}] = \{\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7NUL\u187\'C8}\rquote  ... \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7uFFFF\u187\'C8}\rquote\} \endash  {\cs44\i\f0\cf11\lang1024 reWhitespaces}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 d}] = {\cs44\i\f0\cf11\lang1024 reDigits}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 D}] = \{\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7NUL\u187\'C8}\rquote  ... \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7uFFFF\u187\'C8}\rquote\} \endash  {\cs44\i\f0\cf11\lang1024 reDigits}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 w}] = {\cs44\i\f0\cf11\lang1024 reWordCharacters}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 W}] = \{\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7NUL\u187\'C8}\rquote  ... \lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7uFFFF\u187\'C8}\rquote\} \endash  {\cs44\i\f0\cf11\lang1024 reWordCharacters}\par\pard\plain\s4\sa60\keep\keepn\nowidctlpar\hyphpar0\level3\b\fs24\lang1033 User-Specified Character Classes\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 CharacterClass} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs32\b\f5\cf2\lang1024[} [lookahead{\field{\*\fldinst SYMBOL 207 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\{{\cs32\b\f5\cf2\lang1024^}\}] {\cs36\i\f6\cf13\lang1024 ClassRanges} {\cs32\b\f5\cf2\lang1024]}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024[} {\cs32\b\f5\cf2\lang1024^} {\cs36\i\f6\cf13\lang1024 ClassRanges} {\cs32\b\f5\cf2\lang1024]}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 ClassRanges} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab\u171\'C7empty\u187\'C8\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs37\i0 dash}\par\pard\plain\s16\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 206 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \{{\cs36\i\f6\cf13\lang1024\cs37\i0 dash}, {\cs36\i\f6\cf13\lang1024\cs37\i0 noDash}\}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs37\i0 dash}\par|\tab{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs37\i0 noDash}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\cs32\b\f5\cf2\lang1024 -} {\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs37\i0 dash} {\cs36\i\f6\cf13\lang1024 ClassRanges}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClass}] : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClass} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024[} [lookahead{\field{\*\fldinst SYMBOL 207 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\{{\cs32\b\f5\cf2\lang1024^}\}] {\cs36\i\f6\cf13\lang1024 ClassRanges} {\cs32\b\f5\cf2\lang1024]}]\line   = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassRanges}]\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClass} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024[} {\cs32\b\f5\cf2\lang1024^} {\cs36\i\f6\cf13\lang1024 ClassRanges} {\cs32\b\f5\cf2\lang1024]}] = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassRanges}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 Invert}[{\cs36\i\f6\cf13\lang1024 CharacterClass}] : {\cs42\scaps\f0\cf6\lang1024 Boolean}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 Invert}[{\cs36\i\f6\cf13\lang1024 CharacterClass} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024[} [lookahead{\field{\*\fldinst SYMBOL 207 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\{{\cs32\b\f5\cf2\lang1024^}\}] {\cs36\i\f6\cf13\lang1024 ClassRanges} {\cs32\b\f5\cf2\lang1024]}] = {\cs44\i\f0\cf11\lang1024 false}\par{\cs46\f7\cf12\lang1024 Invert}[{\cs36\i\f6\cf13\lang1024 CharacterClass} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024[} {\cs32\b\f5\cf2\lang1024^} {\cs36\i\f6\cf13\lang1024 ClassRanges} {\cs32\b\f5\cf2\lang1024]}] = {\cs44\i\f0\cf11\lang1024 true}\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassRanges}] : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassRanges} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} \u171\'C7empty\u187\'C8] = \{\}{\sub\cs42\scaps\f0\cf6\lang1024 Character}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassRanges} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs37\i0 dash}]\line   = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs37\i0 dash}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}] : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs37\i0 dash}] = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs37\i0 dash}]\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\cs36\i\f6\cf13\lang1024 NonemptyClassRanges{\super\cs37\i0 noDash}\b0\i0\sub 1}]\line   = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}] {\field{\*\fldinst SYMBOL 200 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges{\super\cs37\i0 noDash}\b0\i0\sub 1}]\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 NonemptyClassRanges\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 ClassAtom{\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}\b0\i0\sub 1} {\cs32\b\f5\cf2\lang1024 -} {\cs36\i\f6\cf13\lang1024 ClassAtom{\super\cs37\i0 dash}\b0\i0\sub 2} {\cs36\i\f6\cf13\lang1024 ClassRanges}]\line   = {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 range}: {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\line              = {\cs44\i\f0\cf11\lang1024 characterRange}({\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassAtom{\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}\b0\i0\sub 1}], {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassAtom{\super\cs37\i0 dash}\b0\i0\sub 2}])\line      {\cs40\b\f0 in} {\cs45\i\f0\cf4\lang1024 range} {\field{\*\fldinst SYMBOL 200 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassRanges}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs44\i\f0\cf11\lang1024 characterRange}({\cs45\i\f0\cf4\lang1024 low}: {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}, {\cs45\i\f0\cf4\lang1024 high}: {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}) : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\line   = {\cs40\b\f0 if} |{\cs45\i\f0\cf4\lang1024 low}| \u8800\'AD 1 {\cs40\b\f0 or} |{\cs45\i\f0\cf4\lang1024 high}| \u8800\'AD 1\line      {\cs40\b\f0 then} {\cs40\b\f0 throw} {\cs43\f4\cf6\lang1024 syntaxError}\line      {\cs40\b\f0 else} {\cs40\b\f0 let} {\cs45\i\f0\cf4\lang1024 l}: {\cs42\scaps\f0\cf6\lang1024 Character} = {\cs40\b\f0 min} {\cs45\i\f0\cf4\lang1024 low};\line                {\cs45\i\f0\cf4\lang1024 h}: {\cs42\scaps\f0\cf6\lang1024 Character} = {\cs40\b\f0 min} {\cs45\i\f0\cf4\lang1024 high}\line            {\cs40\b\f0 in} {\cs40\b\f0 if} {\cs45\i\f0\cf4\lang1024 l} \u8804\'B2 {\cs45\i\f0\cf4\lang1024 h}\line                {\cs40\b\f0 then} \{{\cs45\i\f0\cf4\lang1024 l} ... {\cs45\i\f0\cf4\lang1024 h}\}\line                {\cs40\b\f0 else} {\cs40\b\f0 throw} {\cs43\f4\cf6\lang1024 syntaxError}\par\pard\plain\s5\sa30\keep\keepn\nowidctlpar\hyphpar0\level4\b\fs20\lang1033 Character Class Range Atoms\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Syntax\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 ClassCharacter\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs32\b\f5\cf2\lang1024\\} {\cs36\i\f6\cf13\lang1024 ClassEscape}\par\pard\plain\s13\fi-1440\li1800\sb120\sa120\keep\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 ClassCharacter\super\cs37\i0 dash} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 UnicodeCharacter} {\b except} {\cs32\b\f5\cf2\lang1024\\} | {\cs32\b\f5\cf2\lang1024]}\par{\cs36\i\f6\cf13\lang1024 ClassCharacter\super\cs37\i0 noDash} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 ClassCharacter\super\cs37\i0 dash} {\b except} {\cs32\b\f5\cf2\lang1024 -}\par\pard\plain\s12\fi-1440\li1800\sb120\keep\keepn\nowidctlpar\hyphpar0\outlinelevel4\fs20\lang1024{\cs36\i\f6\cf13\lang1024 ClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}\par\pard\plain\s14\fi-1260\li1800\keep\keepn\nowidctlpar\tx720\hyphpar0\fs20\lang1024\tab{\cs36\i\f6\cf13\lang1024 DecimalEscape}\par|\tab{\cs32\b\f5\cf2\lang1024 b}\par|\tab{\cs36\i\f6\cf13\lang1024 CharacterEscape}\par\pard\plain\s15\fi-1260\li1800\sa120\keep\nowidctlpar\tx720\hyphpar0\fs20\lang1024|\tab{\cs36\i\f6\cf13\lang1024 CharacterClassEscape}\par\pard\plain\s11\sb60\keep\keepn\nowidctlpar\hyphpar0\b\fs20\lang1033 Semantics\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}] : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 ClassCharacter\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}] = \{{\cs36\i\f6\cf13\lang1024 ClassCharacter\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}}\}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassAtom\super\cs38{\field{\*\fldinst SYMBOL 100 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}}} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024\\} {\cs36\i\f6\cf13\lang1024 ClassEscape}] = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassEscape}]\par\pard\plain\s20\li180\sb60\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs40\b\f0 action} {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassEscape}] : {\cs41\f0\cf6\lang1024\{{\cs42\scaps\f0\cf6\lang1024 Character}\}}\par\pard\plain\s21\li540\sa60\keep\nowidctlpar\hyphpar0\fs20\lang1024{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 DecimalEscape}]\line   = {\cs40\b\f0 if} {\cs46\f7\cf12\lang1024 EscapeValue}[{\cs36\i\f6\cf13\lang1024 DecimalEscape}] = 0\line      {\cs40\b\f0 then} \{\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7NUL\u187\'C8}\rquote\}\line      {\cs40\b\f0 else} {\cs40\b\f0 throw} {\cs43\f4\cf6\lang1024 syntaxError}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs32\b\f5\cf2\lang1024 b}] = \{\lquote{\cs32\b\f5\cf2\lang1024\cs33\b0\f0\cf9\u171\'C7BS\u187\'C8}\rquote\}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 CharacterEscape}] = \{{\cs46\f7\cf12\lang1024 CharacterValue}[{\cs36\i\f6\cf13\lang1024 CharacterEscape}]\}\par{\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 ClassEscape} {\field{\*\fldinst SYMBOL 222 \\f "Symbol" \\s 10}{\fldrslt\f3\fs20}} {\cs36\i\f6\cf13\lang1024 CharacterClassEscape}] = {\cs46\f7\cf12\lang1024 AcceptanceSet}[{\cs36\i\f6\cf13\lang1024 CharacterClassEscape}]\par}