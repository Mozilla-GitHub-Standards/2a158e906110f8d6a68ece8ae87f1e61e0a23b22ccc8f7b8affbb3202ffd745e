
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<HR><B><FONT><FONT COLOR="#008080">Forms</FONT></FONT></B>
<BR><FONT><FONT SIZE=-1>Author: <U><FONT COLOR="#3366FF"><A HREF="mailto:karnaze@netscape.com">Chris
Karnaze</A></FONT></U></FONT></FONT>
<BR>Updated: 12 Oct. 1998
<BR>
<HR>
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Overview</B></TD>
 </TR>
</TABLE>

<BR>Forms consist of the content and
layout classes supporting &lt;FORM>, &lt;INPUT>, &lt;LABEL>, &lt;BUTTON>,
&lt;SELECT>, &lt;OPTION>, &lt;OPTGROUP>, &lt;TEXTAREA>, &lt;ISINDEX>, &lt;FIELDSET>,
&lt;LEGEND> tags. The content classes have graphical representations such
as buttons, checkboxes, pull down lists,
radio buttons, etc. which are laid out and rendered by the corresponding
layout classes. The content class except for &lt;FORM> are referred to
as form controls.

<P><I>nsIFormManager</I> specifies a
manager on the layout side that coordinates activities among the various
form control layout classes. The manager is primarily responsible for submitting
the data that the user enters into the controls to a server for processing.
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Major Components</B></TD>
 </TR>
</TABLE>


<P>The various tags (see above) are
comprised of content classes (e.g. nsHTMLFormElement, nsHTMLInputElement,
etc.) and layout classes including nsFormFrame, nsFormControlFrame, nsButtonControlFrame,
nsHTMLButtonControlFrame, nsCheckBoxControlFrame, nsRadioControlFrame,
nsTextControlFrame, nsSelectControlFrame, nsFileControlFrame, nsFieldSetFrame,
nsLegendFrame.

<P>The content classes are fairly light
weight and provide basic getters and setters of their attributes. nsHTMLFormElement
implements <I>nsIForm</I> which allows for the addition of form controls
(the level 1 DOM implementation does not provide this). Each of the form
controls implements <I>nsIFormControl</I> which provides a consistent way
to treat form controls for gettting/setting their forms, getting their
types, etc.

<P>The layout classes provide general
layout behavior for forms and form controls as well as additional operations.
nsFormFrame implements <I>nsIFormManager </I>which<I> </I>specifies adding,
removing, retrieving <I>nsIFormControls</I> plus methods for responding
to events triggered by form control layout classes such as reset, submit,
and user return. nsFormFame is also referred to as the form manager. nsFormControlFrame
implements <I>nsIFormControlFrame</I> and serves as a base class class
to nsButtonControlFrame, nsCheckBoxControlFrame, nsRadioControlFrame, nsSelectControlFrame,
nsTextControlFrame. The form control layout classes implement <I>nsIFormControlFrame</I>
but don't necssarily derive from nsFormControl.

<P>Forms and form controls, and their
associated layout classes interact with other modules in a number of ways.
The html content sink creates forms and&nbsp; form controls as the html
tags are interpreted. HTMLStyleSheetImpl creates the appropriate frames
for the forms and form controls as the layout engine prepares for layout.
The form and form control layout classes render and handle events using
the view system together with the widget library.

<P>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Implementation</B></TD>
 </TR>
</TABLE>

<BR>nsFormFrame has responsibility to
(1) responds to a submit button press and submit the form control data
to a server, (2) respond to a reset button press and reset all of the form
controls to their initial values, and (3) manage radio button groups so
that only one button in the group is active at any given time.

<P><I>nsIFormControlFrame</I>
defines <I>GetType</I>, <I>GetName</I>, <I>MouseClicked</I>, <I>Reset</I>,
<I>IsSuccessful</I>, <I>GetMaxNumValues</I>, <I>GetNamesValues</I>. <I>GetNamesValues</I>
gathers the name value pairs (nsSelectControlFrames and nsButtonControlFrames
representing an image submit button can have multiple pairs). <I>MouseClicked</I>
provides a hook to do additional processing if necessary; for example,
a submit button will notify the form manager to submit data. <I>IsSuccessful</I>
indicates whether submission for a control should occur.

<P>nsFormControlFrame adds additional
methods including <I>PostCreateWidget,</I> <I>CalculateSize</I>, <I>GetTextSize</I>,
<I>GetWidgetInitData. GetWidgetInitData </I>gathers data which the view
system will use to initialize a widget. <I>PostCreateWidget</I> allows
for processing after the widget is created; for example, initial values
can be used to set the widget to the appropriate state. <I>CalculateSize
</I>is a static method that determines the size of a control based on CSS
settings, local size attributes, attribute values that may affect size,
and default values. It is general enough to be used for nearly all of the
widget based form controls. <I>GetTextSize</I> calculates the size of a
string based on CSS.

<P>Many form control frames have their
own view which contains a widget from the cross-platform widget library.
There are exceptions; a hidden element, represented as nsButtonControlFrame,
does not have its own view; an nsFileControlFrame does not have its own
view but contains an nsTextControlFrame and an nsButtonControl Frame each
having its own view; an image submit button, represented as nsButtonControlFrame,
does not have its own view; nsHTMLButtonControlFrame has its own view but
the view does not have a widget; nsFieldSetControlFrame and nsLegendControlFrame
do not have their own views.
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Dependencies</B></TD>
 </TR>
</TABLE>

<BR>Forms are dependent on many other
modules including xpcom, netlib, layout, style, gfx, view, widget, dom/javascript.

<P>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Roadmap</B></TD>
 </TR>
</TABLE>

<BR>In May, most of html 3.2 features
were completed except for internationalization support. There was be a
break in the schedule during the summer to allow dependencies to catch
up and to work on frames. In October, the remaining areas including html
4 features will be completed. Other integration changes due to dependencies
may likely continue beyond that time.
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Known Bugs</B></TD>
 </TR>
</TABLE>

<BR>There are existing bugs in bugzilla,
but the most serious ones include limitations of the underlying widget
set and may not be addressed in the first release.
<BR>
<TABLE COLS=1 WIDTH="70%" >
 <TR BGCOLOR="#FFFFCC">
  <TD><B>Schedule</B></TD>
 </TR>
</TABLE>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified January 14,  1999</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/newlayout/doc/forms.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
