<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

                   
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <title>Draft Specification: Update Notifications</title>
    
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">




<div align="Center">
<h2>Draft Specification</h2>
<h1>Update Notifications</h1>
     Last updated: 2002-01-15<br>
<br>
     Original authors:<br>
     Dan Veditz &lt;dveditz@netscape.com&gt;<br>
     Kevin Murray &lt;kmurray@netscape.com&gt;<br>
<br>
     Contributors:<br>
     Todd Pringle &lt;tpringle@netscape.com&gt;<br>
     Samir Gehani &lt;sgehani@netscape.com&gt;<br>
</div>
<hr width="100%" size="2">
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#99ff99">
  <tbody>
    <tr>
      <td valign="Top">
      <h2>Overview</h2>
      </td>
    </tr>
  </tbody>
</table>
     This document is a proposal for the implementation of the planned feature
  called "Update Notifications." It is not intended to replace the need for
  a more detailed User Experience Specification. <br>
<br>
<table cellpadding="0" cellspacing="0" border="0" width="100%">
  <tbody>
    <tr>
      <td valign="Top" bgcolor="#99ff99">
      <h2>Key Considerations</h2>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li> We will provide a means for the user to gain access to timely client
  availability, but not at a granular. component level. We will provide update
  information applicable only to the entire client application and not provide
  info on third party components or plugins (although this may come about
in  a future version of this feature).</li>
  <li> The client currently exhausts many system resources to launch the
application. With this in mind, we will not degrade startup performance to
implement this feature.</li>
  <li> We will provide a way for the user to opt out of notifications, but
  will deliver client software update notifications "on" by default.</li>
</ul>
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#99ff99">
  <tbody>
    <tr>
      <td valign="Top">
      <h2>Objectives</h2>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li> Provide a flexible, non-invasive way for users to learn of the availability 
  of new versions of the client.</li>
</ul>
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#99ff99">
  <tbody>
    <tr>
      <td valign="Top">
      <h2>Implementation: Back End</h2>
      </td>
    </tr>
  </tbody>
</table>
     We will provide a means for the client to "poll" a <a href="updates.rdf.txt">served RDF file</a> on
 mozilla.org  (or netscape.com server) that contains the following information:
     
<ul>
  <li> Version registry keys</li>
  <li> Version number</li>
  <li> URL to get update</li>
  <li> Name of product update</li>
</ul>

<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#99ff99">
  <tbody>
    <tr>
      <td valign="Top">
      <h2>Implementation: Front End<br>
      </h2>
      </td>
    </tr>
  </tbody>
</table>
  When the user first starts the client, no agent or .exe should initiate 
 for Update Notifications. We will implement a "timer" that executes within 
 the product after five minutes have elapsed. After five minutes, the client 
 will poll a updates database provider (URL) to read an RDF file (above) that
 contains  information on whether a new version of the client is available. 
 Should a new version be available, the following scenario takes place:<br>
<br>
<div align="Center"><img src="update-available.jpg" alt="[Update available dialog]" width="390" height="116" align="Center">
<br>
<br>
<div align="Left">
<ol>
  <li>User chooses "Get It Now": a new browser window is opened pointing
  to the URL provided in the afore mentioned RDF updates database.</li>
  <li>User chooses "No Thanks": the dialog dismisses and the check 
  for a new version is not performed until the next week or month (depending
  on the user-set frequency for whic preferences are exposed as detailed
below).</li>
  <li>User checks "Don't ask me this again": update notifications are disabled.
  &nbsp;The feature can be enabled again using the preferences exposed as
detailed  below.</li>
</ol>
    The preference to entirely disable (or reenable) update notifications 
and  the frequency to check for updates shall be added to the "Software Installation"
  preference panel:<br>
<br>
<div align="Center"><img src="update-notification-prefs.jpg" alt="[Update notifications preferences in the Software Installation panel]" width="560" height="460">
<br>
</div>
</div>
</div>
<br>
<br>
<table cellpadding="2" cellspacing="2" border="1" width="100%">
  <tbody>
    <tr bgcolor="#99ff99">
      <td><b>Preference Name</b></td>
      <td><b>Preference Type</b></td>
      <td><b>Preference Function</b></td>
    </tr>

    <tr>
      <td><code>update_notifications.enabled</code></td>
      <td><code>boolean</code></td>
      <td>Enable or disable update notifications: 
          <ul>
            <li>set to true when the "Don't ask me this again" checkbox is 
                checked on the update notification alert</li>
            <li>reflects the "Check for updates" checkbox in the "Advanced | 
                Software Installation" preferences panel</li>
          </ul>
      </td>
    </tr>

    <tr>
      <td><code>update_notifications.provider.0.datasource</code></td>
      <td><code>string</code></td>
      <td>The URI of the datasource that contains information on the latest
          update for this software.  This preference is useful in testing when
          one wants to override the default URI by setting it in a profile's
          prefs.js to a valid <a href="updates.rdf.txt">updates.rdf</a> 
          datasource as described above.
      </td>
    </tr>

    <tr>
      <td><code>update_notifications.provider.0.frequency</code></td>
      <td><code>integer</code></td>
      <td>The frequency with which to check for updates: specified as number 
          of days.  The "Advanced | Software Installation" preference panel
          exposes two frequencies: weekly (sets this preference to 7) and 
          monthly (sets this preference to 30).
      </td>
    </tr>

    <tr>
      <td><code>update_notifications.provider.0.last_checked</code></td>
      <td><code>integer</code></td>
      <td>The timestamp when the datasource containing update information for 
          this software was last polled.  The timestamp is stored as the number
          of milliseconds from the UNIX epoch (January 1, 1970).
      </td>
    </tr>

    <tr>
      <td><code>update_notifications.provider.0.name</code></td>
      <td><code>string</code></td>
      <td><font color="red">Currently unused but reserved for future use.</font>
          In the future if this feature is extended to a more full blown 
          subscription tracking mechanism then provider names can be specified 
          on a per index basis using the 
          <code>update_notifications.provider.[INDEX].name</code> preference 
          scheme.
      </td>
    </tr>
  </tbody>
</table>
<br>
Note: the <code>update_notifications.provider.[INDEX].*</code> scheme has been
devised keeping in mind extensibility of the update-notifications feature to a
more full blown subscription tracking mechanism; hence the complex-seeming 
scheme.




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified December 26,  2004</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/xpapps/updates/spec.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
