<html>
<head>
    <title>Law's Mach V Line Items</title>
</head>
<body>
    <center>
        <b><big>Law's Mach V Line Items</big></b><br/>
        <em>Last updated September 21, 2001</em>
    </center>
    <hr>
    <h1>Summary</h1>
    <table border="1">
        <tr>
            <th width="10%">Line Item</th>
            <th width="10%">SWAG</th>
            <th width="*">Description</th>
        </tr>
        <tr>
            <td align="center">B.5</td>
            <td align="center">24 days</td>
            <td>
                <b><a href="#B5">Improve Helper Application Management</a></b>
                <ul>
                    <li>Properly reflect registered helper apps
                    <li>Automatically import settings from 4.x or OS where appropriate
                    <li>Reflect user decisions from download dialog
                    <li>Fix bugs
                </ul>
            </td>
        </tr>
        <tr>
            <td align="center">G.1</td>
            <td align="center">4 days</td>
            <td>
                <b><a href="#G1">Improve the "Plug-in Finder" Experience</a></b>
                <ul>
                    <li>Need to make it easier to find and install plug-ins when needed.
                        Need help probably from Netscape.com side.
                </ul>
            </td>
        </tr>
        <tr>
            <td align="center">G.2</td>
            <td align="center">5 days</td>
            <td>
                <b><a href="#G2">Polish Reveal Location Functionality</a></b>
                <ul>
                    <li>Improve wording ("Show File Location" for instance).
                    <li>Highlight downloaded file in File Manager
                </ul>
            </td>
        </tr>
        <tr>
            <td align="center">G.3</td>
            <td align="center">10 days</td>
            <td>
                <b><a href="#G3">Polish Unknown Content Type Dialog/Experience</a></b>
                <ul>
                    <li>Need to make it easier for users to understand how to open files with
                        helper apps, set default handlers, not be asked about
                        how to handle a file repeatedly, and change handling preferences.
                    <li>Should have the ability to change handling prefs such as "always ask me"
                        on an individual mime type basis in helper apps pref panel.
                    <li>Need reworked spec., already much improved in 6.1.
                </ul>
            </td>
        </tr>
        <tr>
            <td align="center">G.4</td>
            <td align="center">2 days</td>
            <td>
                <b><a href="#G4">Better Windows Integration</a></b>
                <ul>
                    <li>I.e. default save directory for downloaded files should be "My Documents"
                        on Windows.
                    <li>Should remember place document was last saved and open file picker to
                        that directory on subsequent downloads.
                </ul>
            </td>
        </tr>
        <tr>
            <td align="center">G.5</td>
            <td align="center">3 days</td>
            <td>
                <b><a href="#G5">Enable Users to Automatically Launch Executables</a></b>
                <ul>
                    <li>Should incorporate a warning dialog into the process either as a
                        separate dialog after selecting "Launch," or by incorporating warning
                        text into the existing dialog.
                </ul>
            </td>
        </tr>
        <tr>
            <th colspan="3" align="center">Printing Line Items</th>
        </tr>
        <tr>
            <td align="center">A.1</td>
            <td align="center">15 days</td>
            <td>
                <b><a href="#P-A1">Print Preview (1 of 2, BE and FE)</a></b>
                <ul>
                    <li>Print Preview Option in File Menu.
                    <li>Functionality that includes:
                        <ul>
                            <li>Access from Preview screen to Print and Page Setup.
                            <li>Page Advance - back and forth, single page and beginning/end.
                        </ul>
                </ul>
            </td>
        </tr>
        <tr>
            <td align="center">A.2</td>
            <td align="center">5 days</td>
            <td>
                <b><a href="#P-A2">Page Setup (BE and FE)</a></b>
                <ul>
                    <li>Page Setup Option in File Menu.
                    <li>Functionality that includes:
                        <ul>
                            <li>Customizable Header/Footer
                            <li>Page Numbering
                            <li>Ability to specify Margin settings (tbd - should contents reflow when margins are changed or not?)
                            <li>Page orientation (portrait/landscape)
                            <li>Frame page choices:
                                <ul>
                                    <li>Print as laid out on screen
                                    <li>print only selected frame
                                    <li>print all frames individually
                                </ul>
                        </ul>
                </ul>
            </td>
        </tr>
        <tr>
            <td align="center">A.3</td>
            <td align="center">2 days</td>
            <td>
                <b><a href="#P-A3">Fit to Page Print Option (BE and FE)</a></b>
                <ul>
                    <li>Ability to force a web page to fit on a specified number of printed
                        pages (and preview this)
                    <li>Ability to force oversize pages (such as tables) to not have content
                        cut off/printed on separate page (by default)
                </ul>
            </td>
        </tr>
        </td>
            <td align="center">A.4</td>
            <td align="center">5 days</td>
            <td>
                <b><a href="#P-A4">Print Preview (2 of 2, BE and FE)</a></b>
                <ul>
                    <li>Ability to zoom in/zoom out in Print Preview mode
                    <li>Ability to select zoom %age from a dropdown (see IE)
                    <li>Ability to choose frame page printing options (see A.2)
                        from Print Preview Screen (new in IE 6)
                </ul>
            </td>
        </tr>
    </table>
    <hr>
    <h1 id="B5">Improve Helper Application Management</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>This set of features relate to the "Helper Applications" preference panel.
            <p>The "features" listed under this line item can be categorized as follows:
                <ul>
                    <li>Helper Applications Pref panel feature(s)
                        <p>Specifically, "reflecting" OS-defined helper applications.
                    <li>Profile Manager feature(s)
                        <p>Specifically, "importing" settings from 4.x.
                    <li>Making it work the way it is supposed to
                        <p>Specifically, "reflecting" registered helper apps and user
                           decisions, and "Fix bugs."
                </ul>
            <p>Re: Making it work the way it is supposed to
            <p>This is bug fixing and not addressed by this plan.
            <p>Re: Automatically import settings from 4.x:
            <p>The only place this can happen is when migrating a 4.x profile, or, optionally when
               creating a new profile.  It can apply in the latter case because the Communicator
               settings are actually stored on a per-machine (or per-Windows-user) basis so we
               could extract that information for every new profile, not just ones explicitly
               "copied" from a specific Communicator profile.
            <p>Regardless, this is a Profile Manager feature and will not be addressed by this
               plan.
            <p>Re: Helper Applications Pref Panel feature(s)
            <p>The current implementation of this panel is based on the mimetypes.rdf file,
               which contains only browser-specific helper application entries.  Currently,
               this information is manipulated as a generic RDF datasource, by code in 3
               places:
                <ul>
                    <li>the URILoader
                    <li>the Helper Application prefs panel (and related dialogs)
                    <li>the "download dialog", aka "unknown content dialog" (nsIHelperAppLauncherDialog
                        implementation)
                </ul>
            <p>To merge the OS-defined settings, we need to create a new RDF data source
               that encapsulates the OS settings (requires separate implementation for each
               platform), and another datasource that merges that new one with current mimeTypes.rdf
               data.
            <p>This feature is the only work addressed by this plan (and the detailed Task and
               Issues lists, below).
        <h2>Tasks</h2>
            <ol>
                <li>Implement new RDF data source that reflects OS settings for helper
                    applications.  Requires mostly platform-specific code.  The plan is
                    to provide this capability on Win32 and Mac platforms only.
                    <b>15 days</b>
                    <p>Broken down into subtasks:
                        <ol>
                            <li>Define new RDF datasource interface and implement
                                shared (platform-independent) portion, along with
                                requisite build-system magic to build alternate
                                implementations for each platform.
                                <b>5 days</b>
                            <li>Do Win32 implementation of this interface.
                                <b>5 days</b>
                            <li>Do Mac implementation of this interface.
                                <b>5 days</b>
                        </ol>
                <li>Implement new RDF data source that will "merge" the OS-settings
                    datasource with the existing mimeTypes.rdf data source.  More
                    precisely, modify code that uses the existing "simple" RDF
                    datasource so that it uses a "composite" datasource consisting
                    of the new datasource described above, and, the existing mimeTypes.rdf
                    based datasource.
                    <b>9 days</b>
                    <p>Broken down into subtasks:
                        <ol>
                            <li>Modify .xul and .js code for pref panel to use the composite
                                datasource.
                                <b>3 days</b>
                            <li>Modify C++ code in uriloader and uriloader\exthandler to
                                use composite data source.
                                <b>3 days</b>
                            <li>Modify .js code in nsHelperAppDialog to use new composite
                                datasource
                                <b>3 days</b>
                        </ol>
            </ol>
        <h2>Issues</h2>
            <ul>
                <li>What about plug-ins?  Communicator included plug-ins in the helper app
                    list and by rights Mozilla should do likewise (there are bugs on that,
                    I believe).  There is a separate 
                    <a href="TBD">line item</a> for Navigator to show plugins in the
                    helper app pref panel.  That support should be implemented as an
                    RDF datasource and then "composited" with the two described here.
                    <p>The additional work here to deal with that additional datasource:
                        <ol>
                            <li>Add the plugins datasource to the composite datasource.
                                <b>1 day</b>
                            <li>UI changes to handle plugins (e.g., the user cannot
                                change the mimetypes for plugins, or indicate that
                                they should be "asked").
                                <b>2 days</b>
                        </ol>
                <li>The Mac implementation of the "OS helper app" data source will
                    very likely require some expertise on that platform.  There is
                    already a wrapper of sorts for the Mac Internet Config settings
                    and if the data source can be implemented on top of that, then
                    the specific Mac expertise required will be much reduced.
                <li>Are there usability issues related to showing the user too many
                    file types?  On Windows, under Communicator, I see 200+ file types
                    listed.
                <li>What do we use for the "OS settings" on Linux?  This plan does not
                    include showing such helper applications on platforms other than
                    Win32 and Mac.
            </ul>
        <h2>Links</h2>
            <p><a href="http://bugzilla.mozilla.org/showdependencytree.cgi?id=78106">
                Helper app meta bug dependency tree</a>
    <hr>
    <h1 id="G1">Improve the "Plug-in Finder" Experience</h1>
        <p>
        <h2>Detailed Description</h2>
                <p>This item pertains to the  behavior of the "default plug-in" that gets used
                   for &lt;embed&gt; tags for which no plug-in can be found.  Gecko/embedding
                   plans to enhance that default plugin with support that will automatically
                   download and install a number of popular plugins.  That will be
                   accomplished by tying into support provided by servers at netscape.com (or
                   somewhere else in aol.com).
                <p>That feature will not require any "front end" work aside from the UI that
                   the default-plugin/plugin-finder-plugin provides.
                <p>There is one bit of related "front end" work that needs to be done:  Tie
                   into that same service when appropriate content types are encountered
                   elsewhere.  That is, in contexts aside from use with &lt;embed&gt; or
                   &lt;object&gt; tags.  For example, this will apply in cases where the user
                   clicks on a link to a stand-alone Acrobat file.
                <p>This triggers display of the "unknown content" dialog (aka "helper app
                   launcher dialog") where we currently offer the option to launch an already
                   installed application, or to save the content locally.  We need to add
                   a third option: to find a plug-in that can handle the content.
                <p>Choosing that option would then trigger the same thing that happens when
                   such content is encountered within a "plugin" (&lt;embed&gt; tag).
        <h2>Tasks</h2>
            <ol>
                <li>Add third option to "helper app launcher" dialog: "Look for Plug-in."
                    <b>1 day</b>
                <li>Add code to nsHelperAppDialog.js to implement that option.  This will
                    be done via calling into code shared with, and already in place in, the
                    default plugin.
                    <b>3 days</b>
            </ol>
        <h2>Issues</h2>
        <h2>Links</h2>
    <hr>
    <h1 id="G2">Polish Reveal Location Functionality</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>The first sub-item is trivial, of course (provided we can agree on
               the precise wording).  There is a potential problem if the button
               would grow too wide (thus making the dialog wider).
            <p>The second sub-item would appear to be more work, and require
               independent Mac and Windows implementations (see below under "Issues" for
               discussion of the situation on Linux).  I have taken a glance at the
               Win32 shell APIs and it seems that selecting a file in a folder is
               possible.  The Mac will likely require a bit less effort because the Finder
               APIs are better/simpler.  However, Mac OS X may require yet another
               implementation that will be rolled into this subtask.
               <h2>Tasks</h2>
            <ol>
                <li>Modify text for button.
                    <b>&lt;1 day</b>
                <li>Update Windows implementation of
                    nsILocalFile::Reveal to select the file.
                    <b>2 days</b>
                <li>Likewise for the Mac implementation of that method.
                    <b>2 days</b>
            </ol>
        <h2>Issues</h2>
            <ul>
                <li>Currently we do not support this feature at all on Linux (see link
                    to bug, below).
            </ul>
        <h2>Links</h2>
            <ul>
                <li><a href="http://bugzilla.mozilla.org/show_bug.cgi?id=67001">
                    Bug: need unix implementation of nsILocalFile::Launch and
                    nsILocalFile::Reveal [Launch File & Reveal Location buttons]</a>
            </ul>
    <hr>
    <h1 id="G3">Polish Unknown Content Type Dialog/Experience</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>I believe we should use this item to encompass a more
               substantial overhaul of the nsIMIMEService and nsIMIMEInfo
               implementations.
            <p>Currently, we have (at least) 3 sets of code that uses low-level
               RDF to manipulate the mimeTypes.rdf file that sits behind the
               "Unknown Content Type Dialog" and the Helper Applications pref
               panel.  It would be better to move that code into the nsIMIMEInfo
               so that it can be re-used.
            <p>Further, <a href="#B5">Line Item B5, "Improve Helper Application Management"</a>
               requires us to encapsulate the OS settings for "mime types" in a new RDF
               data source.  That data source replicates much of the function implemented in
               parts of the URI loader.  The URI loader should be modified to take advantage
               of the new data source.
            <p>Given that, the next step is to do the "polish."  The main thing that needs to
               be done is to "fix" the Edit and New Type dialogs so that they are consistent
               in terms of the fields they display and the way they behave.  Each has some
               flaws, currently (e.g., New Type doesn't let you turn off the "Always ask me",
               "Edit type" doesn't let you change the mime type).  A single dialog can
               suffice, with some code to deal with the separate "modes."
            <p>That would facilitate the generic "make it easier" requirement(s).
            <p>We will not address the specific requirement that users be able to change
               "always ask me" on a per-mimeType basis on the pref panel.  That requires
               some major expenditure of effort to extend the dialog and the benefit seems
               negligible.  There is a prominent Edit button there that opens a dialog with
               the checkbox on it.  When the user <em>is</em> asked, there is a checkbox
               that enables them to specify "don't ask me any more."  I suspect that what
               prompted this "requirement" was the lack of this capability in Netscape6.0/6.01.
               If still lacking, that is simply a bug.
        <h2>Tasks</h2>
            <ol>
                <li>Extend nsIMIMEInfo with new add/replace methods and encapsulate
                    the current mimeTypes.rdf implementation behind those methods.
                    <b>4 days</b>
                <li>Implement new, combined "Edit"/"New Type" helper app dialogs (.xul and
                    .js) that use the new nsIMIMEInfo methods.
                    <b>4 days</b>
                <li>Modify code that uses old dialogs to use the new, combined dialog.
                    <b>2 days</b>
            </ol>
        <h2>Issues</h2>
            <ul>
                <li>This work on the pref panel will interact with other tasks that will
                    require changes to that code.  See
                    <a href="#B5">"Improve Helper Application Management"</a>, above.
            </ul>
        <h2>Links</h2>
    <hr>
    <h1 id="G4">Better Windows Integration</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>The second sub-item is already implemented (modulo bugs; I did verify that
               it is still working OK on Windows in 6.1).
            <p>The first sub-item could be implemented in a number of ways.  The simplest
               is probably to detect when the "download directory path" pref is empty and
               then pick a reasonable default.  We could probably pick a reasonable default
               on Mac and Linux, too, while we're at it.
        <h2>Tasks</h2>
            <ol>
                <li>Modify code in 
                    <a href="http://lxr.mozilla.org/seamonkey/source/embedding/components/ui/helperAppDlg/nsHelperAppDlg.js#121">
                    "helper app dialog"
                    </a>
                    as described above.
                    <b>1 day</b>
                <li>Modify code in
                    <a href="http://lxr.mozilla.org/seamonkey/source/xpfe/components/xfer/src/nsStreamTransfer.cpp#235">
                    "stream transfer component"
                    </a>
                    as described above.
                    <b>1 day</b>
            </ol>
        <h2>Issues</h2>
            <ul>
                <li>This line item requires some platform-specific code.  We might be able to
                    organize that so that the front-end uses a generic interface (e.g., directory
                    services) that has the platform-specific code.  That implementation option
                    will not affect the effort involved, though.
            </ul>
        <h2>Links</h2>
    <hr>
    <h1 id="G5">Enable Users to Automatically Launch Executables</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>I think it is preferable to pose an extra dialog in this case (rather than
               add wording to the current dialog that could be too easily missed by the user).
            <p>The implementation should be easy enough.  Currently, the code checks that the
               file and disables "Launch" if it is executable.  Instead, we'd just wire that
               button so that it opened another "Are you sure?" dialog whose "Yes" button did
               the launch.
            <p>There is one other situation: clicking on a link to an executable.  Currently,
               that goes straight to the file picker (and then the download progress dialog).
               If we're going to permit launching applications, we should also permit that to
               happen "directly" (i.e., download and run from temporary location without
               prompting the user for a destination).  This change would require a tweak to
               the code that currently bypasses the "unknown content type dialog" and the
               insertion of similar "verify before launch" logic, as described above, in
               that dialog (at the point where the user chooses to "open" the content).
        <h2>Tasks</h2>
            <ol>
                <li>Implement new "Launch dialog" (basically, a simple prompt).
                    <b>1 day</b>
                <li>Change
                    download progress dialog
                    so that "Launch" opens this new dialog, 
                    so that it doesn't automagically make the "Save to Disk" decision
                    for the user, and,
                    <b>1 day</b>
                    so that it puts up the confirmation dialog before "opening" executable
                    content.
                    <b>2 days</b>
            </ol>
        <h2>Issues</h2>
            <ul>
                <li>Need to get signoff on this from other interested parties (i.e., "Security"); I
                    know Mitch Stoltz expressed some misgivings about such warning dialogs
                    when we put the current behavior in place in 6.1.  There there was this new
                    "nimba" virus.
            </ul>
        <h2>Links</h2>
    <hr>
    <h1 id="P-A1">Print Preview (1 of 2, BE and FE)</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>Adding the "Print Preview" menu choice, by itself, is trivial.  The menu choice
               will be enabled/disabled in parallel with the existing Print... menu choice.  It
               is unclear whether this menu choice will be available only in Navigator or also
               in Mail/News, though.  The assumption here is that we're adding it to Navigator only.
            <p>That menu choice, when enabled, will either open a new "Print Preview" window, or,
               change the current window to "print preview mode."  The former appears at this time
			   to be vastly simpler to implement and is the course we plan to take.
            <p>The new (or existing window), is put in "print preview mode" 
			   by QI'ing the nsIWebBrowser (or some other object?) for the nsIWebBrowserPrint
               interface and calling that interface's ShowPrintPreview method.  That method
               returns an nsIPrintPreviewNavigation interface, which then provides the methods
               that advance through pages, etc.
            <p>Unfortunately, that's all in theory.  nsIWebBrowserPrint doess not currently
               declare the method ShowPrintPreview.  It appears that this was supposed to be
               fixed per
               <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=72691">bug 72691</a>
               but that bug was closed (perhaps erroneously).  So the method needs to be
               added, and more importantly, implemented.  That would seem to be a "BE" (back end)
               task.
            <p>Once the proper interfaces are in place and implemented, then it should be
               relatively straightforward to implement the new window.  We will implement that
			   window using any simplifying assumptions that can materially reduce the work
			   involved, while not materially reducing the value to the user.  For example, it may 
			   turn out to be necessary to make the Print Preview window "modal" to the browser
			   window from which it is opened.  E.g, if it turns out that subsequent navigation 
			   on that parent window raises significant stability issues.
        <h2>Tasks</h2>
            <ul>
				<li>Add "Print Preview..." menu item.  <b>1 day</b>
				<li>Implement new "Print Preview" UI (.xul/.css/.dtd) and supporting
				    code (.js).  This will be a top level window more akin to something
					like Navigator rather than a simple dialog (such as the Print Settings
					dialog discussed below).  The contents of that window require far less
					"FE code" than Navigator, because it has much less, and simpler, chrome.
					This estimate is slightly conservative because of the uncertainties of
					implementing such a window and the untried nature of the underlying back-end
					support.
					<b>14 days</b>
					<p>This large task is broken down into the following subtasks:
						<ol>
							<li>Prototype Print Preview to resolve high-order issues re:
                                modality, BE interactions, platform-specific issues, etc.
                                <b>4 days</b>
							<li>Implement "bare" Print Preview window sans toolbar.
                                <b>5 days</b>
							<li>Implement toolbar and toolbar widget UI and backing
							    code.
                                <b>5 days</b>
						</ol>
            </ul>
        <h2>Issues</h2>
            <ul>
                <li>Navigator-only?  Mail/News (probably not)?  Composer (probably)?
                    Other windows (probably not)?  This plan is for Navigator only.
                <li>Need to synchronize with back-end effort/schedule.  This line item
				    cannot be implemented by the "front end" on the current code base.
            </ul>
        <h2>Links</h2>
    <hr>
    <h1 id="P-A2">Page Setup (BE and FE)</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>This feature involves adding a new "Page Setup..." choice to the main menu
               under File, at the beginning of the section with Print... (and the new Print
               Preview...).  This menu choice, when selected, will open a modal "Page Setup"
               dialog that will prompt for page printing options:
                <ul>
                    <li>Page header
                    <li>Page footer
                    <li>Page numbering
                    <li>Margins
                    <li>Orientation
                    <li>Frame printing options
                </ul>
            <p>These options correspond to the various methods and attributes of the    
               <a href="http://lxr.mozilla.org/seamonkey/source/gfx/idl/nsIPrintOptions.idl">
               nsIPrintOptions interface.
               </a> The implementation will simply pre-fill the dialog from the current
               print options, and after the user selects Ok, will set the new option
               values back into that object (it is a service).
        <h2>Tasks</h2>
            <ol>
                <li>Add new "Page Setup..." menu choice to Navigator menu.  <b>1 day</b>
                <li>Write new "page setup dialog" xul/js. <b>4 days</b>
            </ol>
        <h2>Issues</h2>
            <ul>
                <li>The various lower-level (back end) printing interfaces seem to be in a
                    bit of flux (e.g., there's also a nsIPrintSettings interface that looks
                    to be identical to nsIPrintOptions and I don't know what that's about).
            </ul>
        <h2>Links</h2>
    <hr>
    <h1 id="P-A3">Fit to Page Print Option (BE and FE)</h1>
        <p>
        <h2>Detailed Description</h2>
            <p>One of the difficulties here is deciding how/where to surface this feature in the
               UI.  It seems that there are only 2 reasonable places to do so:
                <ul>
                    <li>In the ultimate native print dialog.
                        <p>This is where the user currently 
                        specifies what to print (all pages, certain pages, selection).  We
                        should add another section to the dialog (note that we are already adding the
                        "print selection" stuff) with a checkbox and text input labelled "compress
                        printed material to fill N pages" (or equivalent).  The native dialog is
                        currently part of the "back end" (BE) so this plan will not address adding
                        this feature.
                    <li>In the new Print Preview window.
                        <p>The user is most likely to want to use this feature when previewing the
                        print output.  That's because it is difficult prior to that to know how many
                        pages the selected material will take to print without it being compressed.
                        In addition, the user will certainly want to see how the material will look
                        after being compressed to the specified number of pages.
                </ul>
            <p>So this plan is restricted to addressing only this incremental feature/add-on to
               the Print Preview window <a href="#P-A1">discussed above.</a>  This also means that
               the work described here cannot be done prior to completion of much of the work
               described there.
            <p>To implement this, the nsIPrintPreviewNavigation interface will need to be enhanced
               with methods/attributes that can be used to specify how many pages the printed
               material should span.  This plan assumes that method (or methods) are in place.
        <h2>Tasks</h2>
            <ol>
                <li>Add "Fit to: N pages" widget to toolbar at top of Print Preview window and write
                    backing code that fills this widget and transfers changes via
                    nsIPrintPreviewNavigation interface.  <b>2 days</b>
            </ol>
        <h2>Issues</h2>
            <ul>
                <li>Dependencies on BE changes.
            </ul>
        <h2>Links</h2>
            <ul>
                <li><a href="TBD">Corresponding BE engineering plan</a>
            </ul>
    <hr>
    <h1 id="P-A4">Print Preview (2 of 2, BE and FE)</h1>
        <p>
        <h2>Detailed Description</h2>
			<p>re: Zooming in Print Preview...
            <p>The following is based on the following presumptions:
                <ul>
                    <li>That similar zooming in and out of web pages works.  This feature is
                        discussed <a href="">here.</a>
                    <li>That this zooming takes effect even while the nsIWebBrowser/nsIWebBrowserPrint
                        object is in "print preview" mode.  More specifically, the plan is for the
                        Print Preview window to QI from the nsIPrintPreviewNavigation interface to
                        the appropriate interface to do the zooming.
                </ul>
            <p>This means that implementing this feature will be relatively straightforward.
			<p>re: Frame printing options in print preview...
			<p>The options are already offered via the nsIPrintSetting interface so this feature should
			   just require front-end work.
        <h2>Tasks</h2>
            <ol>
                <li>Add to Print Preview toolbar:
					<ul>
						<li>"Zoom in" and "Zoom out" graphic buttons,
						<li>a "Zoom level" selection widget, and 
						<li>a "Frame print options"dropdown widget.  
					</ul>
					<p><b>2 days</b>
                <li>Add supporting JavaScript code to the Print Preview window to wire up those widgets
                    to the underlying interfaces/objects.  <b>3 days</b>
            </ol>
        <h2>Issues</h2>
			<ul>
				<li>Dependent on new "zoom" capabilities in Gecko.
				<li>Dependent on those capabilities being supported in Print Preview mode.
					<p>Note that this greatly magnifies the risk since it basically depends not
					   only on the two new features being implemented, but on them working
					   <b>together</b>.
			</ul>
        <h2>Links</h2>
</body>
</html>
